/*! For license information please see Grammarly-gDocsEarlyInjectedCs.js.LICENSE.txt */
!function(){var e={62269:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0;var n={prod:"grammarly.com",preprod:"ppgr.io",qa:"qagr.io"};t.config=function(e){var t=n[e];return{url:{properties:"https://properties."+t,treatment:"https://treatment."+t,gates:"https://gates."+t}}}},43693:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Experiment=void 0;var n=function(){function e(e,t){this.name=e,this._experiences=t}return Object.defineProperty(e.prototype,"experiences",{get:function(){return Object.fromEntries(this._experiences.map((function(e){return[e,e]})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"experiencesArray",{get:function(){return this._experiences},enumerable:!1,configurable:!0}),e}();t.Experiment=n},54936:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExperimentClient=void 0;var s=n(54391),o=n(45052),a=n(48782),c=function(e,t,n,c,l){var u=this;void 0===l&&(l={}),this._treatmentService=e,this._experiments=t,this._gatesService=n,this._gates=c,this._config=l,this._experimentTreatments=new Map,this._gateTreatments=new Map,this._initialFetched=!1,this.setPrefetchedTreatments=function(e){if(u._startRefreshIfNeeded(),!o.validateTreatmentsWithType(e))throw new Error("Not valid treatments");u._updateTreatmentForExpAndGates(e)},this._updateTreatmentForExpAndGates=function(e){u._treatmentService.refresh&&u._treatmentService.refresh(),u._experimentTreatments=new Map(e.filter((function(e){return e.type===a.ExperimentType.experiment})).map((function(e){return[e.experimentName,e]}))),u._gateTreatments=new Map(e.filter((function(e){return e.type===a.ExperimentType.gate})).map((function(e){return[e.experimentName,e]})))},this.fetchTreatments=function(e){return void 0===e&&(e={}),r(u,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return this._startRefreshIfNeeded(),[4,this._fetchTreatments(e.clearCacheOnError)];case 1:return t.sent(),[2]}}))}))},this._fetchTreatments=function(e){return r(u,void 0,void 0,(function(){var t,n,r,s,o,a,c;return i(this,(function(i){switch(i.label){case 0:t=null,n=null,i.label=1;case 1:return i.trys.push([1,3,,4]),r=this._experiments.concat(this._gates),[4,this._treatmentService.getTreatment(r.map((function(e){return e.name})))];case 2:return t=i.sent(),[3,4];case 3:return s=i.sent(),n=s,e&&this._experimentTreatments.clear(),[3,4];case 4:if(t)return this._updateTreatmentForExpAndGates(t),[2];o=null,a=null,i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this._gatesService.getTreatment(this._gates.map((function(e){return e.name})))];case 6:return o=i.sent(),[3,8];case 7:return c=i.sent(),a=c,e&&this._gateTreatments.clear(),[3,8];case 8:if(o&&(this._gateTreatments=new Map(o.map((function(e){return[e.experimentName,e]})))),a||n)throw a||n;return[2]}}))}))},this._startRefreshIfNeeded=function(){u._initialFetched||(u._config.ttl&&(u._refreshTreatment=setInterval((function(){return r(u,void 0,void 0,(function(){var e,t=this;return i(this,(function(n){switch(n.label){case 0:return e=function(){return r(t,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this._fetchTreatments()];case 1:case 2:return e.sent(),[3,3];case 3:return[2]}}))}))},this._config.ttl&&this._config.useRefreshJitter?(this._delayedRefreshTreatment=setTimeout(e,.1*this._config.ttl*Math.random()),[3,3]):[3,1];case 1:return[4,e()];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}),u._config.ttl)),u._initialFetched=!0)},this.dispose=function(){u._refreshTreatment&&clearInterval(u._refreshTreatment),u._delayedRefreshTreatment&&clearTimeout(u._delayedRefreshTreatment)},this.getTreatment=function(e){var t=u.peekTreatment(e);return null!==t&&u.logTreatment(e,t).catch((function(){})),t},this.peekTreatment=function(e){var t=u._experimentTreatments.get(e.name)||u._gateTreatments.get(e.name),n=null==t?void 0:t.groupName;if(n){var r=e.experiencesArray.find((function(e){return s.getGroupNames(e).includes(n)}));if(r)return r}return null},this.logTreatment=function(e,t){if(u._config.ssrDisableLogging)return Promise.resolve();var n=u._experimentTreatments.get(e.name)||u._gateTreatments.get(e.name);if(!n||s.getExperienceName(n.groupName)!==t)throw new Error("Cannot find associated treatment");return(void 0!==n.needLog?n.needLog:n.type!==a.ExperimentType.gate)?u._treatmentService.logTreatment(n):Promise.resolve()},this.isGateEnabled=function(e){return u._getExperienceOfEnabledGate(e.name)===e.experience},this._getExperienceOfEnabledGate=function(e){var t=u._gateTreatments.get(e);return t?s.getExperienceName(t.groupName):null},this.getDynamicConfiguration=function(e){var t=u._experimentTreatments.get(e.name)||u._gateTreatments.get(e.name);return t&&t.dynamicConfiguration?t.dynamicConfiguration:null}};t.ExperimentClient=c},39406:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Gate=void 0;var n=function(e,t){void 0===t&&(t="enabled"),this.name=e,this.experience=t};t.Gate=n},1940:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.GatesService=void 0;var s=n(62269),o=n(61602),a=n(45052),c=function(){function e(e,t,n){this.type="gate",this._httpClient=new o.HttpClient(e,t),this._gatesUrl=s.config(n).url.gates+"/gates/get"}return e.prototype.getTreatment=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return[4,this._httpClient.post(this._gatesUrl,e)];case 1:if(t=n.sent(),a.validateTreatmentsWithType(t))return[2,t];throw new Error("Did not get valid gate treatments")}}))}))},e}();t.GatesService=c},61602:function(e,t){var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)},r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpClient=void 0;var s=function(){function e(e,t){var n=this;this._fetch=e,this._config=t,this._fetchWithTimeout=this._config.timeout?function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Promise.race([n._fetch.apply(n,e),new Promise((function(e,t){return setTimeout((function(){return t(new Error("Timeout"))}),n._config.timeout)}))])}:this._fetch}return e.prototype.get=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return[4,this._getHeaders()];case 1:return t=r.sent(),[4,this._fetchWithTimeout(e,{credentials:"include",mode:"cors",headers:t})];case 2:return n=r.sent(),[2,this._parseResponse(n)]}}))}))},e.prototype.post=function(e,t){return r(this,void 0,void 0,(function(){var r,s;return i(this,(function(i){switch(i.label){case 0:return[4,this._getHeaders()];case 1:return r=i.sent(),[4,this._fetchWithTimeout(e,{method:"POST",credentials:"include",mode:"cors",headers:n(n({},r),{"Content-Type":"application/json"}),body:JSON.stringify(t)})];case 2:return s=i.sent(),[2,this._parseResponse(s)]}}))}))},e.prototype._filterHeaders=function(e){var t={};return Object.entries(e).forEach((function(e){var n=e[0],r=e[1];r&&(t[n]=r)})),t},e.prototype._getHeaders=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return this._config.getApplicationHeaders?(e=this._filterHeaders,[4,this._config.getApplicationHeaders()]):[3,2];case 1:return[2,e.apply(this,[t.sent()])];case 2:throw new Error("Cannot get application headers")}}))}))},e.prototype._parseResponse=function(e){if(!e.ok)throw new Error("Network response was not ok, status "+e.status);return"application/json"===e.headers.get("Content-Type")?e.json():e.text()},e}();t.HttpClient=s},61986:(e,t,n)=>{t.Cc=t.KS=void 0;var r=n(54936);var i=n(48782);var s=n(1940);var o=n(67853);var a=n(43693);Object.defineProperty(t,"KS",{enumerable:!0,get:function(){return a.Experiment}});var c=n(39406);Object.defineProperty(t,"Cc",{enumerable:!0,get:function(){return c.Gate}})},67853:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropertiesClient=void 0;var r=n(62269),i=n(61602),s=function(){function e(e,t,n){this._propertiesUrl=r.config(t).url.properties+"/properties",this._httpClient=new i.HttpClient(e,n)}return e.prototype.getAll=function(){return this._httpClient.get(this._propertiesUrl)},e.prototype.getOne=function(e){var t=this._propertiesUrl+"/"+e;return this._httpClient.get(t)},e.prototype.set=function(e){return this._httpClient.post(this._propertiesUrl,e)},e}();t.PropertiesClient=s},54391:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getGroupNames=t.getExperienceName=void 0;t.getExperienceName=function(e){return e.endsWith("_1")||e.endsWith("_2")?e.slice(0,-2):null};t.getGroupNames=function(e){return[e+"_1",e+"_2"]}},45052:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateTreatmentsWithType=void 0;var n=function(e){return"string"==typeof e};t.validateTreatmentsWithType=function(e){return Array.isArray(e)&&e.reduce((function(e,t){return e&&(n((r=t).experimentName)&&n(r.groupName)&&n(r.experimentId)&&n(r.type));var r}),!0)}},48782:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.TreatmentService=t.ExperimentType=void 0;var s=n(62269),o=n(61602),a=n(45052);!function(e){e.experiment="experiment",e.gate="gate"}(t.ExperimentType||(t.ExperimentType={}));var c=function(e){var t=function(e){return e.holdoutTreatment?":"+e.holdoutTreatment.experimentId+t(e.holdoutTreatment):""};return""+(e.groupName+":"+e.userId+":"+e.experimentId)+t(e)},l=function(){function e(e,t,n,r){this._persistentStorageOpts=r,this.type="experiment",this._throttleLogs=new Map,this._sentLogs={},this._httpClient=new o.HttpClient(e,t),this._treatmentUrl=s.config(n).url.treatment+"/treatment"}return e.prototype.getTreatment=function(e){return r(this,void 0,void 0,(function(){var t,n,r;return i(this,(function(i){switch(i.label){case 0:return t=this._treatmentUrl+"/get",n=e,[4,this._httpClient.post(t,n)];case 1:if(r=i.sent(),a.validateTreatmentsWithType(r))return[2,r];throw new Error("Did not get valid treatments")}}))}))},e.prototype.logTreatment=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return this._checkShouldThrottle(e)||this._checkSent(e)?[2]:[4,this._sendLogTreatment(e)];case 1:return t.sent(),this._setSentLogs(e),[2]}}))}))},e.prototype.refresh=function(){this._throttleLogs.clear()},e.prototype.initSentLogsStorage=function(){return r(this,void 0,void 0,(function(){var e,t,n=this;return i(this,(function(r){switch(r.label){case 0:if(!this._persistentStorageOpts)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._persistentStorageOpts.get(this._sentLogsStorageKey)];case 2:return e=r.sent()||{},t=new Set(this._persistentStorageOpts.experimentNames),Object.entries(e).forEach((function(e){var r=e[0],i=e[1];t.has(r)&&n._updateSentLogs(r,i)})),[3,4];case 3:return r.sent(),[3,4];case 4:return[2]}}))}))},Object.defineProperty(e.prototype,"_sentLogsStorageKey",{get:function(){var t;return e.STORAGE_KEY_PREFIX+(null===(t=this._persistentStorageOpts)||void 0===t?void 0:t.clientName)},enumerable:!1,configurable:!0}),e.prototype._checkShouldThrottle=function(e){var t=c(e),n=this._throttleLogs.get(e.experimentName)===t;return n||this._throttleLogs.set(e.experimentName,t),n},e.prototype._checkSent=function(e){var t=c(e);return this._sentLogs[e.experimentName]===t},e.prototype._setSentLogs=function(e){var t=c(e);this._updateSentLogs(e.experimentName,t,!0)},e.prototype._updateSentLogs=function(e,t,n){void 0===n&&(n=!1),(n||void 0===this._sentLogs[e])&&(this._sentLogs[e]=t),n&&this._persistSentLogs()},e.prototype._persistSentLogs=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),this._persistentStorageOpts?[4,this._persistentStorageOpts.set(this._sentLogsStorageKey,this._sentLogs)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[3,4];case 3:return e.sent(),[3,4];case 4:return[2]}}))}))},e.prototype._sendLogTreatment=function(e){var t=this._treatmentUrl+"/log";return this._httpClient.post(t,e)},e.STORAGE_KEY_PREFIX="TreatmentServiceStorage_",e}();t.TreatmentService=l},44675:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var a,c=[],l=!1,u=-1;function d(){l&&a&&(l=!1,a.length?c=a.concat(c):u=-1,c.length&&p())}function p(){if(!l){var e=o(d);l=!0;for(var t=c.length;t;){for(a=c,c=[];++u<t;)a&&a[u].run();u=-1,t=c.length}a=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||o(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},94100:function(e,t,n){var r;!function(i,s){var o="function",a="undefined",c="object",l="string",u="model",d="name",p="type",h="vendor",g="version",f="architecture",_="console",m="mobile",b="tablet",v="smarttv",w="wearable",y="embedded",x="Amazon",E="Apple",C="ASUS",S="BlackBerry",T="Firefox",R="Google",k="Huawei",O="LG",F="Microsoft",I="Motorola",N="Opera",A="Samsung",P="Sharp",M="Sony",L="Xiaomi",U="Zebra",j="Facebook",D=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},B=function(e,t){return typeof e===l&&-1!==W(t).indexOf(W(e))},W=function(e){return e.toLowerCase()},H=function(e,t){if(typeof e===l)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===a?e:e.substring(0,350)},$=function(e,t){for(var n,r,i,a,l,u,d=0;d<t.length&&!l;){var p=t[d],h=t[d+1];for(n=r=0;n<p.length&&!l;)if(l=p[n++].exec(e))for(i=0;i<h.length;i++)u=l[++r],typeof(a=h[i])===c&&a.length>0?2===a.length?typeof a[1]==o?this[a[0]]=a[1].call(this,u):this[a[0]]=a[1]:3===a.length?typeof a[1]!==o||a[1].exec&&a[1].test?this[a[0]]=u?u.replace(a[1],a[2]):s:this[a[0]]=u?a[1].call(this,u,a[2]):s:4===a.length&&(this[a[0]]=u?a[3].call(this,u.replace(a[1],a[2])):s):this[a]=u||s;d+=2}},G=function(e,t){for(var n in t)if(typeof t[n]===c&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(B(t[n][r],e))return"?"===n?s:n}else if(B(t[n],e))return"?"===n?s:n;return e},q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,g],[/opios[\/ ]+([\w\.]+)/i],[g,[d,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[g,[d,N]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[d,g],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[d,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[g,[d,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[g,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[d,"IE"]],[/yabrowser\/([\w\.]+)/i],[g,[d,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure Browser"],g],[/\bfocus\/([\w\.]+)/i],[g,[d,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[g,[d,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[d,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[d,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[g,[d,T]],[/\bqihu|(qi?ho?o?|360)browser/i],[[d,"360 Browser"]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1 Browser"],g],[/(comodo_dragon)\/([\w\.]+)/i],[[d,/_/g," "],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[d,g],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,j],g],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[d,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[d,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[d,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,"Chrome WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[d,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[g,G,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[d,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,g]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/(ia32(?=;))/i],[[f,W]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[f,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[f,"armhf"]],[/windows (ce|mobile); ppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[f,/ower/,"",W]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[f,W]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[h,A],[p,b]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[u,[h,A],[p,m]],[/\((ip(?:hone|od)[\w ]*);/i],[u,[h,E],[p,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[h,E],[p,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[h,k],[p,b]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[h,k],[p,m]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[u,/_/g," "],[h,L],[p,m]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[h,L],[p,b]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[h,"OPPO"],[p,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[h,"Vivo"],[p,m]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[u,[h,"Realme"],[p,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[h,I],[p,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[h,I],[p,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[h,O],[p,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[h,O],[p,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[h,"Lenovo"],[p,b]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[h,"Nokia"],[p,m]],[/(pixel c)\b/i],[u,[h,R],[p,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[h,R],[p,m]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[h,M],[p,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[h,M],[p,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[h,"OnePlus"],[p,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[h,x],[p,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[h,x],[p,m]],[/(playbook);[-\w\),; ]+(rim)/i],[u,h,[p,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[h,S],[p,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[h,C],[p,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[h,C],[p,m]],[/(nexus 9)/i],[u,[h,"HTC"],[p,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[h,[u,/_/g," "],[p,m]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[h,"Acer"],[p,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[h,"Meizu"],[p,m]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[h,P],[p,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[h,u,[p,m]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[h,u,[p,b]],[/(surface duo)/i],[u,[h,F],[p,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[h,"Fairphone"],[p,m]],[/(u304aa)/i],[u,[h,"AT&T"],[p,m]],[/\bsie-(\w*)/i],[u,[h,"Siemens"],[p,m]],[/\b(rct\w+) b/i],[u,[h,"RCA"],[p,b]],[/\b(venue[\d ]{2,7}) b/i],[u,[h,"Dell"],[p,b]],[/\b(q(?:mv|ta)\w+) b/i],[u,[h,"Verizon"],[p,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[h,"Barnes & Noble"],[p,b]],[/\b(tm\d{3}\w+) b/i],[u,[h,"NuVision"],[p,b]],[/\b(k88) b/i],[u,[h,"ZTE"],[p,b]],[/\b(nx\d{3}j) b/i],[u,[h,"ZTE"],[p,m]],[/\b(gen\d{3}) b.+49h/i],[u,[h,"Swiss"],[p,m]],[/\b(zur\d{3}) b/i],[u,[h,"Swiss"],[p,b]],[/\b((zeki)?tb.*\b) b/i],[u,[h,"Zeki"],[p,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[h,"Dragon Touch"],u,[p,b]],[/\b(ns-?\w{0,9}) b/i],[u,[h,"Insignia"],[p,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[h,"NextBook"],[p,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[h,"Voice"],u,[p,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[h,"LvTel"],u,[p,m]],[/\b(ph-1) /i],[u,[h,"Essential"],[p,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[h,"Envizen"],[p,b]],[/\b(trio[-\w\. ]+) b/i],[u,[h,"MachSpeed"],[p,b]],[/\btu_(1491) b/i],[u,[h,"Rotor"],[p,b]],[/(shield[\w ]+) b/i],[u,[h,"Nvidia"],[p,b]],[/(sprint) (\w+)/i],[h,u,[p,m]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[h,F],[p,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[h,U],[p,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[h,U],[p,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[h,u,[p,_]],[/droid.+; (shield) bui/i],[u,[h,"Nvidia"],[p,_]],[/(playstation [345portablevi]+)/i],[u,[h,M],[p,_]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[h,F],[p,_]],[/smart-tv.+(samsung)/i],[h,[p,v]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[h,A],[p,v]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[h,O],[p,v]],[/(apple) ?tv/i],[h,[u,"Apple TV"],[p,v]],[/crkey/i],[[u,"Chromecast"],[h,R],[p,v]],[/droid.+aft(\w)( bui|\))/i],[u,[h,x],[p,v]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[h,P],[p,v]],[/(bravia[\w ]+)( bui|\))/i],[u,[h,M],[p,v]],[/(mitv-\w{5}) bui/i],[u,[h,L],[p,v]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[h,H],[u,H],[p,v]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[p,v]],[/((pebble))app/i],[h,u,[p,w]],[/droid.+; (glass) \d/i],[u,[h,R],[p,w]],[/droid.+; (wt63?0{2,3})\)/i],[u,[h,U],[p,w]],[/(quest( 2)?)/i],[u,[h,j],[p,w]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[h,[p,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[u,[p,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[p,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[p,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[p,m]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[h,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[d,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[d,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,g],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[d,[g,G,q]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[d,"Windows"],[g,G,q]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,"Mac OS"],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,g],[/\(bb(10);/i],[g,[d,S]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[d,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[d,"webOS"]],[/crkey\/([\d\.]+)/i],[g,[d,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[d,"Chromium OS"],g],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,g],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[d,g]]},V=function(e,t){if(typeof e===c&&(t=e,e=s),!(this instanceof V))return new V(e,t).getResult();var n=e||(typeof i!==a&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),r=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(z,t):z;return this.getBrowser=function(){var e,t={};return t.name=s,t.version=s,$.call(t,n,r.browser),t.major=typeof(e=t.version)===l?e.replace(/[^\d\.]/g,"").split(".")[0]:s,t},this.getCPU=function(){var e={};return e.architecture=s,$.call(e,n,r.cpu),e},this.getDevice=function(){var e={};return e.vendor=s,e.model=s,e.type=s,$.call(e,n,r.device),e},this.getEngine=function(){var e={};return e.name=s,e.version=s,$.call(e,n,r.engine),e},this.getOS=function(){var e={};return e.name=s,e.version=s,$.call(e,n,r.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===l&&e.length>350?H(e,350):e,this},this.setUA(n),this};V.VERSION="1.0.32",V.BROWSER=D([d,g,"major"]),V.CPU=D([f]),V.DEVICE=D([u,h,p,_,m,v,b,w,y]),V.ENGINE=V.OS=D([d,g]),typeof t!==a?(e.exports&&(t=e.exports=V),t.UAParser=V):n.amdO?(r=function(){return V}.call(t,n,t,e))===s||(e.exports=r):typeof i!==a&&(i.UAParser=V);var Y=typeof i!==a&&(i.jQuery||i.Zepto);if(Y&&!Y.ua){var J=new V;Y.ua=J.getResult(),Y.ua.get=function(){return J.getUA()},Y.ua.set=function(e){J.setUA(e);var t=J.getResult();for(var n in t)Y.ua[n]=t[n]}}}("object"==typeof self?self:this)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.amdO={},(()=>{var e;function t(e,t){return new Promise(((n,r)=>{setTimeout((()=>{void 0!==t?r(t):n()}),e)}))}function r(){let e,t;return{promise:new Promise(((n,r)=>{e=n,t=r})),resolve:e,reject:t}}!function(e){e.syncDevtoolsInitialStateWithTab="syncDevtoolsInitialStateWithTab"}(e||(e={}));class i extends Error{}function s(e,t){return e.some((e=>e===t))?t:void 0}class o extends Error{constructor(e){super(`Matching not exhaustive: unexpected value ${JSON.stringify(e)}`)}}function a(e){throw new o(e)}function c(e){if("string"==typeof e){const t=parseInt(e,10);return isNaN(t)?void 0:t}return"number"==typeof e?e:void 0}function l(e,t){try{return e()}catch(e){return t(e)}}function u(){}function d(e){let t,n=!1;return(...r)=>(n||(n=!0,t=e(...r)),t)}function p(e,t,n){const r=new Set;let i;return(...s)=>{const o=t(...s);return r.has(o)||(r.add(o),i=e(...s)),null==n||n(...s),i}}var h;!function(e){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}e.create=function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}(h||(h={}));void 0!==self.requestIdleCallback&&self.requestIdleCallback;var g;!function(e){class n extends Error{constructor(e,t=1e3){super(`SafePromiseError: ${String(e)}`),this.stack=(super.stack||"").slice(t)}}function i(e){return e.catch((e=>e instanceof Error&&!e.stack?Promise.reject(new n(e.message)):Promise.reject(e)))}e.fromPromise=i,e.fromAsync=function(e){return(...t)=>i(e(...t))},e.noop=e.fromPromise(Promise.resolve()),e.create=function(e){return i(new Promise(e))},e.sync=function(e){return i(new Promise(((t,n)=>t(e()))))},e.createCompletionSource=r,e.delay=t}(g||(g={}));var f=function(e,t){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},f(e,t)};function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;Object.create;function m(e){return"function"==typeof e}var b=!1,v={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;b=e},get useDeprecatedSynchronousErrorHandling(){return b}};function w(e){setTimeout((function(){throw e}),0)}var y={closed:!0,next:function(e){},error:function(e){if(v.useDeprecatedSynchronousErrorHandling)throw e;w(e)},complete:function(){}},x=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}();function E(e){return null!==e&&"object"==typeof e}var C=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),S=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,r=n._parentOrParents,i=n._ctorUnsubscribe,s=n._unsubscribe,o=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(null!==r)for(var a=0;a<r.length;++a){r[a].remove(this)}if(m(s)){i&&(this._unsubscribe=void 0);try{s.call(this)}catch(e){t=e instanceof C?T(e.errors):[e]}}if(x(o)){a=-1;for(var c=o.length;++a<c;){var l=o[a];if(E(l))try{l.unsubscribe()}catch(e){t=t||[],e instanceof C?t=t.concat(T(e.errors)):t.push(e)}}}if(t)throw new C(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var s=this._subscriptions;return null===s?this._subscriptions=[n]:s.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function T(e){return e.reduce((function(e,t){return e.concat(t instanceof C?t.errors:t)}),[])}var R=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),k=function(e){function t(n,r,i){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=y;break;case 1:if(!n){s.destination=y;break}if("object"==typeof n){n instanceof t?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new O(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new O(s,n,r,i)}return s}return _(t,e),t.prototype[R]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(S),O=function(e){function t(t,n,r,i){var s,o=e.call(this)||this;o._parentSubscriber=t;var a=o;return m(n)?s=n:n&&(s=n.next,r=n.error,i=n.complete,n!==y&&(m((a=Object.create(n)).unsubscribe)&&o.add(a.unsubscribe.bind(a)),a.unsubscribe=o.unsubscribe.bind(o))),o._context=a,o._next=s,o._error=r,o._complete=i,o}return _(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=v.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):w(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;w(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),v.useDeprecatedSynchronousErrorHandling)throw e;w(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(w(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(k);var F=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function I(e){return e}function N(e){return 0===e.length?I:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var A,P=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof k)return e;if(e[R])return e[R]()}return e||t||n?new k(e,t,n):new k(y)}(e,t,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||v.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),v.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(e){for(;e;){var t=e,n=t.closed,r=t.destination,i=t.isStopped;if(n||i)return!1;e=r&&r instanceof k?r:null}return!0}(e)?console.warn(t):e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=M(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(e){r(e),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[F]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:N(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=M(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function M(e){if(e||(e=v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function L(e,t){return function(n){return n.lift(new z(e,t))}}!function(e){e.rpcLegacyMessageName="cs-to-bg-rpc-1587687052565",e.rpcLegacyObservableName="cs-to-bg-observable-rpc-1587687052565"}(A||(A={}));var U,j,D,B,W,H,$,G,q,z=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new V(e,this.predicate,this.thisArg))},e}(),V=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return _(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(k);class Y extends Error{constructor(e){super(`Assertion failed: ${e?"string"==typeof e?e:e():"(unnamed)"}`)}}function J(e,t){if(null==e)throw new Y((()=>t?`Expected ${t} to be non-null`:"Expected non-null"));return e}function K(e,t){return e.filter((e=>!!e)).join(t)}!function(e){const t={chromiumWebExtension:"chromeExt",firefoxWebExtension:"firefoxExt",safariAppExtension:"safariExt",safariWebExtension:"safariWebExt",safariIOSWebExtension:"safariIOSExt"};function n(e,n,r){return"retail"===r&&"safariIOSWebExtension"===n?"safariIOSExt-retail":"edge"===e?"chromiumEdgeExt":t[n]}e.getAppName=n,e.create=function(e,t,r,i){return{appName:J(n(e,t,r),"gnar app name"),url:`https://gnar.${i}`,ingestionUrl:`https://in.${i}/v1/events`,domain:`.${i}`,sendEmailInfoTracking:!0,sendFluidExperimentData:!1}}}(U||(U={})),function(e){const t={chromiumWebExtension:"extensionChrome",firefoxWebExtension:"extensionFirefox",safariAppExtension:"extensionSafari",safariWebExtension:"extensionSafariWeb",safariIOSWebExtension:"extensionSafariIOS"};e.create=function(e,n,r,i){let s;return s="retail"===r&&"safariIOSWebExtension"===n?"extensionSafariIOS-retail":"edge"===e?"extensionEdge":J(t[n],"felog app name"),{appName:s,sendUsageMetrics:!0,sendPerfMetricsType:"dev"===i?"local":"off"}}}(j||(j={})),function(e){const t={chromiumWebExtension:"extension_chrome",firefoxWebExtension:"extension_firefox",safariAppExtension:"extension_safari",safariWebExtension:"extension_safari_web",safariIOSWebExtension:"extension_safari_ios"},n={regular:"inline",retail:"retail_demo"};e.create=(e,r,i)=>({clientType:"edge"===e?"extension_chromium_edge":J(t[r],"capi client type"),clientSubType:J(n[i],"capi client subType")})}(D||(D={})),function(e){e.create=function(e){return{urls:{fetchMessages:`${e}/api/v1/messages`,acknowledgeMessage:`${e}/api/v1/messages/acknowledge`,dismissMessage:`${e}/api/v1/messages/dismiss`}}}}(B||(B={})),function(e){e.create=function(e){return{urls:{getInAppMessages:`${e}/api/inApp/getMessages`,track:`${e}/api/events/track`,trackInAppOpen:`${e}/api/events/trackInAppOpen`,trackInAppClose:`${e}/api/events/trackInAppClose`,trackInAppConsume:`${e}/api/events/inAppConsume`,trackInAppClick:`${e}/api/events/trackInAppClick`,userUpdate:`${e}/api/users/update`}}}}(W||(W={})),function(e){e.create=function(e){return{urls:{getJWTToken:`${e}/token`}}}}(H||(H={})),function(e){const t={chromiumWebExtension:"chromeExt",firefoxWebExtension:"firefoxExt",safariAppExtension:"safariExt",safariWebExtension:"safariWebExt",safariIOSWebExtension:"safariIOSExt"};e.create=function(e,n){return{xClientType:"edge"===e?"chromiumEdgeExt":t[n]}}}($||($={})),function(e){let t;var n;n=t=e.GrStaticUrl||(e.GrStaticUrl={}),n.toGrStaticUrl=e=>"https://assets.extension.grammarly.com/"+e}(G||(G={})),function(e){e.create=function(t,n,r,i){const s="safari"===t?"disableAppsPromotion=true":"";function o(e){const t=`https://${e}.${n}`;return(e="",n="")=>{const r=K([s,n],"&");return K([t+e,r],"?")}}const a=o("www"),c=o("app"),l=o("account"),u=o("redirect"),d=e.GrStaticUrl.toGrStaticUrl,p=`https://data.${n}`,h=`https://auth.${n}/v3`,g=`https://auth.${n}/v4`,f=`https://capi.${n}/api/configuration/cheetah/v1/settings`,_=`https://capi.${n}`,m=`wss://capi.${n}/freews`;return{accountSubscription:l("/subscription"),accountSubscriptionAddBillingInfo:l("/admin/subscription","popup=add_billing_info"),adminAccountSubscription:l("/admin/subscription"),accountAdminSubscriptionAddBillingInfoToUngatedTrial:l("/admin/subscription","popup=ungated_trial"),app:c(),appPersonalDictionary:l("/customize"),featuresSettings:l("/customize/features"),capi:m,capiStatic:m,capiGDocs:`wss://capi.${n}/gdocs`,dapi:p,cheetahSettings:f,editorDictionary:c("/profile/dictionary"),desktop:a("/desktop"),dictionary:`https://capi.${n}/api/defs`,docs:c("/docs"),docsApi:`https://dox.${n}/documents`,newDoc:c("/docs/new"),tokens:`${g}/api`,auth:h,userOrAnonymous:`${h}/user/oranonymous`,userOrAnonymousV4:`${g}/api/userinfo`,signin:a("/signin"),signup:a("/signup"),dialect:`${_}/api/configuration/language/v1/settings`,fbSignin:a("/signin","fromExtensionFb=true"),fbSignup:a("/signup","fromExtensionFb=true"),googleSignin:a("/signin","fromExtensionGoogle=true"),googleSignup:a("/signup","fromExtensionGoogle=true"),resetPassword:a("/resetpassword"),newFelog:r,vmetrics:i,welcomeC:a("/extension-success"),afterInstall:a("/after_install_page/"),planComparison:a("/plans"),businessHomepage:a("/business"),businessPricing:a("/business/pricing"),businessStyleGuide:a("/business/styleguide"),businessBrandTones:a("/business/brand-tones"),uninstall:a("/extension-uninstall"),terms:a("/terms"),policy:a("/privacy-policy"),californiaPolicy:a("/privacy-policy#for-california-users"),extensionSuccess:a("/extension-success"),firefoxPrivatePolicy:"https://addons.mozilla.org/en-US/firefox/addon/grammarly-1/privacy/",dynamicConfigUrl:"https://config.extension.grammarly.com/dynamicConfig.json",pageConfigUrl:"https://config.extension.grammarly.com/browserplugin/config.json",grammarlyDomain:n,grammarlyProtocol:"https:",redirect:u("/redirect"),snippetsApi:`https://goldengate.${n}/snippets/v1/snippets`,snippetsNew:l("/admin/snippets","action=create"),snippetsAdmin:l("/admin/snippets"),snippetsSettings:l("/customize/snippets"),knowledgeHubApi:`https://goldengate.${n}/knowledge-hub/v1/institution`,settingsRegistryApi:`https://goldengate.${n}/settings-registry/v1`,suggestionsSettings:l("/customize/suggestions"),allSettings:l(),styleGuideSettings:l("/admin/style-guide"),writingStyleSettings:l("/admin/style-guide-writing-style"),brandTones:l("/admin/brand-tones"),grammarlyIdeasSelf:c("/ideas/grow/self"),grammarlyIdeasPeer:c("/ideas/grow/peer"),grammarlyIdeasSales:c("/ideas/sales"),iOSApp:"grammarly://home",iOSUpgrade:"grammarly://premium-instructions?deepLinkSource=safari",standWithUkraine:a("/stand-with-ukraine"),standWithUkraineBlockedUserPing:"https://rwsgfy.grammarly.com/stand-with-ukraine",tourGdocs:a("/tour-gdocs"),assets:{assistantOnboardingTourGif:d("assets/assistant/assistant-onboarding-tour"),ownerActivationIPMHeader:d("assets/ipm/owner-activation-ipm-header"),graduationIpmSvg:d("assets/ipm/graduation-campaign-ipm"),writingProgressIpmGif:d("assets/ipm/writing-progress-ipm-header"),onboardingTour:{inlineSuggestionsPreviewImage:d("assets/onboarding/inline-suggestions-preview-image-v2.jpg"),inlineSuggestionsAnimation:d("assets/onboarding/inline-suggestions-v2.mp4"),clickToAcceptAnimation:d("assets/onboarding/click-to-accept-v2.mp4"),happyWritingAnimation:d("assets/onboarding/happy-writing-v2.mp4")},knowledgeShareOnboardingTour:{step1:d("assets/knowledgeShareOnboarding/ks-onboarding-step1.mp4"),step2:d("assets/knowledgeShareOnboarding/ks-onboarding-step2.mp4"),step3:d("assets/knowledgeShareOnboarding/ks-onboarding-step3.mp4")}},support:`https://support.${n}/hc/en-us/requests/new#/`,grammarlyEmployeesBugReportsUrl:"https://in-product.report.grammarly.io/v1/report"}}}(G||(G={})),function(e){const t="grammarly.com",n="qagr.io",r="ppgr.io";e.create=function(e,i,s,o){const c=(e,t,n,r,i)=>"prod"===o?e:"qa"===o?t:"dev-qa"===o?n:"dev-preprod"===o?r:"dev"===o?i:void a(o),l="https://127.0.0.1:8000",u=c("https://f-log-extension.grammarly.io",l,l,l,l),d=c("https://extension.femetrics.grammarly.io/batch/import","https://femetrics.qagr.io/batch/import","https://femetrics.qagr.io/batch/import","https://femetrics.ppgr.io/batch/import","https://femetrics.qagr.io/batch/import"),p=c(t,n,n,r,n),h=c(t,n,n,r,t),g=c("https://chipmunk.grammarly.com","https://chipmunk.qagr.io","https://chipmunk.qagr.io","https://chipmunk.ppgr.io","https://chipmunk.grammarly.com");return{url:G.create(e,h,u,d),gnar:U.create(e,i,s,p),felog:j.create(e,i,s,o),capi:D.create(e,i,s),chipmunk:B.create("https://chipmunk.grammarly.com"),iterable:W.create("https://api.iterable.com"),mise:H.create(g),auth:$.create(e,i),extensionId:"87677a2c52b84ad3a151a4a72f5bd3c4"}}}(q||(q={}));const X=l((()=>browser),(()=>self.browser)),Z=l((()=>browser),(()=>self.browser));self.chrome=self.chrome;var Q,ee,te,ne,re,ie;!function(e){e.create=function(e,t,n,r,i,s,o,a){const c=void 0!==s&&void 0!==o?s:"UNVERSIONED",l=`${e}.${t}.${n}`;return{version:l,fullVersion:`${l}-${[r,["prod"!==i?i:null,c!==r?c:null].filter((e=>!!e)).join(".")].filter((e=>""!==e)).join("/")}`,commitHash:o,gitBranch:s,manifestVersion:a}},e.getManifestVersion=function(e,t,n){switch(e){case"safariAppExtension":switch(t){case"bg":case"popup":return n.safari.extension.displayVersion;default:return}case"chromiumWebExtension":return n.chrome.runtime.getManifest().version;case"firefoxWebExtension":return X.runtime.getManifest().version;case"safariWebExtension":case"safariIOSWebExtension":return Z.runtime.getManifest().version;default:return a(e)}}}(Q||(Q={})),function(e){e.create=function(e){return s(["chrome","safari","firefox","edge"],e)},e.isValidTargetBrowser=function(e){return["chrome","safari","firefox","edge"].includes(e)}}(ee||(ee={})),function(e){e.create=function(e){return s(["dev","prod","qa","dev-qa","dev-preprod"],e)}}(te||(te={})),function(e){e.create=function(e){return s(["regular","retail"],e)}}(ne||(ne={})),function(e){e.create=function(e){return s(["chromiumWebExtension","firefoxWebExtension","safariAppExtension","safariWebExtension","safariIOSWebExtension"],e)}}(re||(re={})),function(e){e.create=function(e,t,n,r,i){return{browser:e,extensionType:t,deploymentType:n,env:r,context:i}}}(ie||(ie={}));var se=n(94100);const oe=e=>e.split(".")[0],ae=(e=self.navigator.userAgent)=>{const t=new se.UAParser(e).getResult();return{browserName:t.browser.name||"unknown",browserVersion:t.browser.version?oe(t.browser.version):void 0,osName:t.os.name||"unknown",osVersion:t.os.version?oe(t.os.version):void 0,userAgent:e}};var ce,le,ue,de,pe;!function(e){e.create=function(e){const t=ae(e);return{name:t.browserName||"other",version:t.browserVersion,userAgent:e}}}(ce||(ce={})),function(e){e.create=function(e){const t=ae(e);return{name:t.osName,version:t.osVersion,isWindows:-1!==e.indexOf("Win"),isMac:-1!==e.indexOf("Mac"),isChromeOS:-1!==e.indexOf("CrOS")}}}(le||(le={})),function(e){e.create=function(e){return{browser:ce.create(e),os:le.create(e)}}}(ue||(ue={})),function(e){function t(e,t,n,r,i,s,o){return{env:e,major_number:t,build_number:n,release_number:r,git_branch:i,git_commit:s,manifest_version:o}}e.create=t,e.fromBrowserify=function(){return t("prod","14","1187","0","UNVERSIONED","UNVERSIONED","3")}}(de||(de={})),function(e){e.getTargetEnv=function(e){if(!e.env)throw new Error("processEnv.env is null or undefined");const t=te.create(e.env);if(!t)throw new Error(`Invalid processEnv.env: ${e.env}`);return t},e.create=function(e,t,n,r,i,s,o=self.navigator.userAgent){const a=[i.major_number,i.build_number,i.release_number].map(c);let l;if(3===a.length&&a.every((e=>void 0!==e)))l=a;else{let e;try{e=Q.getManifestVersion(t,r,self)}catch(e){}const n=(e||"").split(".").map(c);l=3===n.length&&n.every((e=>void 0!==e))?n:[0,0,0]}const[u,d,p]=l;return{buildInfo:Q.create(u,d,p,e,s,i.git_branch,i.git_commit,i.manifest_version),bundleInfo:ie.create(e,t,n,s,r),appConfig:q.create(e,t,n,s),systemInfo:ue.create(o)}}}(pe||(pe={}));const he=new class{constructor(e){this._getFallbackValue=e}init(e){if(void 0!==this._value)throw new Error("Global value already initialized.");this._value=e}get(){if(void 0===this._value){if(void 0===this._getFallbackValue)throw new Error("Global value not initialized and no fallback value provided.");this._value=this._getFallbackValue()}return this._value}}((()=>{throw new Error("Global config not initialized")}));let ge=()=>he.get();function fe(){return ge()}function _e(){return fe().bundleInfo.env}class me{constructor(e){if(this.capacity=e,this._start=0,this._end=0,this._isFull=!1,e<=0)throw new Error("Invalid capacity "+e);this._buffer=new Array(e)}get size(){return this._isFull?this._buffer.length:(this._end-this._start+this._buffer.length)%this._buffer.length}get isEmpty(){return 0===this.size}get isFull(){return this._isFull}get head(){return this.isEmpty?null:this._buffer[this._start]}get tail(){return this.isEmpty?null:this._buffer[0===this._end?this.capacity-1:this._end-1]}enqueue(e){let t=null;return this.isFull&&(t=this._buffer[this._start],this._startInc()),this._buffer[this._end]=e,this._endInc(),this._start===this._end&&(this._isFull=!0),t}dequeue(){if(this.isEmpty)return null;const e=this._buffer[this._start];return this._buffer[this._start]=null,this._startInc(),this._isFull=!1,e}delete(e){const t=this._buffer.indexOf(e);if(t>=0){if(t<this._end){for(let e=t;e<this._end-1;e++)this._buffer[e]=this._buffer[e+1];this._buffer[--this._end]=null}else{for(let e=this._start;e<t;e++)this._buffer[e+1]=this._buffer[e];this._buffer[this._start]=null,this._startInc()}return this._isFull=!1,!0}return!1}_startInc(){this._start++,this._start===this.capacity&&(this._start=0)}_endInc(){this._end++,this._end===this.capacity&&(this._end=0)}clear(){this._buffer=new Array(this.capacity),this._start=this._end=0,this._isFull=!1}toArray(){let e;if(this.isEmpty)e=[];else if(this._start<this._end)e=this._buffer.slice(this._start,this._end);else{e=new Array(this.size);let t=0;for(let n=this._start;n<this.capacity;++n,++t)e[t]=this._buffer[n];for(let n=0;n<this._end;++n,++t)e[t]=this._buffer[n]}return e}}const be={ExtensionDebugReportPrintCircularObject:new(n(39406).Gate)("extension_debug_report_print_circular_object","enabled")};const ve=e=>e===Object(e)&&!Array.isArray(e);var we;!function(e){function t(e){return{message:e.message,stack:e.stack}}function n(e){try{return!("string"==typeof JSON.stringify(e))}catch(e){return e.message.includes("Converting circular structure to JSON")}}e.normalizeException=t,e.isCircularObject=n,e.normalizeData=function e(r,i,s=new WeakSet){try{if(self.HTMLElement&&r instanceof self.HTMLElement)return{type:(o=r).nodeName,html:o.outerHTML,attributes:Array.from(o.attributes).reduce(((e,t)=>({...e,[t.nodeName]:t.nodeValue})),{})};if(r instanceof Error)return t(r);if(Array.isArray(r))return r.map((t=>e(t,i,s)));if("function"==typeof r)return`${r.name}()`;if(ve(r)){if(null==i?void 0:i.isGateEnabled(be.ExtensionDebugReportPrintCircularObject)){if(s.has(r))return"circular data!";s.add(r)}else if(n(r))return t(new Error("Couldn't normalize circular data!"));return Object.keys(r).reduce(((t,n)=>({...t,[n]:e(r[n],i,s)})),{})}return r}catch(e){return Ot.create("HistoryLogNormalizer").error("cannot normalize data",e,r),t(new Error("Data normalization fail!"))}var o}}(we||(we={}));const ye="common";function xe(e){return e===ye?"common.":""}class Ee{constructor(e){var t;this._historyArgs=e,this._historyBuffers={},this.isHistoryEnabled=()=>{var e;return Boolean("prod"!==_e()||(null===(e=this._historyArgs.enabledInProd)||void 0===e?void 0:e.get()))},this.isAdvancedHistoryEnabled=()=>{var e,t;return Boolean("prod"!==_e()||(null===(e=this._historyArgs.enabledInProd)||void 0===e?void 0:e.get())&&(null===(t=this._historyArgs.enableAdvancedInProd)||void 0===t?void 0:t.get()))},this.getLogs=()=>Object.entries(this._historyBuffers).map((([e,t])=>t.toArray().map((t=>{var n,r;return{...t,data:we.normalizeData(t.data,null===(r=(n=this._historyArgs).getExperimentClient)||void 0===r?void 0:r.call(n)),loggerName:xe(e)+t.loggerName,exception:t.exception?we.normalizeException(t.exception):void 0}})))).flat(),this._updateBackupStorage=()=>{var e;null===(e=this._historyArgs.backupStorage)||void 0===e||e.set(this._getBuffer(null).toArray())},this._initCliCommands(),this._historyBuffers.common=new me(null!==(t=this._historyArgs.maxEventsToStore)&&void 0!==t?t:1e3)}_getBuffer(e){return e?(this._historyBuffers[e.name]||(this._historyBuffers[e.name]=new me(e.settings.limit)),this._historyBuffers[e.name]):this._historyBuffers.common}pushLog(e,t){this._getBuffer(e).enqueue(t),this._updateBackupStorage()}_initCliCommands(){self.GRIsDebugEnabled=()=>this.isHistoryEnabled(),self.GREnableHistoryLogger=(e=60)=>{var t,n;null===(n=(t=this._historyArgs).enableHistoryLoggerUntil)||void 0===n||n.call(t,Date.now()+60*e*1e3)},self.GRDisableHistoryLogger=()=>{var e,t;null===(t=(e=this._historyArgs).disableHistoryLogger)||void 0===t||t.call(e)}}static create(e){return e.isBG?new Ce(e):new Se(e)}}class Ce extends Ee{constructor(e){super(e),this._historyArgs=e,this._syncInitialStateWithStorage()}_syncInitialStateWithStorage(){var e;null===(e=this._historyArgs.backupStorage)||void 0===e||e.get().then((e=>{if(!e)return;const t=this._getBuffer(null),n=t.toArray();t.clear(),e.forEach((e=>t.enqueue(e))),n.forEach((e=>t.enqueue(e))),this._updateBackupStorage()}))}}class Se extends Ee{}var Te;!function(e){e.TRACE="TRACE",e.DEBUG="DEBUG",e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR",e.FATAL="FATAL"}(Te||(Te={}));const Re={[Te.TRACE]:1,[Te.DEBUG]:2,[Te.INFO]:3,[Te.WARN]:4,[Te.ERROR]:5,[Te.FATAL]:6};function ke(e){return Re[e]||0}class Oe{constructor(e){this.name=e,this._isError=e=>{const t=e;return t&&(void 0!==t.message&&void 0!==t.name||void 0!==t.stack)}}trace(e,t,n){this._logMessage(Te.TRACE,e,t,n)}debug(e,t,n){this._logMessage(Te.DEBUG,e,t,n)}info(e,t,n){this._logMessage(Te.INFO,e,t,n)}warn(e,t,n){this._logMessage(Te.WARN,e,t,n)}error(e,t,n){this._logMessage(Te.ERROR,e,t,n)}fatal(e,t,n){this._logMessage(Te.FATAL,e,t,n)}_logMessage(e,t,n,r){const i={level:e,loggerName:this.name,message:t,timestamp:Date.now()};n&&(this._isError(n)?i.exception=n:i.data=n),i.data=i.data||r,this.handleEvent(i)}}class Fe{constructor(e,t){this.name=e,this._createLogger=t}trace(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.trace(e,t,n)}debug(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.debug(e,t,n)}info(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.info(e,t,n)}warn(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.warn(e,t,n)}error(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.error(e,t,n)}fatal(e,t,n){void 0===this._logger&&(this._logger=this._createLogger(this.name)),this._logger.fatal(e,t,n)}isHistoryEnabled(){return!1}isAdvancedHistoryEnabled(){return!1}}class Ie extends Oe{constructor(e,t,n,r){var i,s;super(e),this._config=t,this._historyLogsService=n,this._loggerSettings=r,this._buffer=(null===(i=this._loggerSettings)||void 0===i?void 0:i.historyBufferSettings)?{name:this.name,settings:null===(s=this._loggerSettings)||void 0===s?void 0:s.historyBufferSettings}:null}handleEvent(e){var t,n;this._config.filterFn(e)&&!(null===(t=this._loggerSettings)||void 0===t?void 0:t.skipWriteToConsole)&&this._config.writer.write(e),this._historyLogsService.isHistoryEnabled()&&!(null===(n=this._loggerSettings)||void 0===n?void 0:n.skipWriteToHistoryLogger)&&this._historyLogsService.pushLog(this._buffer,e)}isHistoryEnabled(){return this._historyLogsService.isHistoryEnabled()}isAdvancedHistoryEnabled(){return this._historyLogsService.isAdvancedHistoryEnabled()}}var Ne;!function(e){e.LEVEL={[Te.TRACE]:"color: white; background: orange;",[Te.DEBUG]:"color: black; background: #ffdc00;",[Te.INFO]:"color: black; background: #abdcfb",[Te.WARN]:"color: white; background: darkorange;",[Te.ERROR]:"color: white; background: red;",[Te.FATAL]:"color: white; background: darkred;"},e.GRAMMARLY="color: black; background: #bada55;";const t=new Map;function n(e,t){return e+Math.floor(Math.random()*(t-e+1))}function r(e){return`color: ${e.isDark?"white":"black"}; background: rgb(${e.red}, ${e.green}, ${e.blue})`}e.getLoggerName=function(e){const i=t.get(e);if(i)return r(i);const s=n(0,255),o=n(0,255),a=n(0,255),c={red:s,green:o,blue:a,isDark:Math.sqrt(s*s*.299+o*o*.587+a*a*.114)<127.5};return t.set(e,c),r(c)},e.RESET_DEFAULT="color: reset;",e.RESET_DEBUG=`color: ${self.matchMedia&&self.matchMedia("(prefers-color-scheme: dark)").matches?"white":"black"};`,e.getReset=function(t){return t!==Te.TRACE&&t!==Te.DEBUG?e.RESET_DEFAULT:t===Te.TRACE||t===Te.DEBUG?e.RESET_DEBUG:e.RESET_DEFAULT},e.outputLog=function(e){return[`grm ${e.level} [${e.loggerName}]  ${e.message}`]}}(Ne||(Ne={}));class Ae{constructor(){this._writeFunc=Ae._commonWriteFunc}shouldWriteLog(e){const t=ke(e);return!!(t&&1<=t)}write(e){try{const t=Ne.outputLog(e);e.data&&t.push(e.data),e.exception&&t.push(e.exception),this.shouldWriteLog(e.level)&&this._writeFunc[e.level].apply(null,t)}catch(e){}}}Ae._commonWriteFunc=function(){const{debug:e,info:t,warn:n,error:r}=(i=console,new Proxy({},{get(e,t){const n=i[t];return n&&"function"==typeof n?n.bind(i):void 0}}));var i;return{[Te.TRACE]:e,[Te.DEBUG]:e,[Te.INFO]:t,[Te.WARN]:n,[Te.ERROR]:r,[Te.FATAL]:r}}();var Pe=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),Me=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return _(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(S),Le=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return _(t,e),t}(k),Ue=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _(t,e),t.prototype[R]=function(){return new Le(this)},t.prototype.lift=function(e){var t=new je(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new Pe;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new Pe;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new Pe;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new Pe;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new Pe;return this.hasError?(e.error(this.thrownError),S.EMPTY):this.isStopped?(e.complete(),S.EMPTY):(this.observers.push(e),new Me(this,e))},t.prototype.asObservable=function(){var e=new P;return e.source=this,e},t.create=function(e,t){return new je(e,t)},t}(P),je=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return _(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):S.EMPTY},t}(Ue),De=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return _(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Pe;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(Ue);function Be(){}var We=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new He(e,this.nextOrObserver,this.error,this.complete))},e}(),He=function(e){function t(t,n,r,i){var s=e.call(this,t)||this;return s._tapNext=Be,s._tapError=Be,s._tapComplete=Be,s._tapError=r||Be,s._tapComplete=i||Be,m(n)?(s._context=s,s._tapNext=n):n&&(s._context=n,s._tapNext=n.next||Be,s._tapError=n.error||Be,s._tapComplete=n.complete||Be),s}return _(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(k);function $e(){return function(e){return e.lift(new Ge(e))}}var Ge=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new qe(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),qe=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return _(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(k),ze=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return _(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new S).add(this.source.subscribe(new Ye(this.getSubject(),this))),e.closed&&(this._connection=null,e=S.EMPTY)),e},t.prototype.refCount=function(){return $e()(this)},t}(P),Ve=function(){var e=ze.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}(),Ye=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return _(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(Le);var Je=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i},e}();function Ke(){return new Ue}function Xe(){return function(e){return $e()((t=Ke,function(e){var r;if(r="function"==typeof t?t:function(){return t},"function"==typeof n)return e.lift(new Je(r,n));var i=Object.create(e,Ve);return i.source=e,i.subjectFactory=r,i})(e));var t,n}}function Ze(e,t){return function(n,r){return t(n(e(r)),r)}}function Qe(e,t){return{get:e,set:t,modify:Ze(e,t),compose:n=>Qe((t=>n.get(e(t))),((r,i)=>t(n.set(r,e(i)),i)))}}function et(...e){if(0===e.length)throw new TypeError("Can not compose zero lenses. You probably want `Lens.identity`.");if(1===e.length)return e[0];{let t=e[0];return e.slice(1).forEach((e=>{t=t.compose(e)})),t}}Qe((e=>e),((e,t)=>e));(function e(t,n){return{get:t,set:n,modify:Ze(t,n),compose:r=>e((e=>{const n=t(e);return void 0!==n?r.get(n):void 0}),((e,i)=>{const s=t(i);return void 0!==s?n(r.set(e,s),i):i}))}})((e=>{}),((e,t)=>t));function tt(e){const t=[];let n;for(;!(n=e.next()).done;)t.push(n.value);return t}function nt(e,t){return Object.prototype.hasOwnProperty.call(t,e)}function rt(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}const it=function(){const e=Object.prototype.toString;return"[object Arguments]"===e.call(arguments)?function(t){return"[object Arguments]"===e.call(t)}:function(e){return nt("callee",e)}}(),st=function(){const e=!{toString:null}.propertyIsEnumerable("toString"),t=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],n=function(){return arguments.propertyIsEnumerable("length")}(),r=function(e,t){for(var n=0;n<e.length;){if(e[n]===t)return!0;n+=1}return!1};return"function"!=typeof Object.keys||n?function(i){if(Object(i)!==i)return[];let s,o;const a=[],c=n&&it(i);for(s in i)!nt(s,i)||c&&"length"===s||(a[a.length]=s);if(e)for(o=t.length-1;o>=0;)s=t[o],nt(s,i)&&!r(a,s)&&(a[a.length]=s),o-=1;return a}:function(e){return Object(e)!==e?[]:Object.keys(e)}}();function ot(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}function at(e,t,n=[],r=[]){if(rt(e,t))return!0;if(ot(e)!==ot(t))return!1;if(null==e||null==t)return!1;if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(ot(e)){case"Arguments":case"Array":case"Object":if(null!=(i=e)&&"function"==typeof i.then)return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!rt(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!rt(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1;break;case"Map":case"Set":if(!at(tt(e.entries()),tt(t.entries()),n,r))return!1;break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var i;const s=st(e);if(s.length!==st(t).length)return!1;let o=n.length-1;for(;o>=0;){if(n[o]===e)return r[o]===t;o-=1}for(n.push(e),r.push(t),o=s.length-1;o>=0;){const i=s[o];if(!nt(i,t)||!at(t[i],e[i],n,r))return!1;o-=1}return n.pop(),r.pop(),!0}const ct=void 0!==n(44675)&&!1;function lt(e,t,n){if(e in n&&at(t,n[e]))return n;{const r={};for(const e in n)r[e]=n[e];return r[e]=t,r}}const ut=new RegExp(["^","function","\\(","[^), ]+","\\)","\\{",'("use strict";)?',"return\\s","[^\\.]+\\.(\\S+?);?","\\}","$"].join("\\s*"));new RegExp(["^","function","\\(","[^), ]+","\\)","\\{",'("use strict";)?',"(\\$_\\$wf\\(\\d+\\);)?","return\\s","(\\$_\\$w\\(\\d+, \\d+\\),\\s)?","[^\\.]+\\.(\\S+?);?","\\}","$"].join("\\s*"));function dt(e){return function(e){const t=ut,n=e.match(t);if(n&&n[2])return n[2].split(".");throw new TypeError(`Expected a property expression, got "${e}".\n\n      A property expression should be a referentially transparent (no side-effects),\n      single-expression "getter" function.\n\n      Correct example: "function (x) { return x.some }" or "x => x.some".\n      Incorrect example: "function (x) { var y = x.some; return y }" or "({some}) => some"`)}(e.toString())}function pt(e){return void 0===e?e=>Qe((t=>t[e]),((t,n)=>lt(e,t,n))):Qe((t=>t[e]),((t,n)=>lt(e,t,n)))}let ht=0;function gt(e){if(ht<10){ht++;const t=`x.${e.join(".")}`,n=`'${e.join("', '")}'`;!function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error("[Focal]: "+e);try{throw new Error(e)}catch(e){}}(`The property expression overload of Atom.lens and Lens.prop are deprecated and will be removed in next versions of Focal. Please use the key name overload for Atom.lens and Lens.key instead. You can convert your code by changing the calls:\n  a.lens(x => ${t}) to a.lens(${n}),\n  Lens.prop((x: T) => ${t}) to Lens.key<T>()(${n}).`)}}function ft(e){return e&&"function"==typeof e.schedule}var _t=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return _(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(k),mt=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return _(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(k),bt=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};function vt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var wt=vt(),yt=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function xt(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var Et=function(e){if(e&&"function"==typeof e[F])return r=e,function(e){var t=r[F]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(yt(e))return bt(e);if(xt(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,w),e};if(e&&"function"==typeof e[wt])return t=e,function(e){for(var n=t[wt]();;){var r=void 0;try{r=n.next()}catch(t){return e.error(t),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,r,i=E(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+i+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Ct(e,t,n,r,i){if(void 0===i&&(i=new mt(e,n,r)),!i.closed)return t instanceof P?t.subscribe(i):Et(t)(i)}function St(e,t){return new P((function(n){var r=new S,i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function Tt(e,t){return t?St(e,t):new P(bt(e))}var Rt={};var kt,Ot,Ft,It=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new Nt(e,this.resultSelector))},e}(),Nt=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return _(t,e),t.prototype._next=function(e){this.values.push(Rt),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(Ct(this,r,void 0,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n){var r=this.values,i=r[n],s=this.toRespond?i===Rt?--this.toRespond:this.toRespond:0;r[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(_t);class At extends De{view(...e){return void 0!==e[0]?"function"==typeof e[0]?new Ut(this,e[0]):"string"==typeof e[0]?new Ut(this,et(...e.map(pt())).get):new Ut(this,(t=>e[0].get(t))):this}}class Pt extends At{set(e){this.modify((()=>e))}lens(e,...t){return new Lt(this,"function"==typeof e?function(e){const t=dt(e);return ct&&gt(t),et(...t.map(pt()))}(e):"string"==typeof e?et(pt(e),...t.map((e=>pt(e)))):e,at)}}class Mt extends Pt{constructor(e){super(e)}get(){return this.getValue()}modify(e){const t=this.getValue(),n=e(t);at(t,n)||this.next(n)}set(e){at(this.getValue(),e)||this.next(e)}}class Lt extends Pt{_source;_lens;_eq;constructor(e,t,n=at){super(void 0),this._source=e,this._lens=t,this._eq=n}get(){return this._subscription?this.getValue():this._lens.get(this._source.get())}modify(e){this._source.modify((t=>this._lens.modify(e,t)))}set(e){this._source.modify((t=>this._lens.set(e,t)))}_onSourceValue(e){const t=this.getValue(),n=this._lens.get(e);this._eq(t,n)||this.next(n)}_subscription=null;_refCount=0;subscribe(...e){this._subscription||(this._subscription=this._source.subscribe((e=>this._onSourceValue(e)))),this._refCount++;const t=new S((()=>{--this._refCount<=0&&this._subscription&&(this._subscription.unsubscribe(),this._subscription=null)}));return t.add(super.subscribe(...e)),t}unsubscribe(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._refCount=0,super.unsubscribe()}}class Ut extends At{_source;_getter;_eq;constructor(e,t,n=at){super(void 0),this._source=e,this._getter=t,this._eq=n}get(){return this._subscription?this.getValue():this._getter(this._source.get())}_onSourceValue(e){const t=this.getValue(),n=this._getter(e);this._eq(t,n)||this.next(n)}_subscription=null;_refCount=0;subscribe(...e){this._subscription||(this._subscription=this._source.subscribe((e=>this._onSourceValue(e)))),this._refCount++;const t=new S((()=>{--this._refCount<=0&&this._subscription&&(this._subscription.unsubscribe(),this._subscription=null)}));return t.add(super.subscribe(...e)),t}unsubscribe(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._refCount=0,super.unsubscribe()}}class jt extends At{_sources;_combineFn;_eq;constructor(e,t,n=at){super(void 0),this._sources=e,this._combineFn=t,this._eq=n}get(){return this._subscription?this.getValue():this._combineFn(this._sources.map((e=>e.get())))}_onSourceValues(e){const t=this.getValue(),n=this._combineFn(e);this._eq(t,n)||this.next(n)}_subscription=null;_refCount=0;subscribe(...e){this._subscription||(this._subscription=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=void 0,r=void 0;return ft(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&x(e[0])&&(e=e[0]),Tt(e,r).lift(new It(n))}(this._sources).subscribe((e=>this._onSourceValues(e)))),this._refCount++;const t=new S((()=>{--this._refCount<=0&&this._subscription&&(this._subscription.unsubscribe(),this._subscription=null)}));return t.add(super.subscribe(...e)),t}unsubscribe(){this._subscription&&(this._subscription.unsubscribe(),this._subscription=null),this._refCount=0,super.unsubscribe()}}!function(e){e.create=function(e){return new Mt(e)},e.log=function(e,t){const n=(e,t,n)=>console.log("%c"+e,`color: ${t}; font-weight: bold`,n);let r=e.get();return e.subscribe((e=>{"function"==typeof t?t(r,e):(console.group(`UPDATE ${t?`TYPE: ${t} `:""}@ ${(new Date).toTimeString()}`),n("prev state","#9E9E9E",r),n("next state","#4CAF50",e),console.groupEnd()),r=e})),e},e.combine=function(...e){return new jt(e.slice(void 0,-1),(t=>e[e.length-1](...t)))},e.fromObservable=function(t){const n=new De(null),r=t.pipe((i=t=>{const r=n.value;null===r?n.next(e.create(t)):r.set(t)},function(e){return e.lift(new We(i,s,o))}),Xe());var i,s,o;return new P((e=>{const t=new S;return t.add(n.pipe(L((e=>!!e))).subscribe(e)),t.add(r.subscribe(void 0,(t=>e.error(t)),(()=>e.complete()))),t}))}}(kt||(kt={}));class Dt{static getInstance(){if(void 0===this._instanceShared)throw new Error("shared Env not inited yet");return this._instanceShared}static initShared(e){if(void 0!==this._instanceShared)throw new Error("shared Env already inited");this._instanceShared=e}constructor(e,t=kt.create(!1),n=kt.create(!1)){this._enableHistoryLoggerInProd=t,this._enableAdvancedHistoryLoggerInProd=n,this.enableHistoryLoggerInProd=(e=!0)=>{e&&!this._enableHistoryLoggerInProd.get()?(console.warn("Debug reports have been enabled"),this._enableHistoryLoggerInProd.set(!0)):!e&&this._enableHistoryLoggerInProd.get()&&(console.warn("Debug reports have been disabled"),this._enableHistoryLoggerInProd.set(!1))},this.enableAdvancedHistoryLoggerInProd=(e=!0)=>{e&&!this._enableAdvancedHistoryLoggerInProd.get()?(console.warn("Advanced logging has been enabled"),this._enableAdvancedHistoryLoggerInProd.set(!0)):!e&&this._enableAdvancedHistoryLoggerInProd.get()&&(console.warn("Advanced logging has been disabled"),this._enableAdvancedHistoryLoggerInProd.set(!1))};const r=e.testArgs,i=r&&r.processEnv?r.processEnv:de.fromBrowserify(),s=pe.getTargetEnv(i);this._initLogger(e,s);const o=function(e,t,n,r,i,s){const o=pe.create(e,t,n,r,i,s);return he.init(o),self.GR_CFG=he.get(),o}(e.browser,e.extensionType,e.deploymentType,e.context,i,s);this.context=e.context,this.config=o}_initLogger(e,t){this.historyLogsService=Ee.create({...e.historyLoggerExtraArgs,enabledInProd:this._enableHistoryLoggerInProd,enableAdvancedInProd:this._enableAdvancedHistoryLoggerInProd});const n="prod"!==t||"cs"!==e.context,r={create:(e,t)=>{return new Ie(e,{writer:new Ae,filterFn:n?e=>!0:(r=Te.ERROR,e=>ke(e.level)>=ke(r))},this.historyLogsService,t);var r}};this.logger=r}}function Bt(){return Dt.getInstance()}!function(e){e.create=function(e,t){return new Fe(e,(()=>Bt().logger.create(e,t)))}}(Ot||(Ot={})),function(e){e.isSubscribe=e=>"action"in e.data&&"subscribe"===e.data.action,e.isUnsubscribe=e=>"action"in e.data&&"unsubscribe"===e.data.action,e.isDispose=e=>"action"in e.data&&"dispose"===e.data.action,e.isPong=e=>"pong"in e.data,e.isPing=e=>"ping"in e.data,e.isObservableResult=e=>"subscribableId"in e}(Ft||(Ft={}));Symbol();function Wt(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[F]}(e))return function(e,t){return new P((function(n){var r=new S;return r.add(t.schedule((function(){var i=e[F]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(xt(e))return function(e,t){return new P((function(n){var r=new S;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(yt(e))return St(e,t);if(function(e){return e&&"function"==typeof e[wt]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new P((function(n){var r,i=new S;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[wt](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}var Ht,$t,Gt=new P((function(e){return e.complete()}));function qt(e,t){return new P((function(n){var r,i;try{r=e()}catch(e){return void n.error(e)}try{i=t(r)}catch(e){return void n.error(e)}var s,o,a=(i?(s=i,o?Wt(s,o):s instanceof P?s:new P(Et(s))):Gt).subscribe(n);return function(){a.unsubscribe(),r&&r.unsubscribe()}}))}!function(e){e.measure=e=>t=>new P((n=>t.subscribe((t=>e((()=>n.next(t)))),(e=>n.error(e)),(()=>n.complete())))),e.using=(e,t)=>qt(e,t),e.doNothing=e=>e}(Ht||(Ht={}));!function(e){e.rpcLegacyMessageName="cs-to-bg-static-capi-rpc-1668544923207",e.rpcLegacyObservableName="cs-to-bg-static-capi-observable-rpc-1668544923207"}($t||($t={}));Ot.create("extension-api");const zt=1e3,Vt=36e5,Yt=24*Vt;function Jt(e){return e*Yt}function Kt(e){return e*zt}var Xt;!function(e){e.lessThan1Week="lessThan1Week",e.weekTo4Weeks="weekTo4Weeks",e.moreThan4weeks="moreThan4weeks",e.moreThan3Months="moreThan3Months"}(Xt||(Xt={}));new Map([[Date.now(),Xt.lessThan1Week],[Date.now()-Jt(7),Xt.weekTo4Weeks],[Date.now()-Jt(28),Xt.moreThan4weeks],[Date.now()-Jt(90),Xt.moreThan3Months]]);const Zt={stats:"ex_perfstats",csInit:"ex_csInitPerf",viewInjection:"viewInjectionPerf"};function Qt(e){const{_tag:t,...n}=e;return{[Zt[e._tag]]:n}}var en;function tn(e){return"object"==typeof e&&null!==e&&"message"in e&&"string"==typeof e.message}!function(e){e.INFO="INFO",e.WARN="WARN",e.ERROR="ERROR"}(en||(en={}));const nn=e=>e.reduce(((e,t,n)=>e+(t-e)/(n+1)),0),rn=(e,t)=>{const n=void 0===t?nn(e):t;return e.length>1?Math.sqrt(e.reduce(((e,t)=>e+(t-n)**2),0)/(e.length-1)):0};var sn,on,an;!function(e){function t(){return{dummy:!0,startMeasure:()=>({endMeasure:()=>{},cancelMeasure:u}),measure:e=>e(),measureAsync:e=>e(),custom:u}}e.dummy=t,e.dummyFactoryInitialization=()=>()=>t()}(sn||(sn={})),function(e){e.dummy={flushMeasures:e=>[],measure:(e,t)=>t(),startMeasure:e=>({endMeasure(){},cancelMeasure(){}})}}(on||(on={})),function(e){let t;!function(e){let t;!function(e){let t;!function(e){e.stats="stats",e.csInit="csInit",e.viewInjection="viewInjection"}(t=e.Types||(e.Types={}))}(t=e.Tagged||(e.Tagged={}))}(t=e.Data||(e.Data={})),e.getStats=function(e){if(0===e.length)return{ct:0};{const t=e.reduce(((e,t)=>Math.min(e,t)),Number.MAX_VALUE),n=e.reduce(((e,t)=>Math.max(e,t)),Number.MIN_VALUE),r=e.length>=6?nn(e):void 0;return{ct:e.length,min:t,max:n,range:n-t,avg:r,stddev:void 0!==r&&e.length>1?rn(e,r):void 0}}}}(an||(an={}));const cn=e=>e.replace("www.","");function ln(e){const t=e&&e.ownerDocument||document,n=t.location||t.defaultView.location;return n?cn(n.hostname):""}function un(e){return pn.includes(e)}function dn(e=ln(),t="other"){var n;return un(e)?null!==(n=function(e){return pn.getTopSiteId(e)}(e))&&void 0!==n?n:"null":t}const pn=new class{constructor(e){function t(e){return`Invalid pattern "${e}": "*" is allowed only at start and/or end position`}this._equal=new Set,this._prefix=[],this._suffix=[],this._infix=[],this._domain=[];for(const n of e)if(n.startsWith("**."))this._domain.push(n.substring(3));else{const e=n.indexOf("*");if(-1===e)this._equal.add(n);else if(e===n.length-1)this._prefix.push(n.substring(0,e));else{if(0!==e)throw new Error(t(n));{const e=n.indexOf("*",1);if(-1===e)this._suffix.push(n.substring(1));else{if(e!==n.length-1)throw new Error(t(n));this._infix.push(n.substring(1,e))}}}}}getTopSiteId(e){var t,n,r,i,s,o,a;return null!==(o=null!==(s=null!==(i=null!==(r=null!==(n=null!==(t=this._equal.has(e)?e:void 0)&&void 0!==t?t:this._domain.find((t=>t===e)))&&void 0!==n?n:(a=this._domain.find((t=>e.endsWith("."+t))))?"**."+a:void 0)&&void 0!==r?r:this._prefix.find((t=>e.startsWith(t))))&&void 0!==i?i:this._suffix.find((t=>e.endsWith(t))))&&void 0!==s?s:this._infix.find((t=>e.includes(t))))&&void 0!==o?o:null}includes(e){return null!==this.getTopSiteId(e)}}(["mail.google.com","translate.google.*","docs.google.com","web.whatsapp.com","facebook.com","outlook.*","linkedin.com","zendesk.*","youtube.com","twitter.com","x.com","messenger.com","*.slack.*","*canvas*","*instructure*","trello.com","editor.wix.com","quizlet.com","mail.yahoo.com","*.force.*","keep.google.com","vk.com","fanyi.baidu.com","app.bullhornstaffing.com","app.qa-world.com","calendar.google.com","papago.naver.com","wordcounter.net","blogger.*","wattpad.com","**.wordpress.com","amazon.*","smallseotools.com","create.kahoot.it","apps.rackspace.com","basecamp.com","varsitytutors.com","canva.com","fanyi.youdao.com","reverso.net","message.alibaba.com","*schoology*","*.blackboard.*","classroom.google.com","*upwork*","business.facebook.com","medium.com","mail.aol.com","workhub.transcribeme.com","github.com","overleaf.com","chat.openai.com","chatgpt.com","**.substack.com","**.atlassian.net","**.greenhouse.io","**.lattice.com","**.latticehq.com","**.salesforce.com","**.force.com","**.zendesk.com","**.microsoftonline.com","**.outlook.com","**.facebook.com","**.messenger.com","**.genesys.com","**.cisco.com","**.avaya.com","**.oraclecloud.com","**.five9.com","**.tawk.to","**.helpscout.com","**.livechat.com","**.intercom.com","**.freshdesk.com","**.liveagent.com","**.hubspot.com","google.com","chat.google.com","classroom.google.com","quillbot.com","notion.so","**.peardeck.com","discord.com","**.officeapps.live.com","student.desmos.com","web.kamihq.com","deepl.com","upwork.com","app.nearpod.com","bard.google.com","instagram.com","teams.microsoft.com","studio.youtube.com","learning.amplify.com","commonlit.org","**.asana.com","reddit.com","forms.office.com","sites.google.com","*amazon.co*","apps.studysync.com","fiverr.com"]);class hn{constructor(e){this._onMeasure=e}measure(e){const t=performance.now();let n=!1;try{const r=e();return n=!0,r}finally{this._onMeasure(performance.now()-t,n)}}async measureAsync(e){const t=performance.now();let n=!1;try{const r=await e();return n=!0,r}finally{this._onMeasure(performance.now()-t,n)}}}function gn(e){return e instanceof Error?function(e){if(e instanceof Error){const{name:t,message:n,stack:r,errors:i,suppressed:s,cause:o,...a}=e;return{...a,name:t,message:n,stack:r,errors:i,suppressed:s,cause:o}}return e}(e):e instanceof ErrorEvent?function(e){if(e instanceof ErrorEvent){const{message:t,type:n,lineno:r,colno:i,filename:s,error:o,...a}=e;return{...a,message:t,type:n,lineno:r,colno:i,filename:s,error:o}}return e}(e):e instanceof PromiseRejectionEvent?function(e){if(e instanceof PromiseRejectionEvent){const{type:t,reason:n,...r}=e;return{...r,type:t,reason:n}}return e}(e):e}function fn(e){try{return JSON.stringify(e,((e,t)=>gn(t)))}catch(e){return JSON.stringify({json_error:"Cannot json stringify"})}}function _n(e,t){return{json:fn(e),exception:t?{name:t.name,message:t.message,stack:t.stack?vn(t.stack):void 0,...ve(t.extra)?t.extra:{}}:void 0}}function mn(){return Bt().browserApi.baseUri}const bn={chromium:["<anonymous>","native","unknown location"],firefox:[],safari:["[native code]"]};function vn(e,{browser:t=Bt().config.bundleInfo.browser,extensionBaseUri:n=mn()}={}){if(!e)return e;const r=bn["chrome"===t||"edge"===t?"chromium":t],i=e=>r.some((t=>e.startsWith(t)))||n&&e.startsWith(n),s=e.split("\n");if("chrome"===t||"edge"===t){const e=[];let t=0;for(;t<s.length&&!s[t].startsWith("    at ");)e.push(s[t]),t++;for(;t<s.length;){const n=(o=s[t],c=void 0,l=void 0,u=void 0,null===(u=null!==(l=null!==(c=wn.exec(o))&&void 0!==c?c:yn.exec(o))&&void 0!==l?l:xn.exec(o))||void 0===u?void 0:u[1]);n?i(n)?e.push(s[t]):e.push("    at <hidden>"):e.push("    <unparsed>"),t++}return e.join("\n")}if("firefox"===t||"safari"===t)return s.map((e=>[e,"firefox"===t?En(e):Cn(e)])).map((([e,t])=>void 0===t?"<unparsed>":i(t)?e:"<hidden>")).join("\n");var o,c,l,u;a(t)}const wn=/^ {4}at ([^(]*)$/,yn=/^ {4}at [^(]* \(([^()]*)\)$/,xn=/^ {4}at eval \([^(]* \(([^()]*)\)\)$/;function En(e){return e.split("@",2)[1]}function Cn(e){var t;return null!==(t=e.split("@",2)[1])&&void 0!==t?t:e}const Sn=Ot.create("lib.tracking.telemetry"),Tn=.1,Rn=.05,kn=.01;var On;!function(e){e.getMapPageCount=e=>void 0===e.mapPageCount?void 0:e.mapPageCount>10?"10+":e.mapPageCount}(On||(On={}));const Fn=e=>e.substring(0,5),In=(e,t)=>{let n;try{n=JSON.stringify(t)}catch(t){n=`stringify fail: '${String(t)}', '${tn(t)?t.message:"undefined"}'`,Sn.warn(n,e)}return n};class Nn{constructor(e=u,t=u,n=u,r=u,i=!1,s=sn.dummyFactoryInitialization,o=u,a=u,c=(e=>.01),l=u,h=s(((e,{hideUserInfo:t,...n})=>{this._sendEvent({logger:e,level:en.INFO,hideUserInfo:t,...Qt(n)})})),g=u,f=u,_=u,m=u,b=u){this._sendFelog=e,this._sendFelogUsage=t,this._setUserInfo=n,this._setContainerId=r,this._sendUsageMetrics=i,this._sendFelogEvent=o,this._sendFelogCrashLogs=a,this._getUsageMetricsRate=c,this._enableDataSharing=l,this._createPerfLogger=h,this._sendFelogMetricEvent=g,this._sendFemetricsRate=f,this._startFemetricsTimer=_,this._endFemetricsTimer=m,this._sendFemetricsTimer=b,this._sendEvent=e=>{try{this._sendFelogEvent(e)}catch(t){Sn.warn(`Failed to send felog for ${JSON.stringify(e)}`,t)}},this._sendException=e=>(t,n,r,i=!0)=>{let s;s=r||(tn(t)?t.message:String(t)),this._sendEvent({message:s,...e,sendToFemetrics:i,extra:{...e.extra,..._n(n,t)}})},this._sendUsageMetricsSamplingRatio=this._getUsageMetricsRate(fe().bundleInfo.browser),this.sendFemetricsRate=(e,t,n)=>{this._sendFemetricsRate(e,t,n)},this.startFemetricsTimer=(e,t,n)=>{this._startFemetricsTimer(e,t,performance.now(),n)},this.endFemetricsTimer=(e,t,n,r)=>{this._endFemetricsTimer(e,t,performance.now(),n,r)},this.sendFemetricsTimer=(e,t,n,r)=>{this._sendFemetricsTimer(e,t,n,r)},this.restoredBgConnection=e=>{this._send("cs.connection.bg.restored",en.INFO,{timeWithoutConnection:e})},this.initWithoutBgConnection=()=>{this._send("cs.connection.bg.disconnected",en.INFO)},this.fetchDefinitionsFail=()=>{this._send("cs.connection.api.definition.failed",en.WARN)},this.tooLongPageConfigInit=e=>{this._send("cs.pageConfig.init.exceeded",en.WARN,{initTime:e})},this.tooLongUserUpdateTime=e=>{this._send("bg.state.user.update.exceeded",en.WARN,{updateTime:e})},this.lostBgPageConnection=()=>{this._send("cs.gbutton.bgConnection.lost",en.INFO)},this.restoreBgPageConnection=e=>{this._send("cs.gbutton.bgConnection.restored",en.INFO,{time:e})},this.dynamicConfigLoadFromPrefsError=e=>{this._sendSampled(kn,"bg.dynamicConfig.prefs.load.error",en.ERROR,{message:e})},this.dynamicConfigSaveToPrefsError=e=>{this._sendSampled(kn,"bg.dynamicConfig.prefs.save.error",en.ERROR,{message:e})},this.dynamicConfigLoadFromServerError=e=>{this._sendSampled(kn,"bg.dynamicConfig.server.load.error",en.ERROR,{message:e})},this.pageConfigCDNError=e=>{this._send("cs.pageConfig.cdn.error",en.ERROR,{message:e})},this.pageConfigLocalStorageError=(e,t)=>{this._send("cs.pageConfig.localStorage.error",en.INFO,{message:e,name:t})},this.pageConfigUpdated=(e,t)=>{this._send("cs.pageConfig.updated",en.INFO,{oldVersion:e,newVersion:t})},this.settingsPopupTimeout=()=>{this._send("settings.popup.init.timeout",en.WARN)},this.settingsUnsupportedShow=e=>{this._send("settings.popup.state.unsupported.show",en.INFO,{popupType:e})},this.gnarClientInitFail=e=>{this._send("gnar.bg.tracking.gnar.init.fail",en.WARN,{message:e})},this.bgTrackingInitFail=()=>{this._send("debug.tracking.init.fail",en.INFO)},this.userUpgradeClick=e=>{this._send("cs.ui.action.upgradeClick",en.INFO,{placement:e})},this.gGbUpHookClick=()=>{this._send("cs.ui.gb.uphook.click",en.INFO)},this.gButtonClick=()=>{this._send("cs.ui.gbutton.click",en.INFO)},this.unexpectedAnonymous=e=>{this._send("debug.bg.session.unexpectedAnonymous",en.INFO,e)},this.getDapiPropError=(e,t)=>{const n="bg.connection.dapi.getProp.error",r=In(n,{statusCode:e,message:t});this._sendEvent({logger:n,level:en.WARN,extra:{json:r},sendToFemetrics:!0})},this.getCheetahStatusError=(e,t)=>{const n="bg.connection.cheetahSettings.getStatus.error",r=In(n,{statusCode:e,message:t});this._sendEvent({logger:n,level:en.WARN,extra:{json:r},sendToFemetrics:!0})},this.bgApiServiceRequestSuccess=(e,t="GET",n)=>{this.sendFemetricsRate("info",{domain:e,context:n?"accessToken enabled":"accessToken not enabled",logger:"bg.api.service.request.success",message:`[${t.toUpperCase()}]`})},this.bgApiServiceRequestFailed=(e,t="GET",n,r)=>{this.sendFemetricsRate("warn",{domain:e,context:r?"accessToken enabled":"accessToken not enabled",message:`[${t.toUpperCase()}] ${n}`,logger:"bg.api.service.request.failed"})},this.setDapiPropError=(e,t)=>{const n="bg.connection.dapi.setProp.error",r=In(n,{statusCode:e,message:t});this._sendEvent({logger:n,level:en.WARN,extra:{json:r},sendToFemetrics:!0})},this.toggleExtensionDefs=e=>{this._send("bg.settings.definitions.toggle",en.INFO,{enabled:e})},this.toggleExtension=(e,t,n)=>{const r={enabled:e,placement:t,domain:n};this._sendEvent({logger:"bg.settings.extension.toggle",level:en.INFO,sendToFemetrics:!0,extra:{json:fn(r)},femetricsExtra:r})},this.disableUntilNextVisit=()=>{this._send("cs.gbutton.disableUntilNextVisit",en.INFO)},this.disableButtonClick=()=>{this._send("cs.gbutton.disableButtonClick",en.INFO)},this.cookieOverflow=(e,t)=>{this._send("debug.bg.state.cookie.overflow",en.INFO,{size:e,biggestCookie:t})},this.externalChangePlan=()=>{this._send("bg.api.external.changePlan",en.INFO)},this.externalChangeDialect=()=>{this._send("bg.api.external.changeDialect",en.INFO)},this.externalChangeUser=()=>{this._send("bg.api.external.changeUsed",en.INFO)},this.externalLogout=()=>{this._send("bg.api.external.logout",en.INFO)},this.safariLogoutFail=e=>{this._sendEvent({logger:"bg.safari.logout.error",level:en.INFO,message:e,sendToFemetrics:!0})},this.csInitialized=e=>{if("message"in e){const t=dn();this._sendFemetricsRate("csInitialized",{message:e.message,isIframe:e.isIframe,stage:e.stage,domain:t,context:e.context});const n=fe().buildInfo.version;this._sendEvent({level:en.INFO,logger:"csFailInitializedVersion",extra:{json:JSON.stringify({csVersion:n})}}),this._sendFemetricsRate("csFailInitializedVersion",{csVersion:n}),"facebook.com"===t&&this._sendEvent({level:en.INFO,logger:"csInitializedFailed",message:e.message,extra:{json:JSON.stringify({isIframe:e.isIframe,stage:e.stage,url:self.location.href,context:e.context})},hideUserInfo:!0})}else this._sendFemetricsRate("csInitialized",e,["firstInstall","registrationDate"])},this.acceptDataControl=()=>{this._send("bg.dataControl.accepted",en.INFO)},this.bgPage={bgStarted:e=>{this._sendFemetricsRate("bgStarted",e),"fail"===e.status&&this._sendException({logger:"bg.start.fail",femetricsExtra:{reason:e.reason},level:en.ERROR})(e.error,{reason:e.reason})},bgPageStarted:(e,t)=>{this._sendFemetricsRate("bgPageStarted",{context:e,time:t})},bgPageInitFail:e=>{this._send("bg.state.init.fail",en.ERROR,{initAttempts:e})},bgPageInitTimeout:e=>{this._send("bg.state.start.timeout",en.WARN,{initTime:e})}},this.popup={popupInitFail:(e,t)=>{this._sendEvent({logger:"popup.init.fail",level:en.ERROR,message:e,extra:t,femetricsMessage:Fn(e)})},fetchTreatmentsFail:e=>{this._sendFemetricsRate("popupFetchTreatmentsFails",{message:Fn(e)})},popupStateInitFail:e=>{this._sendEvent({logger:"popup.state.init.fail",level:en.ERROR,message:e,femetricsMessage:Fn(e)})},initSuccess:()=>{this._sendEvent({logger:"popup.init.success",level:en.INFO,sendToFemetrics:!0})}},this.extensionUpdated=(e,t)=>{this._send("bg.state.updated",en.INFO,{currentVersion:e,previousVersion:t})},this.extensionUpdateFail=e=>{this._send("bg.state.update.fail",en.INFO,{previousVersion:e})},this.cannotGetInstallSource=()=>{this._send("bg.getSource.fail",en.WARN)},this.extensionInstall=e=>{this._sendEvent({logger:"bg.state.install",level:en.INFO,extra:{json:JSON.stringify({source:e})},sendToFemetrics:!0})},this.chromeContentScriptLoadError=(e,t)=>{this._send("bg.chrome.cs.load.error",en.WARN,{message:e,type:t})},this.reloadNotificationShow=()=>{this._send("bg.ui.notification.tabsReload.show",en.WARN)},this.reloadNotificationClick=()=>{this._send("bg.ui.notification.tabsReload.click",en.INFO)},this.fetchUserFail=(e,t,n,r)=>{const i="bg.user.fetch.fail",s=In(i,{body:t,statusCode:n,reason:e,fromAuthRequest:!!r});this._sendEvent({logger:i,level:en.WARN,extra:{json:s},sendToFemetrics:!0})},this.getAccessTokenError=e=>this.sendFemetricsRate("oauthGetAccessTokenError",e),this.getAccessTokenSuccess=e=>this.sendFemetricsRate("oauthGetAccessTokenSuccess",e),this.initializeAccessTokenSuccess=()=>this._sendEvent({logger:"bg.api.service.getAccessToken",message:"initialize access token",level:en.INFO}),this.oauthLogout=e=>this.sendFemetricsRate("oauthLogout",e),this.compareUserInUserUpdate=e=>this.sendFemetricsRate("compareUserInUserUpdate",e),this.frequentCookieChanges=e=>{this._send("debug.cookie.onChange.error",en.INFO,{canceled:e})},this.initializePropFromDapi=e=>{this._send("bg.state.dapi.prop.initialize",en.INFO,{name:e})},this.onboardingPopupShow=()=>{this._send("cs.onboarding.popup.show",en.INFO)},this.onboardingPopupCancel=()=>{this._send("cs.onboarding.popup.cancel",en.INFO)},this.onboardingTutorialShow=()=>{this._send("cs.onboarding.tutorial.show",en.INFO)},this.loginReminderPopupShow=()=>{this._send("cs.gbutton.popup.loginReminder.show",en.INFO)},this.loginReminderBadgeShow=()=>{this._send("bg.state.user.loginReminder.enable",en.INFO)},this.loginReminderCanceled=e=>{this._sendFelog("bg.state.user.loginReminder.canceled",e,en.ERROR)},this.unhandledExceptions={unhandledBgPageException:(e,t)=>{const n="bg.unhandledException";Sn.error(n,new Error(e),t),this._sendSampledEvent(Rn,{logger:n,level:en.ERROR,message:Ln(e),extra:t})},unhandledBgPageRejection:(e,t)=>{const n="bg.unhandledRejection";Sn.error(n,new Error(e),t),this._sendSampledEvent(Rn,{logger:n,level:en.ERROR,message:Mn(e),extra:t})},unhandledPopupException:(e,t)=>{const n="popup.unhandledException";Sn.error(n,new Error(e),t),this._sendEvent({logger:n,level:en.ERROR,message:e,extra:t,femetricsMessage:Fn(e)})},unhandledPopupRejection:(e,t)=>{const n="popup.unhandledRejection";Sn.error(n,new Error(e),t),this._sendEvent({logger:n,level:en.ERROR,message:e,extra:t,femetricsMessage:Fn(e)})}},this.csUnhandled=({message:e,femetricsExtra:t,error:n,printAsWarning:r})=>{const i="cs.unhandled";r?Sn.warn(i,new Error(e)):Sn.error(i,new Error(e)),this._sendEvent({logger:i,level:r?en.WARN:en.ERROR,message:e,femetricsExtra:t,sendToFemetrics:!0,extra:n?_n({},n):void 0})},this.csCrash=d(((e,t)=>{Sn.error("cs.crash",new Error(e)),this._sendEvent({logger:"cs.crash",level:en.ERROR,message:e,femetricsExtra:t})})),this.storageMigrationSucceeded=()=>{this._send("bg.storageMigration.success",en.INFO,{})},this.storageMigrationFailed=this._sendException({logger:"bg.storageMigration.failure",level:en.ERROR}),this.storageApplyChangesFailed=this._sendException({logger:"bg.storage.applyChanges.failure",level:en.ERROR}),this.cardShowAction=()=>{this._sendSampled(Tn,"cs.editor.card.show",en.INFO)},this.cardHideAction=()=>{this._sendSampled(Tn,"cs.editor.card.hide",en.INFO)},this.cardReplacementAction=()=>{this._sendSampled(Tn,"cs.editor.card.replacement",en.INFO)},this.cardAddToDictAction=()=>{this._sendSampled(Tn,"cs.editor.card.addToDict",en.INFO)},this.cardIgnoreAction=()=>{this._sendSampled(Tn,"cs.editor.card.ignore",en.INFO)},this.synonymCardShowAction=e=>{this._sendSampled(Tn,"cs.editor.synonym.show",en.INFO,{notFoundCard:e})},this.synonymCardHideAction=e=>{this._sendSampled(Tn,"cs.editor.synonym.hide",en.INFO,{notFoundCard:e})},this.synonymReplacementAction=()=>{this._sendSampled(Tn,"cs.editor.synonym.replacement",en.INFO)},this.dictCardShowAction=()=>{this._sendSampled(Tn,"cs.editor.dict.show",en.INFO)},this.dictCardHideAction=()=>{this._sendSampled(Tn,"cs.editor.dict.hide",en.INFO)},this.couldNotParseTransform=(e,t)=>{this._send("cs.cards.transforms.parse.error",en.WARN,{transformHTML:e,fallbackParseSuccessful:t})},this.disabledTabLoad=e=>{this._sendUsage("usage.loadOnDisabledTab",en.INFO,{accountType:e})},this.disabledTabByUserLoad=e=>{this._sendUsage("usage.loadOnDisabledByUserTab",en.INFO,{accountType:e})},this.initSession=(e,t,n,r)=>{this._sendUsage("usage.session.init",en.INFO,{isTopSite:un(e),accountType:t,fieldType:n,fieldSupported:r}),this._sendMetric("usage.session.init",{domain:e,accountType:t,fieldType:n,fieldSupported:r})},this.cardFirstInteraction=(e,t)=>{this._sendUsage("usage.card.interaction",en.INFO,{accountType:e,fieldType:t})},this.gnar={nextPingDateWriteError:e=>this._send("bg.gnarTracker.nextPingDateWriteError",en.ERROR,{error:e}),sendError:(e,t)=>this._sendException({logger:"bg.gnarTracker.sendError",level:en.ERROR,femetricsExtra:{context:t}})(e,{eventName:t}),trackBeforeSetUser:e=>this._send("bg.gnarTracker.trackBeforeSetUser",en.INFO,{millisSinceInit:e}),errorSetUser:this._sendException({logger:"bg.gnarTracker.errorSetUser",level:en.ERROR})},this.productMetricsClient={updateConfigurationFailed:(e,t)=>{this._sendException({logger:"bg.productMetricsClient.setUserInfoFailed",level:en.ERROR,femetricsExtra:{context:t}})(e,{error:e,context:t})}},this._sendGdocsPageExecutionException=this._sendException({logger:"cs.gdocs.pageExecution.exception",level:en.ERROR}),this.gdocs={nonDocumentPage:e=>{this._sendEvent({logger:"cs.gdocs.canvas.nonDocumentPage",level:en.WARN,sendToFemetrics:!0,femetricsMessage:`isViewMode: ${e.isViewMode}`,femetricsExtra:{context:e.pageType}})},documentTabInfo:d((e=>{this.sendFemetricsRate("gdocsDocumentTabInfo",{hasTabQuery:e})})),pageExecutionException:(e,t)=>this._sendGdocsPageExecutionException(e,{isGDocsCanvas:t}),disabledBeforeForceEnable:d((e=>this._send("cs.gdocs.disabledBeforeForceEnable",en.INFO,{disabledDate:e}))),enabledBeforeForceEnable:d((()=>this._send("cs.gdocs.enabledBeforeForceEnable",en.INFO))),replacementSelectionErrorInfo:e=>{this._sendFemetricsRate("gdocsReplacementSelectionErrorInfo",e)},textChangeTime:e=>{this.sendFemetricsRate("gdocsTextChangeTime",e,["os"])},eventTargetFail:d(this._sendException({logger:"cs.gdocs.eventTargetFail",level:en.ERROR})),sidebarFail:d(((e,t)=>this._sendException({logger:"cs.gdocs.getSidebarFail",level:en.ERROR})(e,{type:t}))),layoutTreeAvailability:e=>{this.sendFemetricsRate("gdocsInternalsLayoutTreeAvailability",e)}},this.canvasGdocs={injectedException:d(this._sendException({logger:"cs.gdocs.canvas.injected.exception",level:en.ERROR})),injectedError:p(((e,t,n,r)=>this._sendEvent({logger:"cs.gdocs.canvas.injected.error",level:en.ERROR,message:t,extra:{json:fn({context:e,data:n})},gdocsExtra:r,femetricsExtra:{context:e}})),(e=>e)),injectedInfo:p(((e,t,n)=>this._sendEvent({logger:"cs.gdocs.canvas.injected.info",eventContext:e,level:en.INFO,sendToFemetrics:!0,gdocsExtra:t,extra:{json:fn({context:e,data:n})},femetricsExtra:{context:e}})),(e=>e)),initializationException:d(((e,t,n)=>this._sendException({logger:"cs.gdocs.canvas.init.exception",level:en.ERROR,gdocsExtra:n,femetricsExtra:{type:t}})(e,{type:t}))),initializationTimeout:d(((e,t,n)=>this._sendEvent({logger:"cs.gdocs.canvas.init.timeout",level:en.ERROR,message:`Initialization for ${t} timeout: ${e}ms`,extra:{json:fn({type:t})},gdocsExtra:n,femetricsExtra:{type:t}}))),creatingException:d(((e,t)=>this._sendEvent({logger:"cs.gdocs.canvas.creating.exception",level:en.ERROR,message:e,gdocsExtra:t}))),initInterrupted:d((e=>this._sendEvent({logger:"cs.gdocs.canvas.interrupted",level:en.ERROR,message:"Interrupted",gdocsExtra:e}))),dataSourceException:d(((e,t)=>this._sendException({logger:"cs.gdocs.canvas.dataSource.exception",level:en.ERROR,femetricsExtra:{type:t}})(e,{type:t}))),error:p(((e,t,n,r,i)=>this._sendEvent({logger:"cs.gdocs.canvas.error",level:en.ERROR,message:t,extra:_n({type:e,message:t,data:r},n),femetricsExtra:{type:e,mappingName:null==i?void 0:i.mappingName}})),(e=>e),((e,t,n,r,i)=>{this._sendFemetricsRate("gdocsError",{type:e,message:t&&t.substring(0,20)||"other",mappingName:null==i?void 0:i.mappingName,selectionDiff:"selectionService"===e?null==r?void 0:r.selectionDiff:void 0})})),warning:p(((e,t,n)=>this._sendEvent({logger:"cs.gdocs.canvas.warning",level:en.WARN,message:t,extra:_n({type:e,message:t,data:n})})),(e=>e)),trackSessionFinalResult:d(((e,t)=>this._sendEvent({logger:"cs.gdocs.canvas.start.result",level:en.INFO,gdocsExtra:t,sendToFemetrics:!0,femetricsExtra:{type:e}}))),started:e=>this._sendEvent({logger:"cs.gdocs.canvas.started",level:en.INFO,sendToFemetrics:!0,gdocsExtra:e}),creating:e=>this._sendEvent({logger:"cs.gdocs.canvas.creating",level:en.INFO,sendToFemetrics:!0,gdocsExtra:e}),showLongDocPopup:e=>this._sendEvent({logger:"cs.gdocs.canvas.longDocPopup",level:en.INFO,sendToFemetrics:!0,gdocsExtra:e}),showSharedDocPopup:e=>this._sendEvent({logger:"cs.gdocs.canvas.sharedDocPopup",level:en.INFO,sendToFemetrics:!0,gdocsExtra:e}),debugPageSearchFail:d((e=>this._sendEvent({logger:"cs.gdocs.canvas.pageSearch.debug",level:en.INFO,extra:{json:fn({data:e})}}))),debugMappingFail:d((e=>this._sendEvent({logger:"cs.gdocs.canvas.mapping.debug",level:en.INFO,extra:{json:fn({data:e})}}))),buildTextMapPerf:this._createPerfLogger("cs.gdocs.canvas.perf.textMap",30),findPage:this._createPerfLogger("cs.gdocs.canvas.perf.findPage",100),mappingPerf:e=>new hn((t=>{1e-4>Math.random()&&this._sendFemetricsTimer("gdocsMapping",t,"summary",{...e,mapPageCount:On.getMapPageCount(e)})})),fullTextNotFound:d((()=>this._send("cs.gdocs.canvas.fullTextNotFound",en.WARN))),equationsRenderInfo:e=>{this._sendFemetricsRate("gdocsEquationsRenderInfo",e)},mapping:({mapPageCount:e,attempts:t,mappingName:n,mode:r,tableMode:i,partialRenderMode:s,renderRTL:o})=>{this._sendFemetricsRate("gdocsMapping",{mappingMode:r,mappingName:n,tableMode:i,mapPageCount:e>5?"5+":e,mappingAttempts:t.length,partialRenderMode:s,renderRTL:o,...t.reduce(((e,t,n)=>({...e,[`mapping${n}_name`]:t.name,[`mapping${n}_success`]:t.success,[`mapping${n}_mappedPages`]:"number"==typeof t.mappedPageCount&&t.mappedPageCount>5?"5+":t.mappedPageCount})))},["os","userOrganizationType"]),this._sendFemetricsRate("gdocsMapping.short",{mappingName:n},["os","userOrganizationType"])},mappingFailedInfo:e=>{this._sendFemetricsRate("gdocsMappingFailedInfo",e)},mappings:{advanced:{byFeatures:({mapPageCount:e,injectedFeatures:t,...n})=>{this._sendFemetricsRate("gdocs.mapping.advanced.byFeatures",{...n,...jn(t),mapPageCount:e>5?"5+":e},["os"])},textCoverage:e=>{this._sendFemetricsRate("gdocs.mapping.advanced.coverage",e)},textCoverageShort:e=>{this._sendFemetricsRate("gdocs.mapping.advanced.coverage.short",e)}}},mappingStats:e=>{this._sendFemetricsRate("gdocsMappingStats",e,["os"])},mappingPageStats:e=>{this._sendFemetricsRate("gdocsMappingPageStats",e,["os"])},mappingStatsByTextLength:e=>{this._sendFemetricsRate("gdocsMappingStatsByTextLength",e,["os"])},mappingPageStatsByTextLength:e=>{this._sendFemetricsRate("gdocsMappingPageStatsByTextLength",e,["os"])},mappingStatsByTableMode:e=>{this._sendFemetricsRate("gdocsMappingStatsByTableMode",e,["os"])},mappingPageStatsByTableMode:e=>{this._sendFemetricsRate("gdocsMappingPageStatsByTableMode",e,["os"])},mappingMinPageGapsStats:e=>{this._sendFemetricsRate("gdocsMappingMinPageGapsStats",e,["os"])},mappingMaxPageGapsStats:e=>{this._sendFemetricsRate("gdocsMappingMaxPageGapsStats",e,["os"])},mappingSearchStats:e=>{this._sendFemetricsRate("gdocsMappingSearchStats",e,["os"])},partialMappingByPageExperimentUsage:e=>{this._sendFemetricsRate("gdocsPartialMappingByPageExperimentUsage",e,["os"])},atmMappingPerformance:e=>{this._sendFemetricsRate("gdocsATMMappingPerformance",e,["os"])},selectionPatched:e=>{this._sendFemetricsRate("gdocsSelectionPatched",e)},trackFatalPopup:(e,t)=>{this._sendFemetricsRate("gdocsTrackFatalPopup",{reason:(null==e?void 0:e.isBrowserExtFault)?"extension":"google",content:String(null==e?void 0:e.textContent).slice(0,10),context:t?"started":"notStarted"})}},this.gmailThreadContext={warning:p(((e,t,n)=>this._sendEvent({logger:"cs.threadContext.gmail.warning",level:en.WARN,message:t,extra:{json:fn({type:e,message:t,data:n})}})),(e=>e))},this.autoFix={featureToggleClick:(e,t)=>{this._sendFemetricsRate("autoFixFeatureToggleClick",{autoFixFeatureState:e,autoFixFeatureTogglePlacement:t})},attemptToApplyInParallel:e=>{this._sendFemetricsRate("autoFixAttemptToApplyInParallel",{autoAlerApplierVersion:e})},attemptToApplyInParallelError:d(((e,t)=>this._sendEvent({logger:"cs.autoFix.attemptToApplyInParallelError",level:en.ERROR,sendToFemetrics:!0,autoFixExtra:{domain:e,autoAlerApplierVersion:t}})))},this.autoApply={inconsistentRevertAlertError:d(((e,t)=>this._sendEvent({logger:"cs.autoApply.inconsistentRevertAlert",level:en.ERROR,sendToFemetrics:!0,autoApplyExtra:{domain:e,pname:t}}))),triggered:()=>{this._sendFemetricsRate("autoApplyTriggered")},cardLooked:()=>{this._sendFemetricsRate("autoApplyCardLooked")},revertClick:()=>{this._sendFemetricsRate("autoApplyRevertClick")},reverted:()=>{this._sendFemetricsRate("autoApplyReverted")},affectedByTextChange:()=>{this._sendFemetricsRate("autoApplyAffectedByTextChange")},acceptClick:()=>{this._sendFemetricsRate("autoApplyAcceptClick")},settingsClick:e=>{this._sendFemetricsRate("autoApplySettingsClick",{autoApplySettingsMenuState:e})},turnOffUntilNextView:()=>{this._sendFemetricsRate("autoApplyTurnOffUntilNextView")},integrationCreated:()=>{this._sendFemetricsRate("autoApplyIntegrationCreated")}},this.knowledgeHub={error:p(((e,t,n,r)=>this._sendEvent({logger:"cs.knowledgeHub.error",level:en.ERROR,message:t,extra:{json:fn({type:e,message:t,domain:n,data:r})}})),(e=>e)),integrationCreated:(e,t)=>{this._sendFemetricsRate("knowledgeHubIntegrationCreated",{site:e,integrationMode:t})},relatedMaterialsClick:e=>{this._sendFemetricsRate("knowledgeHubRelatedMaterialsClick",{site:e})},pointPeopleClick:(e,t)=>{this._sendFemetricsRate("knowledgeHubPointPeopleClick",{site:e,pointPeopleClickType:t})},descriptionCopyClick:e=>{this._sendFemetricsRate("knowledgeHubDescriptionCopyClick",{site:e})},suggestEditButtonClick:e=>{this._sendFemetricsRate("knowledgeHubSuggestEditButtonClick",{site:e})},featureToggleClick:(e,t)=>{this._sendFemetricsRate("knowledgeHubFeatureToggleClick",{site:e,featureState:t})},bgApiError:(e,t)=>{const n="bg.knowledgeHub.error",r=In(n,{statusCode:e,message:t});this._sendEvent({logger:n,level:en.ERROR,extra:{json:r},sendToFemetrics:!0})},onboardingPopupShow:(e,t)=>{this._sendFemetricsRate("knowledgeHubOnboardingPopupShow",{onboardingType:e,site:t})},onboardingNextButtonClick:(e,t,n)=>{this._sendFemetricsRate("knowledgeHubOnboardingNextButtonClick",{onboardingType:e,site:t,step:n})},onboardingSkipButtonClick:(e,t,n)=>{this._sendFemetricsRate("knowledgeHubOnboardingSkipButtonClick",{onboardingType:e,site:t,step:n})},onboardingCloseButtonClick:(e,t,n)=>{this._sendFemetricsRate("knowledgeHubOnboardingCloseButtonClick",{onboardingType:e,site:t,step:n})}},this._cbLog=e=>p(((t,n,r,i)=>this._sendEvent({logger:"cs.citationBuilder",level:e,citationBuilderExtra:r,message:n,extra:_n(void 0,i)})),(e=>e)),this.citationBuilder={error:this._cbLog(en.ERROR),warning:this._cbLog(en.WARN),info:this._cbLog(en.INFO)},this.g2LoggerFactory=({integrationName:e,level:t})=>({message:n,data:r={},error:i})=>{this._sendEvent({logger:"cs.g2",level:t,message:n,extra:{...i?_n(r,i):{json:fn(r)}},g2Extra:{integrationName:e}})},this.performance={processInput:this._createPerfLogger("cs.fluid.processInput",100),processAlerts:this._createPerfLogger("cs.fluid.processAlerts",10),processFilterChange:this._createPerfLogger("cs.fluid.processFilterChange",10),csInitialized:(e,t,n,r,i)=>{this._createPerfLogger("cs.initialized").custom({_tag:an.Data.Tagged.Types.csInit,domain:self.location.host,hideUserInfo:!0,loadTime:e,initTime:t,pageLoadTime:n,injectTime:r,error:i?{message:i.message,stack:i.stack}:void 0})},viewInjection:e=>{this._createPerfLogger("cs.viewInjection").custom({_tag:an.Data.Tagged.Types.viewInjection,...e})}},this.autocorrect={responseTime:this._createPerfLogger("cs.autocorrect.responseTime",10),predictTime:this._createPerfLogger("cs.autocorrect.predictTime",10),integrationCreated:()=>{this._sendFemetricsRate("autoCorrectIntegrationCreated")},triggered:()=>{this._sendFemetricsRate("autoCorrectTriggered")},cardLooked:()=>{this._sendFemetricsRate("autoCorrectCardLooked")},revertClick:()=>{this._sendFemetricsRate("autoCorrectRevertClick")},reverted:()=>{this._sendFemetricsRate("autoCorrectReverted")},acceptClick:()=>{this._sendFemetricsRate("autoCorrectAcceptClick")},settingsClick:e=>{this._sendFemetricsRate("autoCorrectSettingsClick",{autoCorrectSettingsMenuState:e})},turnOffUntilNextView:()=>{this._sendFemetricsRate("autoCorrectTurnOffUntilNextView")},affectedByTextChange:()=>{this._sendFemetricsRate("autoCorrectAffectedByTextChange")}},this.assistant={initTime:this._createPerfLogger("cs.assistant.initTime",1),renderTime:this._createPerfLogger("cs.assistant.renderTime",1),openTime:this._createPerfLogger("cs.assistant.openTime",1),alertManagerError:this._sendException({logger:"cs.assistant.alertManagerError",level:en.ERROR})},this.proofit={availabilityQuotaError:e=>{this._sendEvent({logger:"cs.proofit.availability_quota_error",level:en.ERROR,extra:{json:JSON.stringify(e)}})},submitResponseError:e=>{this._sendEvent({logger:"cs.proofit.submit_response_error",level:en.ERROR,extra:{json:JSON.stringify(e)}})},progressError:e=>{this._sendEvent({logger:"cs.proofit.progress_error",level:en.ERROR,extra:{json:JSON.stringify(e)}})},progressRejected:e=>{this._sendEvent({logger:"cs.proofit.progress_rejected",level:en.WARN,extra:{json:JSON.stringify(e)}})}},this.oauthExchangeError=e=>{this._send("bg.oauth.exchange.error",en.ERROR,{message:e})},this.chipmunkAPIError=e=>{this._send("bg.chipmunk.api.error",en.ERROR,{message:e})},this.getIterableError=e=>{this._sendEvent({logger:"bg.iterable.api.error",level:en.WARN,extra:{json:e},sendToFemetrics:!0})},this.getMiseError=e=>{this._sendEvent({logger:"bg.mise.api.token.error",level:en.WARN,extra:{json:e},sendToFemetrics:!0})},this.alerts={inconsistentAlertWithText:(e,t)=>{this._sendFemetricsRate("inconsistentAlertWithText",{context:e,source:t})},cannotShowInlineCard:(e,t)=>{this._sendFemetricsRate("cannotShowInlineCard",{context:e,domain:dn(t)})},showInlineCard:e=>{this._sendFemetricsRate("showInlineCard",{domain:dn(e)})}},this.upgradeHooks={showUpgradeHook:(e,t,n)=>{this._sendFemetricsRate("showPremiumButton",{upgradeHookName:e,upgradeHookSlot:t,upgradeHookVariant:n})},clickUpgradeHook:(e,t,n)=>{this._sendFemetricsRate("clickPremiumButton",{upgradeHookName:e,upgradeHookSlot:t,upgradeHookVariant:n})}},this.upgradeHooksExp={upgradeHookExperimentPeek:(e,t,n)=>{this._sendFemetricsRate("upgradeHookExperiment",{experimentName:e,experimentGroup:t,domain:dn(n)})},upgradeHookFirstHiddenPremiumAlertReceived:(e,t,n)=>{this._sendFemetricsRate("upgradeHookFirstHiddenPremiumAlertReceived",{experimentName:e,experimentGroup:t,domain:dn(n)})},upgradeHookFirstSDUIReceivedFromCAPI:(e,t,n)=>{this._sendFemetricsRate("upgradeHookFirstSDUIReceivedFromCAPI",{experimentName:e,experimentGroup:t,domain:dn(n)})},upgradeHookFeedRendered:(e,t,n)=>{this._sendFemetricsRate("upgradeHookFeedRenderedWithUpgradeCard",{experimentName:e,experimentGroup:t,domain:dn(n)})},upgradeHookCardShown:(e,t,n)=>{this._sendFemetricsRate("upgradeHookCardShown",{experimentName:e,experimentGroup:t,domain:dn(n)})}},this.sendToTabFailed=(e,t)=>{this._sendSampledEvent(Rn,{logger:"bg.connection.sendToTabFailed",level:en.ERROR,message:"send message to tab emit an error",extra:_n(e,t)})},this.debugReports={downloadSuccessfully:(e,t)=>{const n="debugReports.downloadSuccessfully",r=In(n,{envContext:e,downloadEnvContext:t});this._sendEvent({logger:n,level:en.INFO,extra:{json:r},sendToFemetrics:!0})},downloadTimeout:(e,t)=>{const n="debugReports.downloadTimeout",r=In(n,{envContext:e,downloadEnvContext:t});this._sendEvent({logger:n,level:en.WARN,extra:{json:r},sendToFemetrics:!0})},downloadError:(e,t)=>{const n="debugReports.downloadError",r=In(n,{envContext:e,downloadEnvContext:t});this._sendEvent({logger:n,level:en.WARN,extra:{json:r},sendToFemetrics:!0})}},this.dialectSettingsError=e=>{this._sendException({logger:"bg.api.dialectService",level:en.ERROR})(e)},this.debugSelectiveLogoutGate=()=>{this._sendEvent({logger:"bg.user.debugSelectiveLogoutGate",level:en.INFO})},this.logoutSuccess=(e,t)=>{this._sendEvent({logger:"bg.user.logoutSuccess",level:en.INFO,extra:{json:JSON.stringify({oauth2ApiGate:e,reason:t})}})},this.logoutError=e=>{this._sendException({logger:"bg.user.logout",level:en.ERROR})(e)},this.logoutLastAuthnEventError=e=>{this._sendException({logger:"bg.user.logout.lastAuthnEvent",level:en.ERROR})(e)},this.serializeTransportMsgFailed=()=>{this._sendFemetricsRate("error",{logger:"bg.serialize.transport.message.failed",level:en.ERROR,message:"Failed to serialize rpc message"})},this.hiddenFieldInjectionFailed=()=>{this._sendFemetricsRate("error",{logger:"cs.hiddenField.injection.failed",level:en.ERROR,domain:dn()})},this.skipIntegrationForNonHtmlPage=()=>{this._sendFemetricsRate("info",{logger:"cs.skip.integration.for.non.html.page",domain:Un(self.location.hostname)})},this.backendManagedStorage={error:(e,t)=>{this._sendException({logger:"bg.backendManagedStorage",level:en.ERROR})(t,void 0,e)},warn:(e,t)=>{const n=In("backendManagedStorage.warn",t);this._sendEvent({logger:"bg.backendManagedStorage",level:en.WARN,message:e,extra:{json:n}})},info:e=>{this._sendEvent({logger:"bg.backendManagedStorage",level:en.INFO,message:e})}},this.cookiesAccessibility={enabled:()=>{this.sendFemetricsRate("cookiesAccessibility",{enabled:!0},["os","osVersion","userOrganizationType"])},disabled:(e,t)=>{this.sendFemetricsRate("cookiesAccessibility",{enabled:!1,reason:e},["os","osVersion","userOrganizationType"]),t&&this._sendEvent({logger:"bg.cookiesInaccessibile",level:en.ERROR,message:t})}},this.replacement={info:e=>{this.sendFemetricsRate("replacementInfo",e,["os","userOrganizationType"])},infoShort:e=>{this.sendFemetricsRate("replacementInfoShort",e)},infoShortExtended:e=>{this.sendFemetricsRate("replacementInfoShortExtended",e)},approximateMatched:e=>{this.sendFemetricsRate("replacementInfo.approximateMatched",e)},format:{short:e=>{this.sendFemetricsRate("replacementInfo.format.short",e)},alert:e=>{this.sendFemetricsRate("replacementInfo.format.alert",e)},style:e=>{this.sendFemetricsRate("replacementInfo.format.style",e)},hyperlinks:e=>{this.sendFemetricsRate("replacementInfo.format.hyperlinks",e)},smartChips:e=>{this.sendFemetricsRate("replacementInfo.format.smartChips",e)},footnotes:e=>{this.sendFemetricsRate("replacementInfo.format.footnotes",e)}},gOSInfo:e=>{this.sendFemetricsRate("replacementInfo.gOS",e)},gdocs:(e,t)=>{this.sendFemetricsRate("replacementInfo.gdocs",e,["os"]);for(const[n,r]of t)this.sendFemetricsRate(`replacementInfo.gdocs.byGate.${n}`,{...e,enabled:r},["os"])},gdocsByFeatures:({injectedFeatures:e,...t})=>{this.sendFemetricsRate("replacementInfo.gdocs.advanced.byFeatures",{...t,...jn(e),hasLayout:void 0},["os"])},contentEditable:e=>{this.sendFemetricsRate("replacementInfo.contentEditable",e)},sessionCount:e=>{this.sendFemetricsRate("replacementSessionCount",e)},sessionStats:e=>{this.sendFemetricsRate("replacementSessionStats",e)},sessionStatsBySource:e=>{this.sendFemetricsRate("replacementSessionStatsBySource",e)},sessionStatsByReplacementType:e=>{this.sendFemetricsRate("replacementSessionStatsByReplacementType",e)},alert:e=>{this.sendFemetricsRate("replacementInfo.alert",e)},alertExtended:e=>{this.sendFemetricsRate("replacementInfo.alertExtended",e)}},this.gOS={info:(e,t,n)=>{this._sendEvent({logger:`gOS.${e}`,level:en.INFO,message:t,extra:n})},warn:(e,t,n)=>{this._sendEvent({logger:`gOS.${e}`,level:en.WARN,message:t,extra:n})},error:(e,t,n)=>{this._sendEvent({logger:`gOS.${e}`,level:en.ERROR,message:t,extra:_n(n)})}}}_send(e,t,n){const r=In(e,n);try{this._sendFelog(e,String(null==n?void 0:n.message),t,n?{json:r}:void 0)}catch(t){Sn.warn(`Failed to send felog for ${e}: '${tn(t)?t.message:"undefined"}'`,t)}}_sendUsage(e,t,n){if(this._sendUsageMetrics&&this._sendUsageMetricsSamplingRatio>Math.random())try{this._sendFelogUsage(e,"",t,n)}catch(t){Sn.warn(`Failed to send usage felog for ${e}: '${tn(t)?t.message:"undefined"}'`,t)}}_sendSampled(e,t,n,r){e>Math.random()&&this._send(t,n,r)}_sendSampledEvent(e,t){e>Math.random()&&this._sendEvent(t)}_sendMetric(e,t){this._sendFelogMetricEvent({metricName:e,data:t})}sendCrashLogs(e,t){try{this._sendFelogCrashLogs(t)}catch(t){Sn.warn(`Failed to send crash data data for ${e}: '${tn(t)?t.message:"undefined"}'`,t)}}setUserInfo(e){this._setUserInfo(e)}setContainerId(e){this._setContainerId(e)}enableDataSharing(){this._enableDataSharing()}notificationShown(e){this._send("cs.notification.show",en.INFO,{type:e})}notificationHide(e){this._send("cs.notification.hide",en.INFO,{type:e})}}var An,Pn;function Mn(e){return e?"Failed to fetch"===e?An.FAILED_FETCH:"Could not establish connection. Receiving end does not exist."===e||e.includes("No frame with id")||e.includes("No tab with id")||e.startsWith("Frame with ID")&&e.endsWith("was removed.")?An.TAB_NOT_EXISTS:e.startsWith("IO error:")?An.IO_ERROR:"The browser is shutting down."===e?An.BROWSER_SHUTTING_DOWN:"No available storage method found."===e?An.NO_STORAGE_METHOD_FOUND:"this._firefox is undefined"===e?An.FIREFOX_UNDEFINED:"Load failed"===e?An.LOAD_FAILED:"Unexpected user type for login reminder"===e?An.UNEXPECTED_USER_TYPE:An.OTHER:An.EMPTY}function Ln(e){return e?e.includes("executing a cancelled action")?Pn.ACTION_CANCELED:"Script error."===e?Pn.SCRIPT_ERROR:"object unsubscribed"===e?Pn.OBJECT_UNSUBSCRIBED:e.includes("is not a function")?Pn.INVALID_FUNCTION:Pn.OTHER:Pn.EMPTY}function Un(e){const t=t=>e.endsWith(t),n=dn(e);if("other"===n){const e=["pubmatic.com","quantumdex.io","gumgum.com","aniview.com","amazon-adsystem","nextmillmedia.com","doubleclick.net","adsrvr.org","adnxs.com","msn.com"].find(t);if(e)return e}return n}function jn(e){return{strikethrough:e.useStrikethroughFiltering,codeBlocks:e.useCodeBlockFiltering}}!function(e){let t;!function(e){e.fromPartial=e=>e}(t=e.Mock||(e.Mock={}))}(Nn||(Nn={})),function(e){e.FAILED_FETCH="FailedToFetch",e.TAB_NOT_EXISTS="TabNotExists",e.IO_ERROR="IOError",e.BROWSER_SHUTTING_DOWN="BrowserShuttingDown",e.FIREFOX_UNDEFINED="FirefoxUndefined",e.LOAD_FAILED="LoadFailed",e.UNEXPECTED_USER_TYPE="UnexpectedUserType",e.NO_STORAGE_METHOD_FOUND="NoStorageMethodFound",e.EMPTY="Empty",e.OTHER="Other"}(An||(An={})),function(e){e.ACTION_CANCELED="ActionCanceled",e.SCRIPT_ERROR="ScriptError",e.OBJECT_UNSUBSCRIBED="ObjectUnsubscribed",e.INVALID_FUNCTION="InValidFunction",e.EMPTY="Empty",e.OTHER="Other"}(Pn||(Pn={}));Ot.create("lib.tracking.logger");Kt(3);var Dn,Bn,Wn;!function(e){e.default="default",e.fallback="fallback"}(Dn||(Dn={})),function(e){e.bgHistoryLogs="bgHistoryLogs",e.popupHistoryLogs="popupHistoryLogs",e.csHistoryLogs="csHistoryLogs"}(Bn||(Bn={}));!function(e){e.UPDATE_BACKUP_STORAGE_TIMEOUT=Kt(5),e.BACKUP_STORAGE_LOGS_CAPACITY=100}(Wn||(Wn={}));var Hn=n(61986);const $n={CheetahFetchSkills:new Hn.Cc("cheetah_fetch_skills")};new Hn.KS("smart_plagiarism_uphook",["control","test"]),new Hn.KS("grammarly_pro_m3_v2",["control","test"]),new Hn.Cc("standWithUkraineExtensionSuspended","enabled"),new Hn.Cc("standWithUkraineExtensionTheme","enabled"),new Hn.Cc("reader_v1_internal","enabled"),new Hn.Cc("toneai_personable_stable","enabled"),new Hn.Cc("rtf_snippets","enabled"),new Hn.Cc("load_snippets_via_goldengate","enabled"),new Hn.Cc("citations_rollout_gdocs","enabled"),new Hn.Cc("citations_rollout_internal","enabled"),new Hn.Cc("citation_builder_internal","enabled"),new Hn.Cc("citation_builder","enabled"),new Hn.Cc("citation_builder_editing","enabled"),new Hn.Cc("citation_builder_manual_invocation","enabled"),new Hn.Cc("ipm_extension_release","enabled"),new Hn.Cc("extension_debug_report","enabled"),new Hn.Cc("sdui_bulk_accept","enabled"),new Hn.Cc("sdui_bulk_dismiss","enabled"),new Hn.Cc("gb_logged_out_user_extension_gen_launch","enabled"),new Hn.Cc("knowledge_hub_gdocs","enabled"),new Hn.Cc("knowledge_hub_gmail","enabled"),new Hn.Cc("knowledge_hub_slack","enabled"),new Hn.Cc("windowsextension_knowledge_hub_word","enabled"),new Hn.Cc("gmail_readonly_layout","enabled"),new Hn.Cc("extension_track_first_visible_highlight","enabled"),new Hn.Cc("gbgo_knowledge_share_web","enabled"),new Hn.Cc("gdocs_canvas_multicolumn_compare_all_combination","enabled"),new Hn.Cc("suggestion_delivery_autoapply_extension_gate_23q3","enabled"),new Hn.Cc("indian_english_dialect","enabled"),new Hn.Cc("indian_english_dialect_internal","enabled"),new Hn.Cc("static_ws_gmail","enabled"),new Hn.Cc("constructable_stylesheets","enabled"),new Hn.Cc("gb_grammarly_guard","enabled"),new Hn.Cc("cheetah_extension_feature_flag_compose","enabled"),new Hn.Cc("cheetah_extension_feature_flag_rewrite","enabled"),new Hn.Cc("cheetah_extension_feature_flag_inline_rewrite","enabled"),new Hn.Cc("cheetah_extension_feature_flag_magic_rewrite","enabled"),new Hn.Cc("cheetah_extension_feature_flag_quick_reply","enabled"),new Hn.Cc("cheetah_extension_feature_flag_inline_quick_reply","enabled"),new Hn.Cc("cheetah_extension_feature_flag_gdocs_inline_rewrites","enabled"),new Hn.Cc("cheetah_extension_feature_flag_onboarding","enabled"),new Hn.Cc("ggo_students_onboarding","enabled"),new Hn.Cc("ggo_student_bts","enabled"),new Hn.Cc("ggo_student_prompts_internal","enabled"),new Hn.Cc("gDocs_tc_validate_text_before_alert_apply","enabled"),new Hn.Cc("gdocs_get_format_map","enabled"),new Hn.Cc("extension_get_format_map","enabled"),new Hn.Cc("gdocs_partial_by_fragment_for_grammarians","enabled"),new Hn.Cc("iterable_gate_ext","enabled"),new Hn.Cc("iterable_gate_refresh_key_and_token_ext","enabled"),new Hn.Cc("iterable_gate_gdoc_sidebar_initialized_ext","enabled"),new Hn.Cc("iterable_gate_user_session_initialized_ext","enabled"),new Hn.Cc("iterable_gate_pause_in_typing_ext","enabled"),new Hn.Cc("iterable_gate_alerts_accepted_ext","enabled"),new Hn.Cc("iterable_target_domain_ext","enabled"),new Hn.Cc("gb_org_dialect_ext","enabled"),new Hn.Cc("session_storage_logs_backup","enabled"),new Hn.Cc("sdui_popover_manager_ext","enabled"),new Hn.Cc("gb_client_controls_fallback_ext","enabled"),new Hn.Cc("text_change_buffer_use_legacy_3","enabled"),new Hn.Cc("text_change_buffer_dont_flush_on_apply_1","enabled"),new Hn.Cc("dont_sync_alert_applications_with_inline_mode","enabled"),new Hn.Cc("knowledge_engine_search_v2alpha","enabled"),new Hn.Cc("hide_report_bug_by_grammarly_employee_feature","enabled"),new Hn.Cc("extension_feature_flag_capi_client_storage","enabled"),new Hn.Cc("extension_feature_flag_capi_client_storage_cleanup","enabled"),new Hn.Cc("extension_capi_client_storage_log_warnings","enabled"),new Hn.Cc("extension_capi_client_storage_run_cleanup_requests","enabled"),new Hn.Cc("extension_capi_distinct_connection_status","enabled"),new Hn.Cc("extension_feature_transform_replacement_before_apply","enabled"),new Hn.Cc("extension_zendesk_transform_replacement_only_for_string","enabled"),new Hn.Cc("extension_feature_promise_replacement_validation","enabled"),new Hn.Cc("gdocs_init_gbutton_inside_comments_field","enabled"),new Hn.Cc("gdocs_create_rich_text","enabled"),new Hn.Cc("gdocs_format_get_font_family","enabled"),new Hn.Cc("gdocs_format_get_color","enabled"),new Hn.Cc("gdocs_align_basic_style_for_text_diff","enabled"),new Hn.Cc("gdocs_do_not_remove_selection","enabled"),new Hn.Cc("gdocs_last_new_line_char_should_add_to_removed_indices","enabled"),new Hn.Cc("gdocs_return_applied_for_rich_text","enabled"),new Hn.Cc("gdocs_async_validate_for_rich_text","enabled"),new Hn.Cc("extension_a11y_ui_fixes","enabled"),new Hn.Cc("extension_a11y_keyboard_navigation","enabled"),new Hn.Cc("extension_autocorrect_keydown_capture_user_input","enabled"),new Hn.Cc("extension_autocorrect_allow_capture_not_trusted_user_events","enabled"),new Hn.Cc("extension_dispatch_deleta_delete_event","enabled"),new Hn.Cc("extension_whatsapp_before_input_replacement_event","enabled"),new Hn.Cc("extension_whatsapp_exec_command_replacement_event","enabled"),new Hn.Cc("extension_discord_transform_insert_to_replace","enabled"),new Hn.Cc("extension_discord_exec_comand_replacement","enabled"),new Hn.Cc("extension_discord_delay_after_replacement_in_batch","enabled"),new Hn.Cc("extension_ms_teams_transform_replacement_with_spaces","enabled"),new Hn.Cc("extension_replacement_execution_timeout_validation","enabled"),new Hn.Cc("cheetah_selection_context_updates","enabled"),new Hn.Cc("cheetah_selection_context_updates_server","enabled"),new Hn.Cc("cheetah_oggy_gdocs_internal_label","enabled"),new Hn.Cc("gdocs_internals_layout_tree_availability","enabled"),new Hn.Cc("gdocs_without_map_use_closest_offset","enabled"),new Hn.Cc("gdocs_without_text_map_remove_space_fragment","enabled"),new Hn.Cc("extension_use_body_to_get_viewport_dimentions","enabled"),new Hn.Cc("extension_cleditor_integration","enabled"),new Hn.Cc("extension_knowledge_hub_in_shared_gdocs_rollout","enabled"),new Hn.Cc("extension_gos_rollout","enabled"),new Hn.Cc("extension_gos_telemetry","enabled"),new Hn.Cc("extension_centralize_stop_event_propagation","enabled"),new Hn.Cc("extension_collect_data_for_preserve_formatting","enabled"),new Hn.Cc("extension_preserve_formatting_skip_list_items","enabled"),new Hn.Cc("extension_formatting_support_continuous_white_spaces","enabled"),new Hn.Cc("gdocs_collect_layout_rendering_stats","enabled"),new Hn.Cc("gdocs_internals_filter_strikethrough","enabled"),new Hn.Cc("gdocs_track_underline","enabled"),new Hn.Cc("gdocs_track_strikethrough","enabled"),new Hn.Cc("gdocs_internals_filter_code_blocks","enabled"),new Hn.Cc("gdocs_debouncing_data_rendering","enabled"),new Hn.Cc("gdocs_extract_suggestion_by_container","enabled"),new Hn.Cc("gdocs_can_retry_extract_annotation_container","enabled"),new Hn.Cc("gdocs_extract_selection_range_from_controller","enabled"),new Hn.Cc("gdocs_use_cacheable_selection_warpper","enabled"),new Hn.Cc("gdocs_extract_link_from_internals","enabled"),new Hn.Cc("gdocs_extract_selection_controller_with_retry","enabled"),new Hn.Cc("gdocs_extract_selection_controller_with_tolerance","enabled"),new Hn.Cc("extension_track_institution_id_to_gnar","enabled"),new Hn.Cc("extension_gdocs_track_fatal_popup","enabled"),new Hn.Cc("vbars_global","enabled"),new Hn.Cc("cheetah_extension_external_onboarding_context_provider_fix","enabled"),new Hn.Cc("cheetah_extension_clear_sdui_buffer_on_reconnect","enabled"),new Hn.Cc("extension_inactive_integration","enabled"),new Hn.Cc("extension_oauth2_rollout","enabled"),new Hn.Cc("vbars_in_gdocs","enabled"),new Hn.Cc("hbars_in_gdocs","enabled"),new Hn.Cc("use_approximate_tc_validation","enabled"),new Hn.Cc("gdocs_can_use_trasfrom_before_validate","enabled"),new Hn.Cc("gdocs_send_validation_info_for_batch_replacement","enabled"),new Hn.Cc("extension_ignore_non_width_chars_for_tc_validaition","enabled"),new Hn.Cc("gdocs_ignore_end_new_line_for_tc_validaition","enabled"),new Hn.Cc("gdocs_whitespace_selection_retry","enabled"),new Hn.Cc("extension_oauth2_selective_logout","enabled"),new Hn.Cc("extension_oauth2_last_authn_event_logout","enabled"),new Hn.Cc("extension_writing_expert_pull_mode"),new Hn.Cc("writing_expert_in_assistant"),new Hn.Cc("writing_expert_in_assistant_native"),new Hn.Cc("locked_ui_rollout","unlimited_pool"),new Hn.Cc("retry_atm_after_fallback_to_without_text","enabled"),new Hn.Cc("extension_pending_text_revisions_processor"),new Hn.Cc("extension_debounced_inline_card_update"),new Hn.Cc("gdocs_map_result_must_mapped_some_text"),new Hn.Cc("gdocs_check_index_boundary_when_translate_index"),new Hn.Cc("gdocs_only_add_incomplete_result"),new Hn.Cc("gdocs_page_input_validation_for_parser"),new Hn.Cc("cheetah_profuse_events_tracking"),new Hn.Cc("extension_bundle_gnar_events"),new Hn.Cc("reddit_replacement_duplication_fix"),new Hn.Cc("reddit_new_use_overlay_layout"),new Hn.Cc("extension_reddit_use_clipboard_for_create_post"),new Hn.Cc("salesforce_service_console_replacement_fix"),new Hn.Cc("salesforce_filter_email_thread"),new Hn.Cc("salesforce_details_textarea_replacement_service_delay"),new Hn.Cc("extension_strave_replacement_selection_delay"),new Hn.Cc("extension_wordpress_gutenberg_editor_gbutton_positioning"),new Hn.Cc("skip_parallel_autofix_replacement"),new Hn.Cc("extension_oggy_on_gos","enabled"),new Hn.Cc("extension_unfix_fast_570"),new Hn.Cc("lattice_replacement_duplication_fix"),new Hn.Cc("new_session_end_with_connection_stats"),new Hn.Cc("gdocs_replacement_only_validate_full_text_before_replacement"),new Hn.Cc("gdocs_replacement_only_validate_fragment_text"),new Hn.Cc("extension_oggy_use_iframe_wrappers"),new Hn.Cc("app_actions_applet_cdn_extension"),new Hn.Cc("map_rich_text_skipped_elements"),new Hn.Cc("extension_skip_empty_changes_for_active_alert_override"),new Hn.Cc("extension_debug_page"),new Hn.Cc("performance_score_oggy"),new Hn.Cc("performance_ignore_page_hidden"),new Hn.Cc("extension_measure_text_input_latency"),new Hn.Cc("extension_measure_scroll_latency"),new Hn.Cc("extension_measure_resize_latency"),new Hn.Cc("extension_track_inline_alert_apply_metric"),new Hn.Cc("extension_whatsapp_before_input_delete_event","enabled"),new Hn.Cc("extension_track_inline_alert_display_metric"),new Hn.Cc("extension_track_gbutton_display_metric"),new Hn.Cc("extension_preserve_same_range_alerts"),new Hn.Cc("extension_track_highlight_display_metric"),new Hn.Cc("extension_track_gbutton_initialize_metric"),new Hn.Cc("extension_use_histogram_strikes_back"),new Hn.Cc("extension_session_timeout"),new Hn.Cc("extension_connector"),new Hn.Cc("extension_field_integration_manager"),new Hn.Cc("extension_send_changes_to_capi_after_sequential_apply"),new Hn.Cc("gdocs_dummy_scrolling_restricted","disabled");new RegExp(`${String.fromCodePoint(61439)}|${String.fromCodePoint(61438)}`,"g"),String.fromCharCode(160),String.fromCodePoint(26),String.fromCodePoint(30);function Gn(e){return!e.className}new Set(["version","title","lang","translate","dir","dataset","hidden","tabIndex","accessKey","draggable","spellcheck","contentEditable","isContentEditable","offsetParent","offsetTop","offsetLeft","offsetWidth","offsetHeight","style","innerText","outerText","onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmouseenter","onmouseleave","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onresize","onscroll","onseeked","onseeking","onselect","onstalled","onsubmit","onsuspend","ontimeupdate","ontoggle","onvolumechange","onwaiting","onwheel","ongotpointercapture","onlostpointercapture","onpointerdown","onpointermove","onpointerup","onpointercancel","onpointerover","onpointerout","onpointerenter","onpointerleave","click","focus","blur","onauxclick","nonce","namespaceURI","prefix","localName","tagName","id","className","classList","slot","attributes","shadowRoot","assignedSlot","innerHTML","outerHTML","scrollTop","scrollLeft","scrollWidth","scrollHeight","clientTop","clientLeft","clientWidth","clientHeight","onbeforecopy","onbeforecut","onbeforepaste","oncopy","oncut","onpaste","onsearch","onselectstart","previousElementSibling","nextElementSibling","children","firstElementChild","lastElementChild","childElementCount","onwebkitfullscreenchange","onwebkitfullscreenerror","setPointerCapture","releasePointerCapture","hasPointerCapture","hasAttributes","getAttributeNames","getAttribute","getAttributeNS","setAttribute","setAttributeNS","removeAttribute","removeAttributeNS","hasAttribute","hasAttributeNS","getAttributeNode","getAttributeNodeNS","setAttributeNode","setAttributeNodeNS","removeAttributeNode","closest","matches","webkitMatchesSelector","attachShadow","getElementsByTagName","getElementsByTagNameNS","getElementsByClassName","insertAdjacentElement","insertAdjacentText","insertAdjacentHTML","requestPointerLock","getClientRects","getBoundingClientRect","scrollIntoView","scrollIntoViewIfNeeded","createShadowRoot","getDestinationInsertionPoints","animate","remove","querySelector","querySelectorAll","webkitRequestFullScreen","webkitRequestFullscreen","scroll","scrollTo","scrollBy","before","after","replaceWith","prepend","append","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE","DOCUMENT_POSITION_DISCONNECTED","DOCUMENT_POSITION_PRECEDING","DOCUMENT_POSITION_FOLLOWING","DOCUMENT_POSITION_CONTAINS","DOCUMENT_POSITION_CONTAINED_BY","DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC","nodeType","nodeName","baseURI","isConnected","ownerDocument","parentNode","parentElement","childNodes","firstChild","lastChild","previousSibling","nextSibling","nodeValue","textContent","hasChildNodes","getRootNode","normalize","cloneNode","isEqualNode","isSameNode","compareDocumentPosition","contains","lookupPrefix","lookupNamespaceURI","isDefaultNamespace","insertBefore","appendChild","replaceChild","removeChild","addEventListener","removeEventListener","dispatchEvent"]);const qn=[61439,61438,59651,26,30,59649,3,59653,59652,16,17],zn=[61439,61438,59651,26,30,59649,3,59653,59652,16,17,60417,60416,60419,60418],Vn=[47,91,...qn,93,47],Yn=[47,91,...zn,93,47],Jn=([Vn,[...Vn,103],Yn].map((e=>e.map((e=>String.fromCharCode(e))).join(""))),["rgba(118, 167, 250, 0.501960784313726)","rgba(118, 167, 250, 0.5)","rgba(143, 143, 143, 0.34)","rgba(0, 0, 0, 0.15)"].map((e=>e.replace(/\s+/g,""))),{fontWeight:{bold:"700",normal:"400"},fontStyle:{italic:"italic",normal:"normal"}});const Kn={logError(){},logException(){}};function Xn(e,t,n){let r=0;return{call(i,s,o,a){var c;const l=a(o),u=null===(c=t.postFn)||void 0===c?void 0:c[s];if(u)try{u(i,e,o,l,r++)}catch(e){n.logException(`proxy.call.${String(s)}`,e)}return l},set(i,s,o,a){var c;r++;const l=null===(c=t.overrideSet)||void 0===c?void 0:c[s];if(l)try{const t=l(i,e,o);if(void 0!==t)return a(t)}catch(e){n.logException(`proxy.set.${String(s)}`,e)}return a(o)}}}function Zn(e,t=[]){function n(e,r,i){for(let s=i;s<t.length;s++){const i=t[s].get;if(i)return i(e,r,(()=>n(e,r,s+1)))}return Reflect.get(e,r)}function r(e,n,i,s,o){for(let a=o;a<t.length;a++){const o=t[a].call;if(o)return o(e,n,s,(t=>r(e,n,i,t,a+1)))}return i.apply(e,s)}function i(e,n,r,s){for(let o=s;o<t.length;o++){const s=t[o].set;if(s)return s(e,n,r,(t=>i(e,n,t,o+1)))}return Reflect.set(e,n,r)}const s=new Map,o=new Proxy(e,{get(e,t,i){const o=n(e,t,0);let a=s.get(t);return void 0!==a&&a[0]===o?a[1]:"function"==typeof o?(a=[o,(...n)=>r(e,t,o,n,0)],s.set(t,a),a[1]):o},set:(e,t,n,r)=>i(e,t,n,0)});return{proxy:o,addMiddleware(e){t.push(e)}}}function Qn(e=new Map){return{get size(){return e.size},getMetrics(t,n){var r;return null===(r=e.get(t))||void 0===r?void 0:r.get(n)},getFontMetrics(t){const n=function(t){let n=e.get(t);return n||(n=new Map,e.set(t,n)),n}(t);return{fontStyle:t,get size(){return n.size},getMetrics:e=>n.get(e),addMetrics(e,t){n.set(e,t)}}},toJSON:()=>Object.fromEntries(er(e,(e=>{var t,n,r,i;return{height:[null!==(n=null===(t=e.get(nr))||void 0===t?void 0:t.chunk.actualBoundingBoxAscent)&&void 0!==n?n:0,null!==(i=null===(r=e.get(nr))||void 0===r?void 0:r.chunk.actualBoundingBoxDescent)&&void 0!==i?i:0],widths:Object.fromEntries(er(e,(({chunk:e})=>e.width)))}})))}}function er(e,t=(e=>e)){return[...e.entries()].sort((([e],[t])=>{return(n=e)<(r=t)?-1:n>r?1:0;var n,r})).map((([e,n])=>[e,t(n)]))}function tr(e){return{metricsMap:Qn(e)}}const nr="M",rr=" ";const ir={overrideSet:{font:(e,t,n)=>(t.fontStyle=function(e){const t=/^(?:([\d\w]+) )?(?:(\w+) )?([\d.]+)px (?:['"])?([\w -]+)(?:['"])?$/.exec(e);if(t){const[e,n,r,i,s]=t,{fontWeight:o,fontStyle:a}=Jn;let c=o.normal,l=a.normal;return n&&(isNaN(parseInt(n,10))?n===a.italic?(l=a.italic,c=isNaN(parseInt(r,10))?"bold"===r?o.bold:o.normal:r):c="bold"===n?o.bold:o.normal:(c=n,l=r||l)),`${c} ${l} ${parseFloat(i).toFixed(4)}px "${s}"`}return e}(n),n)},postFn:{measureText(e,t,[n],r){if(!t.fontStyle)return;const i=t.metricsMap.getFontMetrics(t.fontStyle);if(!i.size){const t=e.measureText(nr),n=e.measureText(""),r=e.measureText("g");i.addMetrics(nr,{chunk:sr(t,n,r),charShifts:[]});const s=e.measureText(rr);i.addMetrics(rr,{chunk:sr(s),charShifts:[]})}const s=8237===n.charCodeAt(0),o=8236===n.charCodeAt(n.length-1),a=n.substring(s?1:0,n.length-(o?1:0));if(a===nr)return;const c=[];for(let t=1;t<a.length;t++){const n=a.slice(0,t),s=i.getMetrics(n);if(s)c.push(s.chunk);else{if(a.length-t>30){let e=c.length>0?c[c.length-1].width:0,n=r.width-e;for(;t<a.length;){const i=n/(a.length-t+1);e+=i,n-=i,c.push({...r,width:e}),t++}break}const s=sr(e.measureText(n));i.addMetrics(n,{chunk:s,charShifts:[...c]}),c.push(s)}}i.addMetrics(a,{chunk:r,charShifts:c})}}};function sr(e,t=e,n=t){return{width:e.width,actualBoundingBoxLeft:e.actualBoundingBoxLeft,actualBoundingBoxRight:e.actualBoundingBoxRight,actualBoundingBoxAscent:t.actualBoundingBoxAscent,actualBoundingBoxDescent:n.actualBoundingBoxDescent}}try{const cr=[],lr=[];function or(e){for(const t of cr){const n=e(t.canvas,t.originalContext);n&&t.proxy.addMiddleware(n)}lr.push(e)}const ur=tr();function ar(){return cr.map((e=>e.canvas))}!function(){const e=document.documentElement.dataset.grGdcConnId||(document.documentElement.dataset.grGdcConnId=`${Date.now()}-${Math.random()}`);self[(e=>`GR_GDEI_${e}`)(e)]={addMiddleware:or,textMeasuringState:ur,getPatchedCanvases:ar},function(e){const t=self.HTMLCanvasElement.prototype.getContext;self.HTMLCanvasElement.prototype.getContext=function(...n){var r;const i=t.call(this,...n);try{const[t]=n;if("2d"===t&&null!==(s=i)&&void 0!==s.getTransform&&s.getTransform().is2D)return null!==(r=e(this,i))&&void 0!==r?r:i}catch(e){}var s;return i}}(((e,t)=>{const n=lr.map((n=>n(e,t))).filter((e=>Boolean(e)));if(Gn(e)){const{middleware:e}=function({state:e=tr(),options:t}){return{state:e,middleware:Xn(e,ir,t)}}({state:ur,options:Kn});n.push(e)}const r=Zn(t,n);return cr.push({canvas:e,originalContext:t,proxy:r}),r.proxy}))}()}catch(dr){document.documentElement.dataset.grGdcErrorMsg=dr.message,document.documentElement.dataset.grGdcErrorStack=dr.stack}})()}();