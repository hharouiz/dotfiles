(self.webpackChunk=self.webpackChunk||[]).push([[274],{5109:(e,t,i)=>{i.r(t),i.d(t,{G2FeatureImpl:()=>We});var r=i(49231),a=i(82823),n=i(65647),s=i(88546),l=i(25770),o=i(90023),d=i(67167),c=i(77141);const h=r.lazy((()=>Promise.all([i.e(9888),i.e(1033),i.e(1355),i.e(274)]).then(i.bind(i,1284)).then((({ParagraphHighlightCollection:e})=>({default:e}))))),g=r.lazy((()=>Promise.all([i.e(9888),i.e(1033),i.e(1355),i.e(274)]).then(i.bind(i,64738)).then((({SidelineCollection:e})=>({default:e})))));var p=i(36072),m=i(65882),u=i(60165),w=i(78488),_=i(55446),v=i(90049),f=i(64965),b=i(60841),S=i(23565),C=i(73863),y=i(34859),R=i(10595),x=i(20715),I=i(58303),E=i(95907);var k=i(45584);function F(e){return e.trim().split(/\s+/).filter((e=>""!==e)).length}function P(e,t){return e.map((e=>function(e,t){return(0,o.zG)(e.transformJSON.alternatives,I.UI((({alternatives:e,context:t})=>({alternative:e[0],context:t[0]}))),I.UI((({alternative:e,context:t})=>({ops:e.ops,context:t}))),I.UI((({ops:i,context:r})=>{let a=r.s,n=0;for(const e of i)k.s.match((e=>{k.s.isInsertString(e)&&(n+=F(e.insert),a+=e.insert.length)}),(e=>{const i=a+e.delete;n+=F(t.slice(a,i)),a=i}),(e=>{a+=e.retain}))(e);return n*((s=e.patternName).includes("MissingSpace")||s.includes("RedundantSpace")||s.includes("Clarity")||s.includes("Punctuation")?.5:s.includes("Formatting")||s.includes("Passive")||s.includes("Dialects")?.25:s.includes("Calliope")?.75:s.includes("Tone")||s.includes("Engagement")?.1:s.includes("RunOn")?2:s.includes("Style")?.5:s.includes("Fluency")||s.includes("FluencyRewrite")?.25:1);var s})),I.fS((()=>0)))}(e,t))).reduce(((e,t)=>e+t),0)}function T(e,t,i){if(e.text.length<50)return I.YP;const r=function(e,t){return e.filter((e=>e.transformJSON.highlights.some((e=>e.s>=t.start&&e.e<=t.end))))}(t,e.textRange);if(r.some((e=>e.patternName.startsWith("WritingExpert"))))return I.G("writingCoach");const a=P(r.filter((e=>!e.patternName.startsWith("WritingExpert"))),i),n=(s=e.text,Math.max(5,Math.min(10,F(s)/10)));var s;return Math.round(a)>=n?I.G("attention"):I.YP}var M=i(40568),G=i(18117);class L{constructor(e){this._params=e,this._subs=new a.w,this._logger=c.Y.create("SidelineCollectionViewModelImpl"),this._paragraphSidelines=l.h.create([]),this._paragraphSidelineById=new Map,this._emphasizedSideline=l.h.create(I.YP),this._activeSideline=l.h.create(I.YP),this._pinnedSideline=l.h.create(I.YP),this._selectionSideline=l.h.create(I.YP),this._shouldHideSidelinesDueToScrolling=l.h.create(!1),this._shouldHideSidelines=l.h.create(!1),this._referenceElementBySidelineId=new Map,this._sidelineCardActiveNotifications=new p.xQ,this._deactivateSidelineSubs=new a.w,this._unpinSidelineSubs=new a.w,this.paragraphSidelines=this._paragraphSidelines.view(),this.emphasizedSideline=this._emphasizedSideline.view(),this.activeSideline=this._activeSideline.view(),this.pinnedSideline=this._pinnedSideline.view(),this.selectionSideline=this._selectionSideline.view(),this.shouldHideSidelines=this._shouldHideSidelines.view(),this._subs.add(m.aj([this._params.paragraphHighlightCollectionViewModel.paragraphHighlights,this._params.alerts]).pipe(n.U((([e,t])=>e.map((e=>{if(!e.isScrolledIntoView)return null;const i=(0,o.zG)(this._params.paragraphCollectionService.getParagraphById(e.paragraphId),I.g_((()=>null),(i=>function(e,t,i,r){const a=`g2-paragraph-sideline-${e.textRange.start}-${e.textRange.end}`,n=T(e,i,r);return{kind:"paragraphSideline",id:a,paragraphId:e.id,paragraphHighlightViewportRect:{top:t.viewportRect.top,left:t.viewportRect.left,width:t.viewportRect.width,height:t.viewportRect.height},signal:n}}(i,e,t,this._params.textObserver.getCurrentTextMap().getPlainText()))));return null===i?(this._params.telemetry.warn({message:"Creating sideline failed."}),this._logger.warn("Failed to create paragraph sideline; skipping.",{paragraphId:e.paragraphId}),null):i})).filter(E.Nf)))).subscribe(s.wW(this._paragraphSidelines))),this._subs.add(m.aj([this._paragraphSidelines,this._params.paragraphHighlightCollectionViewModel.emphasizedParagraphHighlight]).pipe(n.U((([e,t])=>(0,o.zG)(t,I.tS((t=>I.ij(e.find((e=>e.paragraphId===t.paragraphId))))))))).subscribe(s.wW(this._emphasizedSideline))),this._subs.add(this._paragraphSidelines.subscribe((e=>{this._paragraphSidelineById.clear();for(const t of e)this._paragraphSidelineById.set(t.id,t)}))),this._subs.add(this._paragraphSidelines.pipe(n.U((e=>e.filter((e=>I.pC(e.signal))))),u.x(((e,t)=>{if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++)if(e[i].id!==t[i].id)return!1;return!0})),w.b((()=>{this._logger.debug("Paragraph sidelines with signals updated."),this._params.gnar.vBarsLoaded()}))).subscribe()),this._subs.add(m.aj([this._params.selectionHighlightViewModel.selectionHighlight,this._activeSideline]).pipe(_.h((([e,t])=>(0,o.zG)(G.Yt(I.Kw)({selectionSideline:this._selectionSideline.get(),activeSideline:t}),I.g_(o.W8,(({selectionSideline:e,activeSideline:t})=>e.id!==t.id))))),n.U((([e])=>(0,o.zG)(e,I.hX((e=>e.isScrolledIntoView)),I.UI((e=>({kind:"selectionSideline",id:`g2-selection-sideline-${e.textRange.start}-${e.textRange.end}`,text:e.text,textRange:e.textRange,selectionHighlightViewportRect:{top:e.viewportRect.top,left:e.viewportRect.left,width:e.viewportRect.width,height:e.viewportRect.height}}))))))).subscribe(s.wW(this._selectionSideline))),this._subs.add(v.T(this._params.textFieldLayout.scroll.changes,f.R((0,M.Jj)(this._params.textFieldElement),"scroll",{capture:!0})).pipe(w.b((()=>this._shouldHideSidelinesDueToScrolling.set(!0))),b.w((()=>S.timer(1e3).pipe(w.b((()=>this._shouldHideSidelinesDueToScrolling.set(!1))))))).subscribe()),this._subs.add(m.aj([this._params.legacyAssistantOpenState,this._params.assistantState,this._shouldHideSidelinesDueToScrolling]).pipe(n.U((([e,t,i])=>"open"===e||"opened"===t.kind||i))).subscribe(s.wW(this._shouldHideSidelines))),this._subs.add(this._emphasizedSideline.subscribe((e=>this._logger.debug("Emphasized sideline updated.",e)))),this._subs.add(this._activeSideline.subscribe((e=>this._logger.debug("Active sideline updated.",e)))),this._subs.add(this._pinnedSideline.subscribe((e=>this._logger.debug("Pinned sideline updated.",e)))),this._subs.add(this._selectionSideline.subscribe((e=>this._logger.debug("Selection sideline updated.",e))))}_doesSidelineIdMatchRelevantSideline(e,t){return(0,o.zG)(t,I.g_((()=>!1),(t=>e===t.id)))}_getSidelineById(e){return(0,o.zG)(I.ij(this._paragraphSidelineById.get(e)),I.Gk((()=>(0,o.zG)(this._selectionSideline.get(),I.hX((t=>t.id===e))))))}_deactivateSideline(e,t=!1){this._logger.debug("Deactivating sideline.",{sidelineId:e}),this._doesSidelineIdMatchRelevantSideline(e,this._activeSideline.get())?this._deactivateSidelineSubs=this._sidelineCardActiveNotifications.pipe(_.h((t=>t===e)),C.q(1),y.h(!1),R.L(t?0:1e3,x.of(!0))).subscribe((t=>{t?(this._logger.debug("Did not receive notification that corresponding sideline card is active, proceeding to deactivate sideline.",{sidelineId:e}),this._activeSideline.set(I.YP)):this._logger.debug("Received a notification that corresponding sideline card is active, won't deactivate sideline.",{sidelineId:e})})):(this._params.telemetry.warn({message:"Deactivation of an inactive sideline attempted."}),this._logger.warn("Tried to deactivate sideline that is not active, this is a no-op.",{sidelineId:e}))}_unpinSideline(e,t=!1){this._logger.debug("Unpinning sideline.",{sidelineId:e}),this._doesSidelineIdMatchRelevantSideline(e,this._pinnedSideline.get())?this._unpinSidelineSubs=this._sidelineCardActiveNotifications.pipe(_.h((t=>t===e)),C.q(1),y.h(!1),R.L(t?0:1e3,x.of(!0))).subscribe((t=>{t?(this._logger.debug("Did not receive notification that corresponding sideline card is active, proceeding to unpin sideline.",{sidelineId:e}),this._pinnedSideline.set(I.YP),this._deactivateSideline(e,!0)):this._logger.debug("Received a notification that corresponding sideline card is active, won't unpin sideline.",{sidelineId:e})})):(this._params.telemetry.warn({message:"Unpinning of an unpinned sideline attempted."}),this._logger.warn("Tried to unpin sideline that is not pinned, this is a no-op.",{sidelineId:e}))}activateSideline(e){this._logger.debug("Activating sideline.",{sidelineId:e});const t=this._getSidelineById(e);I.pC(t)?(this._deactivateSidelineSubs.unsubscribe(),this._activeSideline.set(t),this._emphasizedSideline.set(t)):(this._params.telemetry.warn({message:"Activation of a non-existent sideline attempted."}),this._logger.warn("Tried to activate non-existing sideline, this is a no-op.",{sidelineId:e}))}deactivateSideline(e){this._deactivateSideline(e)}pinSideline(e){this._logger.debug("Pinning sideline.",{sidelineId:e});const t=this._getSidelineById(e);I.pC(t)?(this._pinnedSideline.set(t),this.activateSideline(e)):(this._params.telemetry.warn({message:"Pinning of a non-existent sideline attempted."}),this._logger.warn("Tried to pin non-existing sideline, this is a no-op.",{sidelineId:e}))}unpinSideline(e){this._unpinSideline(e)}setSidelineReferenceElement(e,t){this._referenceElementBySidelineId.set(e,t)}getSidelineReferenceElement(e){return I.ij(this._referenceElementBySidelineId.get(e))}notifySidelineCardActive(e){this._sidelineCardActiveNotifications.next(e)}notifySidelineCardInactive(e,t){this._unpinSideline(e,t),this._deactivateSideline(e,t)}getSidelineById(e){return this._getSidelineById(e)}getSidelineTextInfo(e){return(0,o.zG)(this._getSidelineById(e),I.tS((e=>"selectionSideline"===e.kind?I.G({text:e.text,textRange:e.textRange}):(0,o.zG)(this._params.paragraphCollectionService.getParagraphById(e.paragraphId),I.UI((e=>({text:e.text,textRange:e.textRange})))))))}dispose(){this._subs.unsubscribe(),this._deactivateSidelineSubs.unsubscribe(),this._unpinSidelineSubs.unsubscribe()}}var z=i(57724),V=i(98030),H=i(14765),B=i(84548),A=i(27296),N=i(65585),U=i(12201),D=i(36255),O=i(29101);function Y(e,t){return e.pipe(H.O(null),n.U((()=>(0,o.zG)(t.getCurrentSelection(!0),O.Ls,I.ij,I.hX((0,o.ff)(D.SV.isCollapsed))))),S.skipBy(I.Eh(D.SV.eq)))}class W{constructor(e){this._params=e,this._subs=new a.w,this._logger=c.Y.create("G2IntegrationGoogleDocs"),this._textFieldVisibleRect=l.h.create({top:0,left:0,width:0,height:0}),this._highlightCollectionFilterSource=new U.b(this._params.textObserver),this._selectionRange=l.h.create(I.YP),this.name="g2-google-docs-integration",this.textFieldVisibleRect=this._textFieldVisibleRect.view(),this.highlightGeometryFilter=this._highlightCollectionFilterSource.highlightsFilterFactory(),this.selectionRange=this._selectionRange.view(),this._subs.add(m.aj([this._params.textFieldLayout.rect.changes.pipe(H.O(this._params.textFieldLayout.rect.getCurrent())),this._params.textFieldLayout.scroll.changes.pipe(H.O(this._params.textFieldLayout.scroll.getCurrent()))]).pipe(n.U((()=>{var e;const t=this._params.textFieldElement.getBoundingClientRect(),i={top:t.top,left:t.left,width:t.width,height:t.height},r=(0,N.Gg)(this._params.textFieldElement)||(0,N.g)(this._params.textFieldElement)||(0,M.Jj)(this._params.textFieldElement).document.documentElement,a=this._params.textFieldElement.querySelector(B.gv);if(null!==a){const{left:t,width:n}=null!==(e=A.UL.getIntersection(i,a.getBoundingClientRect()))&&void 0!==e?e:i,s=A.UL.getIntersection({...i,left:t,width:n},r.getBoundingClientRect());return null!==s?s:(this._logger.warn("Failed to find intersection between the text field and its first scrollable ancestor. The resulting text field's visible rect may not be appropriate."),{...i,left:t,width:n})}{this._logger.warn("Failed to retrieve rendering canvas. The resulting text field's visible rect lateral boundaries may not be appropriate.");const e=A.UL.getIntersection(i,r.getBoundingClientRect());return null!==e?e:(this._logger.warn("Failed to find intersection between the text field and its first scrollable ancestor. The resulting text field's visible rect may not be appropriate."),i)}}))).subscribe(s.wW(this._textFieldVisibleRect))),this._subs.add(Y(this._params.selectionSource.data.behavior.pipe(y.h(void 0)),this._params.selectionService).subscribe(s.wW(this._selectionRange)))}dispose(){this._subs.unsubscribe()}}var j=i(74857),$=i(58322);const J={[$.u.gmailCompose]:15,[$.u.gmailReply]:16,[$.u.gmailComposeStandalone]:15,[$.u.gmailComposeFullScreen]:15,[$.u.slackMessage]:2,[$.u.slackGenericQuill]:2,[$.u.slackThread]:2,[$.u.gDocsCanvas]:0,[$.u.gDocsComments]:0};const q={[$.u.gmailReply]:{top:170,bottom:140}};class Q{constructor(e){var t;this._params=e,this._subs=new a.w,this._logger=c.Y.create("G2IntegrationGeneric"),this._textFieldVisibleRect=l.h.create({top:0,left:0,width:0,height:0}),this._selectionRange=l.h.create(I.YP),this.name="g2-generic-integration",this.textFieldVisibleRect=this._textFieldVisibleRect.view(),this.highlightGeometryFilter=z.qH.everything,this.selectionRange=this._selectionRange.view(),this._viewPortOffsets=void 0!==this._params.getVerticalViewportOffsets?this._params.getVerticalViewportOffsets(this._params.integrationName):(t=this._params.integrationName,I.ij(q[t])),this._subs.add(m.aj([this._params.textFieldLayout.visibleRect.changes.pipe(H.O(this._params.textFieldLayout.visibleRect.getCurrent())),this._params.textFieldLayout.scroll.changes.pipe(H.O(this._params.textFieldLayout.scroll.getCurrent()))]).pipe(n.U((([e])=>{const t={top:e.client.top,left:e.client.left,width:e.size.width,height:e.size.height},i=this._getLeftOffset(),{top:r,bottom:a}=(0,o.zG)(this._viewPortOffsets,I.fS((()=>({top:0,bottom:0}))));return this._getVisibleTextFieldRect(t,r,a,i)}))).subscribe((e=>{this._textFieldVisibleRect.set(e)}))),this._subs.add(Y(f.R(this._params.textFieldElement.ownerDocument,"selectionchange").pipe(j.b(100),y.h(void 0)),this._params.selectionService).subscribe(s.wW(this._selectionRange)))}_getVisibleTextFieldRect(e,t,i,r){if(this._params.integrationName===$.u.gmailReply){const a=(0,M.Jj)(this._params.textFieldElement).document.documentElement.getBoundingClientRect(),n=A.UL.getIntersection(e,a);if(n||(this._params.telemetry.warn({message:"Failed to find intersection between the text field's visible layout rect and window rect. The resulting text field's visible rect may not be appropriate."}),this._logger.warn("Failed to find intersection between the text field's visible layout rect and window rect. The resulting text field's visible rect may not be appropriate.",{integrationName:this._params.integrationName})),null===n)return{top:0,height:0,left:0,width:0};const s=n.top<t?t:n.top;return{top:s,height:n.height+n.top>a.height-i?a.height-i-s:n.height,left:n.left-r,width:n.width+r}}return{top:e.top+t,height:e.height-i,left:e.left-r,width:e.width+r}}_getLeftOffset(){return this._params.integrationName in J?function(e){return J[e]}(this._params.integrationName):(this._logger.debug(`No left offset defined for integration with name "${this._params.integrationName}," defaulting to zero.`),0)}dispose(){this._subs.unsubscribe()}}var X=i(39144),K=i(57945),Z=i(43801);const ee=e=>d.S.isTransformJsonCapiAlert(e)&&e.outcome===K.TC.correctness&&e.transformJSON.highlights.every((e=>"enclosing"!==e.type)),te=o.W8;var ie=i(859),re=i(17226),ae=i(12518),ne=i(92054),se=i(80778),le=i(61031),oe=i(36661),de=i(6824),ce=i(42598),he=i(80847);const ge=oe.S((e=>e.struct({kind:e.literal(ce.PU.Final)}))),pe=oe.S((e=>e.intersect(ge(e))(he.WV(e)))),me=oe.n(de.Schemable)(pe).is,ue=oe.n(de.Schemable)(he.a9).is;function we(e){const t=(e=>{switch(e.kind){case"improve":return{kind:"default"};case"rephrase":return{kind:"rephrase"};case"shorten":return{kind:"other",actionId:{id:"VBarG2Shorter"}};case"friendly":return{kind:"other",actionId:{id:"VBarG2Friendly"}};case"formal":return{kind:"other",actionId:{id:"VBarG2Formal"}};case"customPrompt":return{kind:"userPrompt",prompt:e.prompt};default:(0,re.L0)(e)}})(e.type);return{correlationId:e.id,kind:{...t},entrypoint:{family:"g2",name:ce.K0.VbarCard},args:{},metadata:{}}}var _e=i(83138);class ve{constructor(e){this._params=e,this._subs=new a.w,this._logger=c.Y.create("RewriteServiceImpl"),this._relevantCapiMessages=this._params.checkingService.pipe(se.oA,b.w((e=>e.capiMessages)),_.h((0,ie.Kg)(me,ue))),this._cachedRewriteIdMap=new Map,this._cachedRewriteMap=new Map,this._subs.add(this._relevantCapiMessages.subscribe((e=>this._handleServerMessage(e))))}_handleServerMessage(e){ue(e)?(this._params.telemetry.warn({message:'Server message with result "failure" received.'}),this._handleErrorMessage(e)):me(e)?(this._params.telemetry.infoOncePerMessage({message:'Server message with result "success" received.'}),this._handleRewriteResultMessage(e)):(0,re.vE)(e)}_handleRewriteResultMessage(e){const t=this._cachedRewriteMap.get(e.correlationId);if(void 0===t)this._params.telemetry.warn({message:'Server message with result "success" and unknown correlation ID received.'}),this._logger.warn("Received a successful result with unknown correlation ID.",{resultSuccessMessage:e});else{const i={kind:"ready",id:t.get().id,type:t.get().type,text:t.get().text,textRange:t.get().textRange,title:e.explanation,rewriteText:e.rewrite,rewriteDiff:(0,o.zG)(_e.F.getDiff(t.get().text,e.rewrite),ae.mapLeft((t=>this._logger.error("Failed to get diff for rewrite.",{error:t,newText:e.rewrite}))),I.Uo)};this._logger.debug("Received a successful result; updating rewrite.",{rewriteBefore:t.get(),rewriteAfter:i}),t.set(i)}}_handleErrorMessage(e){const t=this._cachedRewriteMap.get(e.correlationId);if(void 0===t)this._params.telemetry.warn({message:'Server message with result "failure" and unknown correlation ID received.'}),this._logger.warn("Received a failed result with unknown correlation ID.",{errorMessage:e});else{const i={kind:"error",id:t.get().id,type:t.get().type,text:t.get().text,textRange:t.get().textRange,errorReason:e.errorType.kind,errorDetails:e.details};this._logger.debug("Received a failed result; updating rewrite.",{rewriteBefore:t.get(),rewriteAfter:i}),t.set(i)}}async getRewrite(e,t,i,r=!0){const a=(0,le.Wu)(t),n=`${e.kind}-${i.start}-${i.end}-${a}`,s=this._cachedRewriteIdMap.get(n),o=void 0!==s?this._cachedRewriteMap.get(s):void 0,d="customPrompt"!==e.kind&&r&&void 0!==o&&"error"!==o.get().kind;if(d)return o;d||void 0===s||this._cachedRewriteMap.delete(s);const c=(0,ne.Z)();this._cachedRewriteIdMap.set(n,c);const h=l.h.create({kind:"loading",id:c,type:e,text:t,textRange:i});this._cachedRewriteMap.set(h.get().id,h);const g=this._params.checkingService.get();if(I.Wi(g))return this._params.telemetry.error({message:"Getting rewrite failed: Checking service not initialized."}),this._logger.error("Failed to get rewrite. Checking service not initialized yet."),h.modify((e=>({...e,kind:"error",errorReason:"Failed to communicate with server."}))),h;const p=we(h.get());try{const e=await g.value.sendMessage("text_actions:invokeRewrite",p,!1,{kind:"scope",scope:{kind:"sessionText",rev:Number.MIN_SAFE_INTEGER,range:{start:h.get().textRange.start,end:h.get().textRange.end}}})();if(ae.isLeft(e))throw e.left.message;return h}catch(e){return this._params.telemetry.error({message:'Getting rewrite failed: Sending "disposable_cheetah:invokeCommand" message to CAPI failed.',error:e}),this._logger.error("Failed to get rewrite. Error sending text_actions:invokeRewrite message to CAPI.",{error:e}),h.modify((e=>({...e,kind:"error",errorReason:"Failed to communicate with server."}))),h}}dispose(){this._subs.unsubscribe()}}const fe=r.lazy((()=>Promise.all([i.e(9888),i.e(1033),i.e(1355),i.e(274)]).then(i.bind(i,56959)).then((({SidelineCard:e})=>({default:e})))));var be=i(59180),Se=i(12768);var Ce=i(25989);function ye(e,t,i,r){return(0,o.zG)(e.getSidelineTextInfo(i.sidelineId),I.UI((({text:e,textRange:i})=>Ce.D(t.getRewrite(r,e,i)).pipe(C.q(1),b.w(o.yR),n.U(I.G)))),I.pF((()=>x.of(I.YP))))}var Re=i(27794),xe=i(61442),Ie=i(9115);class Ee{constructor(e){var t;this._params=e,this._subs=new a.w,this._logger=c.Y.create("SidelineCardViewModelImpl"),this._visibleSidelineCard=l.h.create(I.YP),this._visibleSidelineCardSelectedRewriteType=l.h.create({kind:"improve"}),this._visibleSidelineCardImproveRewriteInfo=l.h.create(I.G({kind:"idle",type:{kind:"improve"}})),this._visibleSidelineCardRephraseRewriteInfo=l.h.create(I.G({kind:"idle",type:{kind:"rephrase"}})),this._visibleSidelineCardShortenRewriteInfo=l.h.create(I.YP),this._visibleSidelineCardFriendlyRewriteInfo=l.h.create(I.YP),this._visibleSidelineCardFormalRewriteInfo=l.h.create(I.YP),this._visibleSidelineCardCustomPromptRewriteInfo=l.h.create(I.YP),this.visibleSidelineCard=this._visibleSidelineCard.view(),this.visibleSidelineCardRewriteInfo=l.h.combine(this._visibleSidelineCardImproveRewriteInfo,this._visibleSidelineCardRephraseRewriteInfo,this._visibleSidelineCardShortenRewriteInfo,this._visibleSidelineCardFriendlyRewriteInfo,this._visibleSidelineCardFormalRewriteInfo,this._visibleSidelineCardCustomPromptRewriteInfo,((e,t,i,r,a,n)=>({improve:e,rephrase:t,shorten:i,friendly:r,formal:a,customPrompt:n}))),this._subs.add((t=this._params.sidelineCollectionViewModel,m.aj([t.activeSideline,t.pinnedSideline]).pipe(n.U((([e,t])=>(0,o.zG)(t,I.UI((e=>({sideline:e,isPinned:!0}))),I.wp((()=>(0,o.zG)(e,I.UI((e=>({sideline:e,isPinned:!1}))))))))),n.U(I.tS((({sideline:e,isPinned:i})=>(0,o.zG)(t.getSidelineReferenceElement(e.id),I.UI((t=>({sidelineId:e.id,isSidelinePinned:i,sidelineSignal:"paragraphSideline"===e.kind?e.signal:I.G("selection"),referenceElement:t}))))))))).subscribe((e=>{this._resetVisibleSidelineCard(),(0,Re.gw)(0).then((()=>this._visibleSidelineCard.set(e)))}))),this._subs.add(this._visibleSidelineCard.pipe(se.oA,b.w((e=>this._visibleSidelineCardSelectedRewriteType.pipe(n.U((t=>({visibleSidelineCard:e,visibleSidelineCardRewriteType:t})))))),b.w((({visibleSidelineCard:e,visibleSidelineCardRewriteType:t})=>ye(this._params.sidelineCollectionViewModel,this._params.rewriteService,e,t).pipe(n.U((e=>({rewriteType:t,rewrite:e}))))))).subscribe((({rewriteType:e,rewrite:t})=>{switch(e.kind){case"improve":this._visibleSidelineCardImproveRewriteInfo.set(t);break;case"rephrase":this._visibleSidelineCardRephraseRewriteInfo.set(t);break;case"shorten":this._visibleSidelineCardShortenRewriteInfo.set(t);break;case"friendly":this._visibleSidelineCardFriendlyRewriteInfo.set(t);break;case"formal":this._visibleSidelineCardFormalRewriteInfo.set(t);break;case"customPrompt":break;default:(0,re.L0)(e)}})));const i=this._visibleSidelineCardSelectedRewriteType.pipe(u.x(),_.h((0,Ie.ff)(Se.s)));this._subs.add(i.subscribe((()=>{this._setVisibleSidelineCardRewriteInfoToIdle({kind:"shorten"}),this._setVisibleSidelineCardRewriteInfoToIdle({kind:"friendly"}),this._setVisibleSidelineCardRewriteInfoToIdle({kind:"formal"})})))}_setVisibleSidelineCardRewriteInfoToIdle(e){const t=I.G({type:e,kind:"idle"});switch(e.kind){case"improve":this._visibleSidelineCardImproveRewriteInfo.set(t);break;case"rephrase":this._visibleSidelineCardRephraseRewriteInfo.set(t);break;case"shorten":this._visibleSidelineCardShortenRewriteInfo.set(t);break;case"friendly":this._visibleSidelineCardFriendlyRewriteInfo.set(t);break;case"formal":this._visibleSidelineCardFormalRewriteInfo.set(t);break;case"customPrompt":this._visibleSidelineCardCustomPromptRewriteInfo.set(t);break;default:(0,re.L0)(e)}}_resetVisibleSidelineCard(){this._visibleSidelineCard.set(I.YP),this._setVisibleSidelineCardRewriteInfoToIdle({kind:"improve"}),this._setVisibleSidelineCardRewriteInfoToIdle({kind:"rephrase"}),this._visibleSidelineCardShortenRewriteInfo.set(I.YP),this._visibleSidelineCardFriendlyRewriteInfo.set(I.YP),this._visibleSidelineCardFormalRewriteInfo.set(I.YP),this._visibleSidelineCardSelectedRewriteType.set({kind:"improve"}),this._visibleSidelineCardCustomPromptRewriteInfo.set(I.YP)}activateSidelineCard(e){this._logger.debug("Activate sideline card.",{sidelineCard:e}),this._params.sidelineCollectionViewModel.notifySidelineCardActive(e.sidelineId)}parseSidelineType(e){if(I.Wi(e))return"idle";{const t=e.value;return"attention"===t||"selection"===t?t:"idle"}}notifyRewriteMounted(e){const t=this.parseSidelineType(e.sidelineSignal);this._logger.debug("Track loaded event for sideline with id.",{sidelineId:e.sidelineId,type:t}),this._params.gnar.vBarCardLoaded(e.sidelineId,t)}notifySidelineCardShown(e){const t=this.parseSidelineType(e.sidelineSignal);this._logger.debug("Track show event for sideline with id.",{sidelineId:e.sidelineId,type:t}),this._params.gnar.vBarCardShow(e.sidelineId,t)}deactivateSidelineCard(e){this._logger.debug("Deactivate sideline card.",{sidelineCard:e}),this._params.sidelineCollectionViewModel.notifySidelineCardInactive(e.sidelineId)}notifySelectedRewriteTypeChanged(e){this._logger.debug("Selected rewrite type changed.",{rewriteType:e}),this._visibleSidelineCardSelectedRewriteType.set(e)}applyRewrite(e,t){const i=this.parseSidelineType(t.sidelineSignal);this._logger.debug("Apply rewrite.",{rewrite:e}),this._logger.debug("Track apply event for sideline.",{sidelineId:t.sidelineId,type:i}),this._params.gnar.vBarCardRewriteApply(t.sidelineId,i),this._params.performReplacement({pos:e.textRange,value:e.rewriteText,oldValue:e.text}).then((()=>{this._params.telemetry.info({message:"Applying rewrite succeeded."})})).catch((e=>{this._params.telemetry.error({message:"Applying rewrite failed.",error:e})})),this._params.sidelineCollectionViewModel.notifySidelineCardInactive(t.sidelineId,!0)}async copyRewrite(e,t){const i=this.parseSidelineType(t.sidelineSignal);this._logger.debug("Track copy event for sideline.",{sidelineId:t.sidelineId,type:i}),this._params.gnar.vBarCardRewriteCopy(t.sidelineId,i);try{await(0,xe.vQ)(e.rewriteText),this._params.telemetry.info({message:"Copying rewrite succeeded."})}catch(e){this._params.telemetry.error({message:"Copying rewrite failed.",error:e}),this._logger.error("Failed to copy rewrite.",e)}}submitCustomPrompt(e){(0,o.zG)(this._visibleSidelineCard.get(),be.bw((t=>this._subs.add(ye(this._params.sidelineCollectionViewModel,this._params.rewriteService,t,{kind:"customPrompt",prompt:e}).subscribe(s.wW(this._visibleSidelineCardCustomPromptRewriteInfo))))))}notifyCustomPromptChanged(e){this._visibleSidelineCardCustomPromptRewriteInfo.set(I.YP)}dispose(){this._subs.unsubscribe()}}var ke=i(46210);function Fe(e){let t=0,i=0;const r=[];for(;i<=e.length;)"\n"!==e.charAt(i)&&""!==e.charAt(i)||(t!==i&&r.push({start:t,end:i}),t=i+1),i++;return r}class Pe{constructor(e){this._params=e,this._subs=new a.w,this._logger=c.Y.create("ParagraphCollectionServiceImpl"),this._paragraphs=l.h.create([]),this._paragraphById=new Map,this.paragraphs=this._paragraphs.view(),this._subs.add(this._params.textObserver.contentChanges.async.pipe(_.h((e=>!e.deltaChange.isEmpty)),j.b(1e3),H.O(null),n.U((()=>{const e=this._params.textObserver.getCurrentTextMap().getPlainText();return{paragraphTextRanges:Fe(e),fullText:e}})),n.U((({paragraphTextRanges:e,fullText:t})=>{const i=e.map((e=>({id:`g2-paragraph-${e.start}-${e.end}`,textRange:e,text:t.slice(e.start,e.end)})));return this._logger.debug("Paragraphs updated.",{paragraphs:i}),i}))).subscribe(s.wW(this._paragraphs))),this._subs.add(this._paragraphs.subscribe((e=>{this._paragraphById.clear();for(const t of e)this._paragraphById.set(t.id,t)})))}getParagraphById(e){return I.ij(this._paragraphById.get(e))}dispose(){this._subs.unsubscribe()}}var Te=i(41092),Me=i(76553),Ge=i(50725),Le=i(16237),ze=i(61764);var Ve=i(34761),He=i(59833);const Be=({viewportRect:{top:e}})=>e,Ae=({viewportRect:{top:e,height:t}})=>e+t,Ne=e=>{if(e.length<2)return e;const t=e.sort(((e,t)=>Be(e)-Be(t))),i=[];let r=0,a=1,n=0;for(;r<e.length;){const e=t[r],s=t[a];void 0===s||Be(s)>=Ae(e)?(0===n&&i.push(e),r=a,n=0):(Ae(s)<=Ae(e)||(r=a),n++),a++}return i};class Ue{constructor(e){this._params=e,this._subs=new a.w,this._logger=c.Y.create("ParagraphHighlightCollectionViewModelImpl"),this._paragraphHighlights=l.h.create([]),this._emphasizedParagraphHighlight=l.h.create(I.YP),this.paragraphHighlights=this._paragraphHighlights.view(),this.emphasizedParagraphHighlight=this._emphasizedParagraphHighlight.view(),this._subs.add(this._params.paragraphCollectionService.paragraphs.subscribe((e=>{const t=Array.from(this._params.paragraphHighlightCollectionGeometry.geometry.get().keys());this._params.paragraphHighlightCollectionGeometry.removeHighlights(t);for(const t of e){const e=z.y$.Id.create(`g2-paragraph-highlight-${t.textRange.start}-${t.textRange.end}`);this._params.paragraphHighlightCollectionGeometry.addHighlight(e,t.textRange,{highlightId:e,alertId:t.id,highlightColor:null,highlightDisplayFormat:null,highlightLiveliness:null})}}))),this._subs.add(m.aj([this._params.integration.textFieldVisibleRect,this._params.textFieldLayout.rect.changes.pipe(H.O(this._params.textFieldLayout.rect.getCurrent())),this._params.textFieldLayout.scroll.changes.pipe(H.O(this._params.textFieldLayout.scroll.getCurrent())),this._params.paragraphHighlightCollectionGeometry.geometry.view((e=>Array.from(e.values())))]).pipe(n.U((([e,t,i,r])=>{const a=r.reduce(((r,a)=>((0,o.zG)(function(e,t,i,r,a,n){return(0,o.zG)(I.ij((0,Le.jr)(i)),I.UI((i=>{const s=(0,ze.Z)({kind:"offsetPoint",...i},r,a),l=s.left-n.left,o=n.left+n.width-s.right,d={top:s.top,left:s.left-l,width:s.width+l+o,height:s.height};return{id:e,paragraphId:t,textFieldRect:{top:i.top,left:i.left-l,width:i.width+l+o,height:i.height},viewportRect:d,isScrolledIntoView:A.UL.doesRectContain(n,d)}})))}(a.meta.highlightId.toString(),a.meta.alertId,a.rects,t.client,i,e),I.g_((()=>{this._params.telemetry.warn({message:"Creating highlight for paragraph failed."}),this._logger.warn("Failed to create paragraph highlight from highlight geometry. Skipping.",a)}),(e=>r.push(e)))),r)),[]);return this._logger.debug("Paragraph highlights updated.",{paragraphHighlights:a}),a})),n.U(Ne)).subscribe(s.wW(this._paragraphHighlights))),this._subs.add(this._params.mouseData.pipe(Te.U(Ge.S.hz30),S.skipBy(Me.Z.eq),n.U((({client:e,offset:t})=>{return i=this._paragraphHighlights.get(),r=e,a=t,n=this._params.textFieldElement,null!==r&&null!==a&&(0,Ve._N)(r,n)?(0,o.zG)(i,He.Ew((e=>A.UL.contains(a,e.textFieldRect)))):I.YP;var i,r,a,n}))).subscribe(s.wW(this._emphasizedParagraphHighlight)))}dispose(){this._subs.unsubscribe()}}var De=i(12920),Oe=i(33229);class Ye{constructor(e){this._params=e,this._subs=new a.w,this._logger=c.Y.create("SelectionHighlightViewModelImpl"),this._selectionHighlight=l.h.create(I.YP),this.selectionHighlight=this._selectionHighlight.view(),this._subs.add(this._params.integration.selectionRange.subscribe((e=>{this._logger.debug("Selection range changed, updating selection highlight geometry accordingly.",{selectionRange:e});const t=Array.from(this._params.selectionHighlightGeometry.geometry.get().keys());this._params.selectionHighlightGeometry.removeHighlights(t),(0,o.zG)(e,be.bw((e=>{const t=z.y$.Id.create(`g2-selection-highlight-${e.start}-${e.end}`);this._params.selectionHighlightGeometry.addHighlight(t,e,{highlightId:t,text:this._params.textObserver.getCurrentTextMap().getPlainText().slice(e.start,e.end),textRange:e,alertId:"",highlightColor:null,highlightDisplayFormat:null,highlightLiveliness:null})})))}))),this._subs.add(m.aj([this._params.integration.textFieldVisibleRect,this._params.textFieldLayout.rect.changes.pipe(H.O(this._params.textFieldLayout.rect.getCurrent())),this._params.textFieldLayout.scroll.changes.pipe(H.O(this._params.textFieldLayout.scroll.getCurrent())),this._params.selectionHighlightGeometry.geometry.view((e=>Array.from(e.values())))]).pipe(n.U((([e,t,i,r])=>(0,o.zG)(I.ij(r[0]),I.tS((r=>function(e,t,i,r){return(0,o.zG)(e,I.DT((e=>F(e.meta.text)>1)),I.tS((e=>(0,o.zG)((0,Le.jr)(e.rects),I.ij,I.UI((a=>{const n=(0,ze.Z)({kind:"offsetPoint",...a},t,i),s=n.left-r.left,l=r.left+r.width-n.right,o={top:n.top,left:n.left-s,width:n.width+s+l,height:n.height};return{id:e.meta.highlightId.toString(),text:e.meta.text,textRange:e.meta.textRange,viewportRect:o,isScrolledIntoView:A.UL.doesRectContain(r,o)}}))))))}(r,t.client,i,e))))))).subscribe(s.wW(this._selectionHighlight)))}dispose(){this._subs.unsubscribe()}}class We{constructor(e){this._params=e,this._subs=new a.w,this._logger=c.Y.create("G2FeatureImpl"),this._alertFilter=l.h.create(o.W8),this._integration=(0,V.a9)(this._params.integrationName)?new W({textFieldLayout:this._params.textFieldLayout,textFieldElement:this._params.textFieldElement,textObserver:this._params.textObserver,selectionSource:this._params.selectionSource,selectionService:this._params.selectionService}):new Q({integrationName:this._params.integrationName,textFieldLayout:this._params.textFieldLayout,textFieldElement:this._params.textFieldElement,selectionService:this._params.selectionService,telemetry:this._params.telemetry}),this._rewriteService=new ve({checkingService:this._params.checkingService,telemetry:this._params.telemetry}),this._paragraphCollectionService=new Pe({textObserver:this._params.textObserver}),this._paragraphHighlightCollectionGeometry=new De.C(this._params.geometryProvider,this._params.geometryLayout,(()=>this._params.textObserver.getCurrentTextMap()),this._integration.highlightGeometryFilter,(0,z.WF)(this._params.textFieldLayout),(0,Oe.m)()),this._paragraphHighlightCollectionViewModel=new Ue({paragraphCollectionService:this._paragraphCollectionService,paragraphHighlightCollectionGeometry:this._paragraphHighlightCollectionGeometry,textFieldLayout:this._params.textFieldLayout,mouseData:this._params.mouseData,textFieldElement:this._params.textFieldElement,integration:this._integration,gnar:this._params.gnar,telemetry:this._params.telemetry}),this._selectionHighlightGeometry=new De.C(this._params.geometryProvider,this._params.geometryLayout,(()=>this._params.textObserver.getCurrentTextMap()),this._integration.highlightGeometryFilter,(0,z.WF)(this._params.textFieldLayout),(0,Oe.m)()),this._selectionHighlightViewModel=new Ye({selectionHighlightGeometry:this._selectionHighlightGeometry,textFieldLayout:this._params.textFieldLayout,textObserver:this._params.textObserver,integration:this._integration}),this._sidelineCollectionViewModel=new L({paragraphCollectionService:this._paragraphCollectionService,paragraphHighlightCollectionViewModel:this._paragraphHighlightCollectionViewModel,alerts:this._params.alertProcessor.alerts.state.view((e=>Object.values(e).filter(E.Nf).filter(d.S.isTransformJsonCapiAlert))),textObserver:this._params.textObserver,textFieldLayout:this._params.textFieldLayout,textFieldElement:this._params.textFieldElement,selectionHighlightViewModel:this._selectionHighlightViewModel,legacyAssistantOpenState:this._params.legacyAssistantOpenState,assistantState:this._params.assistantState,telemetry:this._params.telemetry,gnar:this._params.gnar}),this._replacementService=this._params.replacementServiceInjector.create(ke.P.g2),this._sidelineCardViewModel=new Ee({rewriteService:this._rewriteService,sidelineCollectionViewModel:this._sidelineCollectionViewModel,performReplacement:e=>this._replacementService.performReplacement(e),gnar:this._params.gnar,telemetry:this._params.telemetry}),this.alertFilter=this._alertFilter.view(),this._logger.debug("G2 initialized.",{integrationName:this._params.integrationName});const t=(i=this._params.integrationName,(0,V.a9)(i)||"test2_aggressive"===(0,X.OB)().experimentClient.getTreatment(Z.p.G2NonGDocs)?ee:te);var i;this._subs.add(this._params.alertClassification.visibleInlineAlertsFilter.pipe(n.U((e=>i=>e(i)&&t(i)))).subscribe(s.wW(this._alertFilter)))}get paragraphHighlightsUI(){return r.createElement(r.Suspense,{fallback:r.createElement(r.Fragment,null)},r.createElement(h,{paragraphHighlights:this._paragraphHighlightCollectionViewModel.paragraphHighlights}))}get sidelinesUI(){return r.createElement(r.Suspense,{fallback:r.createElement(r.Fragment,null)},r.createElement(g,{paragraphSidelines:this._sidelineCollectionViewModel.paragraphSidelines,emphasizedSideline:this._sidelineCollectionViewModel.emphasizedSideline,activeSideline:this._sidelineCollectionViewModel.activeSideline,pinnedSideline:this._sidelineCollectionViewModel.pinnedSideline,shouldHideSidelines:this._sidelineCollectionViewModel.shouldHideSidelines,selectionSideline:this._sidelineCollectionViewModel.selectionSideline,onActivateSideline:e=>this._sidelineCollectionViewModel.activateSideline(e),onDeactivateSideline:e=>this._sidelineCollectionViewModel.deactivateSideline(e),onPinSideline:e=>this._sidelineCollectionViewModel.pinSideline(e),onUnpinSideline:e=>this._sidelineCollectionViewModel.unpinSideline(e),onMountSideline:(e,t)=>this._sidelineCollectionViewModel.setSidelineReferenceElement(e,t),telemetry:this._params.telemetry}))}get sidelineCardUI(){return r.createElement(r.Suspense,{fallback:r.createElement(r.Fragment,null)},r.createElement(fe,{visibleSidelineCard:this._sidelineCardViewModel.visibleSidelineCard,visibleSidelineCardRewriteInfo:this._sidelineCardViewModel.visibleSidelineCardRewriteInfo,telemetry:this._params.telemetry,onActivateSidelineCard:e=>this._sidelineCardViewModel.activateSidelineCard(e),onDeactivateSidelineCard:e=>this._sidelineCardViewModel.deactivateSidelineCard(e),onChangeSelectedRewriteType:e=>this._sidelineCardViewModel.notifySelectedRewriteTypeChanged(e),onApplyRewrite:(e,t)=>this._sidelineCardViewModel.applyRewrite(e,t),onCopyRewrite:(e,t)=>this._sidelineCardViewModel.copyRewrite(e,t),onChangeCustomPrompt:e=>this._sidelineCardViewModel.notifyCustomPromptChanged(e),onSubmitCustomPrompt:e=>this._sidelineCardViewModel.submitCustomPrompt(e),onCardShow:e=>this._sidelineCardViewModel.notifySidelineCardShown(e),onMountRewrite:e=>this._sidelineCardViewModel.notifyRewriteMounted(e)}))}dispose(){this._subs.unsubscribe(),this._integration.dispose(),this._rewriteService.dispose(),this._paragraphCollectionService.dispose(),this._paragraphHighlightCollectionGeometry.dispose(),this._paragraphHighlightCollectionViewModel.dispose(),this._selectionHighlightGeometry.dispose(),this._selectionHighlightViewModel.dispose(),this._sidelineCollectionViewModel.dispose(),this._sidelineCardViewModel.dispose()}}},12768:(e,t,i)=>{function r(e){return"improve"===e.kind}i.d(t,{s:()=>r})},1284:(e,t,i)=>{i.r(t),i.d(t,{ParagraphHighlightCollection:()=>s});var r=i(43818),a=i(49231),n=i(75851);const s=({paragraphHighlights:e})=>a.createElement(r.F.Fragment,null,e.view((e=>e.map((e=>a.createElement("div",{"data-testid":"grammarly-g2-paragraph-highlight",className:n.paragraphHighlight,key:e.id,style:{top:e.textFieldRect.top,left:e.textFieldRect.left,width:e.textFieldRect.width,height:e.textFieldRect.height}}))))))},56959:(e,t,i)=>{i.r(t),i.d(t,{SidelineCard:()=>re});var r=i(43818),a=i(49231),n=i(15868),s=i(69910);const l=({referenceElement:e,onMouseEnter:t,onMouseLeave:i,onFocus:r,onBlur:l,children:o})=>{const[d,c]=a.useState(null),{styles:h,attributes:g,state:p}=(0,n.D)(e,d,{placement:"bottom-start"});return a.createElement("div",{"data-testid":"grammarly-g2-sideline-card-popper",role:"dialog","aria-label":"Suggested rewrite dialog",tabIndex:0,ref:c,style:h.popper,className:s.sidelineCardPopper,onMouseEnter:t,onMouseLeave:i,onFocus:r,onBlur:l,...g.popper},o(null==p?void 0:p.placement))};var o=i(17226),d=i(79796);const c=()=>a.createElement("div",{className:d.sidelineCardRewriteLoadingSkeleton,"data-testid":"grammarly-g2-sideline-card-rewrite-loading-skeleton"},a.createElement("div",{className:d.sidelineCardRewriteLoadingSkeletonSignal}),a.createElement("div",{className:d.sidelineCardRewriteLoadingSkeletonContent},a.createElement("div",{className:d.sidelineCardRewriteLoadingSkeletonContentTitle}),a.createElement("div",{className:d.sidelineCardRewriteLoadingSkeletonContentText},a.createElement("div",{className:d.sidelineCardRewriteLoadingSkeletonContentTextLine}),a.createElement("div",{className:d.sidelineCardRewriteLoadingSkeletonContentTextLine}),a.createElement("div",{className:d.sidelineCardRewriteLoadingSkeletonContentTextLine}))));var h=i(46323),g=i(5742),p=i(15656),m=i(84593),u=i(87096);const w=({title:e,text:t})=>a.createElement("div",{className:h.sidelineCardRewriteSuccess,"data-testid":"grammarly-g2-sideline-card-rewrite-success"},a.createElement("div",{className:h.sidelineCardRewriteSuccessMain,"data-testid":"grammarly-g2-sideline-card-rewrite-success-main"},a.createElement(g.J,{size:"small",accessibilityLabel:"",icon:p.j}),a.createElement("div",{className:h.sidelineCardRewriteSuccessMainContent,"data-testid":"grammarly-g2-sideline-card-rewrite-success-main-content"},a.createElement(m.x,{className:h.sidelineCardRewriteSuccessMainContentTitle,as:"strong",color:"brand-default",variant:"text-small"},e),a.createElement(m.x,{as:"p",variant:"text-small",color:"base-subdued"},t))),a.createElement("div",{className:h.sidelineCardRewriteSuccessFooter,"data-testid":"grammarly-g2-sideline-card-rewrite-success-footer"},a.createElement(g.J,{size:"small",icon:u.p,accessibilityLabel:"Grammarly logo"})));var _=i(69587),v=i(99627),f=i(58252),b=i(62012),S=i(17023),C=i(43831);const y=e=>{const[t,i]=a.useState(!1),r=a.useRef(void 0),n=a.useCallback((()=>{void 0!==r.current&&(self.clearTimeout(r.current),r.current=void 0)}),[]);a.useEffect(n,[]);return a.createElement(f.k,{className:C.sidelineCardRewriteCopyButton},t&&a.createElement(f.k,{className:C.sidelineCardRewriteCopyButtonCopyConfirmation,bgColor:"background-base-default"},a.createElement(m.x,{as:"p",variant:"text-xsmall",color:"base-subdued"},"Copied")),a.createElement(b.h,{variant:"tertiary",accessibilityLabel:"Copy",icon:S.c,size:"small",onClick:async()=>{await e.onClick(),i(!0),n(),r.current=self.setTimeout((()=>{i(!1)}),3e3)}}))};var R=i(59833),x=i(83138),I=i(90023),E=i(14709);const k={color:E.I.Text.Brand.Default,background:"rgba(177, 240, 232, 0.6)",fontWeight:"bold"},F={color:"#696969",backgroundColor:"rgba(156, 156, 156, 0.2)",textDecoration:"line-through"},P={color:E.I.Text.Base.Default,backgroundColor:E.I.Background.Base.Default},T=({diff:e})=>a.createElement("p",null,(0,I.zG)(e,R.Su(((e,t)=>(0,I.zG)(t,x.F.matchOperation({onDelete:t=>a.createElement(m.x,{as:"span",variant:"text-small",key:e,style:F},t),onInsert:t=>a.createElement(m.x,{as:"span",variant:"text-small",key:e,style:k},t),onRetain:t=>a.createElement(m.x,{as:"span",variant:"text-small",key:e,style:P},t)}))))));var M=i(58303),G=i(98958),L=i(16293),z=i(10555);const V=({className:e,...t})=>a.createElement(L.z,{...(0,v.Sh)(z.sidelineCardButton,e),variant:"tertiary",size:"small",...t}),H="⮐",B="←";function A(e){return"attention"===e?_.sidelineCardRewriteReadyContentTitleAttention:"writingCoach"===e?_.sidelineCardRewriteReadyContentTitleWritingCoach:_.sidelineCardRewriteReadyContentTitleDefault}const N=e=>{const[t,i]=a.useState(null);a.useEffect((()=>{e.telemetry.infoOncePerMessage({message:"Rendering sideline card succeeded."})}),[]);return G.P.useEffectOnDidMount(e.onMount),a.createElement("div",{className:_.sidelineCardRewriteReady,"data-testid":"grammarly-g2-sideline-card-rewrite-ready"},a.createElement("div",{...(0,v.Sh)(_.sidelineCardRewriteReadySignalBar,(n=e.signal,"attention"===n?_.sidelineCardRewriteReadySignalBarAttention:"writingCoach"===n?_.sidelineCardRewriteReadySignalBarWritingCoach:_.sidelineCardRewriteReadySignalBarDefault)),"data-testid":"grammarly-g2-sideline-card-rewrite-ready-signal"}),a.createElement("div",{className:_.sidelineCardRewriteReadyContainer,"data-testid":"grammarly-g2-sideline-card-rewrite-ready-container"},a.createElement("div",{className:(r=null==t?void 0:t.getBoundingClientRect().height,r&&r>=190?_.sidelineCardRewriteReadyContentScrollable:_.sidelineCardRewriteReadyContent),"data-testid":"grammarly-g2-sideline-card-rewrite-ready-content",ref:i},a.createElement(m.x,{...(0,v.Sh)(_.sidelineCardRewriteReadyContentTitle,A(e.signal)),as:"strong",variant:"text-small"},e.title),(0,I.zG)(e.diff,M.UI((e=>a.createElement(T,{key:"diff",diff:e}))),M.fS((()=>a.createElement(m.x,{as:"p",variant:"text-small"},e.newText))))),a.createElement("div",{className:_.sidelineCardRewriteReadyContentToolbar,"data-testid":"grammarly-g2-sideline-card-rewrite-ready-content-toolbar"},a.createElement("div",{className:_.sidelineCardRewriteReadyContentToolbarLeft,"data-testid":"grammarly-g2-sideline-card-rewrite-ready-content-toolbar-left"},a.createElement(V,{text:"Accept",shortcut:H,onClick:e.onApply,"data-testid":"grammarly-g2-sideline-card-rewrite-ready-content-apply-btn"})),a.createElement("div",{className:_.sidelineCardRewriteReadyContentToolbarRight,"data-testid":"grammarly-g2-sideline-card-rewrite-ready-content-toolbar-right"},a.createElement(y,{onClick:e.onCopy}),a.createElement(g.J,{icon:u.p,accessibilityLabel:"Grammarly logo"})))));var r,n};var U=i(66743),D=i(3190);function O(e){return e?["Assistance unavailable",e]:["Couldn’t generate ideas","Please wait a moment, then try again."]}const Y=({errorDetails:e})=>a.createElement(f.k,{direction:"column",align:"center",gap:.5,padding:8,"data-testid":"grammarly-g2-sideline-card-rewrite-error"},a.createElement(g.J,{icon:U.F,size:"large",variant:"warning",accessibilityLabel:"","data-testid":"grammarly-g2-sideline-card-rewrite-error-icon"}),a.createElement(m.x,{as:"p",variant:"text-medium",color:"base-default",align:"center","data-testid":"grammarly-g2-sideline-card-rewrite-error-title"},(0,D.li)(O(e))),a.createElement(m.x,{as:"p",variant:"text-small",color:"base-subdued",align:"center","data-testid":"grammarly-g2-sideline-card-rewrite-error-subtitle"},(0,D.Yg)(O(e)))),W=e=>a.createElement("div",{role:"region","aria-live":"error"===e.kind?"assertive":"polite","aria-busy":"loading"===e.kind,"aria-label":j(e.kind),"data-testid":"grammarly-g2-sideline-card-rewrite"},(()=>{switch(e.kind){case"loading":return a.createElement(c,null);case"ready":return a.createElement(N,{signal:e.signal,title:e.title,newText:e.newText,diff:e.diff,onApply:e.onApply,onCopy:e.onCopy,onMount:e.onMount,telemetry:e.telemetry});case"success":return a.createElement(w,{title:e.title,text:e.text});case"error":return a.createElement(Y,{errorDetails:e.errorDetails});default:(0,o.L0)(e)}})());function j(e){switch(e){case"loading":return"Loading suggested rewrite";case"ready":case"success":return"Suggested rewrite";case"error":return"An error occurred";default:(0,o.L0)(e)}}var $=i(6584),J=i(19408),q=i(71476),Q=i(32493),X=i(92935);const K=({customPromptRewriteInfo:e,suggestedCustomPrompts:t,recentCustomPrompts:i,onGoBack:r,onChange:n,onSubmit:s})=>{const[l,o]=a.useState(""),d=a.useCallback((()=>{const e=l.trim();e.length>0&&s(e)}),[l]),c=a.useCallback((e=>{0===l.length&&"Backspace"===e.key&&(e.preventDefault(),e.stopPropagation(),r())}),[l]);return a.createElement(f.k,{className:X.sidelineCardCustomPrompt,direction:"column","data-testid":"grammarly-g2-sideline-card-custom-prompt"},a.createElement(f.k,{className:X.sidelineCardCustomPromptInput,align:"center",gap:{column:3},padding:2},a.createElement(V,{onClick:r,accessibilityLabel:"Go back",text:B,"data-testid":"grammarly-g2-sideline-card-custom-prompt-back-button"}),a.createElement("form",{className:X.sidelineCardCustomPromptInputForm,onSubmit:e=>{e.preventDefault(),d()}},a.createElement("input",{autoFocus:!0,type:"text",className:X.sidelineCardCustomPromptInputField,"aria-label":"Enter your prompt",placeholder:"Enter your prompt",onChange:e=>{o(e.target.value),n(e.target.value.trim())},onKeyDown:c,"data-testid":"grammarly-g2-sideline-card-custom-prompt-input-field"}),a.createElement("input",{type:"submit",style:{display:"none"},"data-testid":"grammarly-g2-sideline-card-custom-prompt-input-form-submit"})),l.trim().length>0&&a.createElement(V,{onClick:()=>d(),text:"Submit",shortcut:H})),e?a.createElement(W,{...e}):a.createElement(f.k,{className:X.sidelineCardCustomPromptSuggestedResults,direction:"column",gap:{row:2},padding:2},a.createElement(m.x,{as:"p",color:"base-subdued",variant:"text-xsmall",className:X.sidelineCardCustomPromptSuggestedResultsSubtitle},"Tell us how to change this text.",t.length>0?" Try ideas below:":""),t.map((e=>a.createElement(V,{key:e,className:X.sidelineCardCustomPromptSuggestedResultsOption,iconStart:q.p,text:e,accessibilityLabel:`Submit suggested prompt: ${e}`}))),i.length>0&&a.createElement(m.x,{as:"p",color:"base-subdued",variant:"text-xsmall",className:X.sidelineCardCustomPromptSuggestedResultsSubtitle},"Recent"),i.map((e=>a.createElement(V,{key:e,className:X.sidelineCardCustomPromptSuggestedResultsOption,iconStart:Q.w,text:e,accessibilityLabel:`Submit recent prompt: ${e}`})))))};const Z=({shortenRewriteInfo:e,friendlyRewriteInfo:t,formalRewriteInfo:i,onClickCustomPromptEntryPoint:r})=>a.createElement(J.m.TabList,{accessibilityLabel:"Type of rewrite",bottomBorder:"none"},a.createElement(J.m.Tab,{id:"improve",label:"Improve"}),a.createElement(J.m.Tab,{id:"rephrase",label:"Rephrase"}),e&&a.createElement(J.m.Tab,{id:"shorten",label:"Shorten"}),t&&a.createElement(J.m.Tab,{id:"friendly",label:"Friendly"}),i&&a.createElement(J.m.Tab,{id:"formal",label:"Formal"}),a.createElement(V,{className:$.sidelineCardCustomPromptEntryPoint,onClick:r,"data-testid":"grammarly-g2-sideline-card-custom-prompt-entry-point",text:"Enter your own...",accessibilityLabel:"Enter your own prompt"})),ee=({improveRewriteInfo:e,rephraseRewriteInfo:t,shortenRewriteInfo:i,friendlyRewriteInfo:r,formalRewriteInfo:n})=>a.createElement(a.Fragment,null,a.createElement(J.m.Panel,{id:"improve"},a.createElement(W,{...e})),a.createElement(J.m.Panel,{id:"rephrase"},a.createElement(W,{...t})),i&&a.createElement(J.m.Panel,{id:"shorten"},a.createElement(W,{...i})),r&&a.createElement(J.m.Panel,{id:"friendly"},a.createElement(W,{...r})),n&&a.createElement(J.m.Panel,{id:"formal"},a.createElement(W,{...n}))),te=({tabListPosition:e,improveRewriteInfo:t,rephraseRewriteInfo:i,shortenRewriteInfo:r,friendlyRewriteInfo:n,formalRewriteInfo:s,suggestedCustomPrompts:l,recentCustomPrompts:d,customPromptRewriteInfo:c,onChangeCustomPrompt:h,onSubmitCustomPrompt:g,onChangeSelectedRewriteType:p,onCardShow:m})=>{const[u,w]=a.useState({kind:"improve"}),[_,v]=a.useState({kind:"improve"});a.useEffect((()=>p(_)),[_]),G.P.useEffectOnDidMount(m);const f=a.createElement(Z,{shortenRewriteInfo:r,friendlyRewriteInfo:n,formalRewriteInfo:s,onClickCustomPromptEntryPoint:()=>{w(_),v({kind:"customPrompt",prompt:""})}}),b=a.createElement(ee,{improveRewriteInfo:t,rephraseRewriteInfo:i,shortenRewriteInfo:r,friendlyRewriteInfo:n,formalRewriteInfo:s});return a.createElement("div",{className:$.sidelineCard,"data-testid":"grammarly-g2-sideline-card"},"customPrompt"===_.kind?a.createElement(K,{suggestedCustomPrompts:null!=l?l:[],recentCustomPrompts:null!=d?d:[],customPromptRewriteInfo:c,onGoBack:()=>v(u),onChange:h,onSubmit:g}):a.createElement(J.m,{defaultSelectedTab:_.kind,onChange:e=>v(function(e){switch(e){case"improve":return{kind:"improve"};case"rephrase":return{kind:"rephrase"};case"shorten":return{kind:"shorten"};case"friendly":return{kind:"friendly"};case"formal":return{kind:"formal"};default:(0,o.L0)(e)}}(e))},"top"===e?f:b,a.createElement("div",{className:$.sidelineCardHorizontalDivider}),"bottom"===e?f:b))};var ie=i(12768);const re=({visibleSidelineCard:e,visibleSidelineCardRewriteInfo:t,telemetry:i,onActivateSidelineCard:n,onDeactivateSidelineCard:s,onChangeSelectedRewriteType:d,onApplyRewrite:c,onCopyRewrite:h,onMountRewrite:g,onCardShow:p,onChangeCustomPrompt:m,onSubmitCustomPrompt:u})=>{const w=(e,t)=>(0,I.zG)(e,M.UI((e=>function(e,t,i,r,a,n,s){return"loading"===e.kind||"idle"===e.kind?{kind:"loading"}:"ready"===e.kind?e.text===e.rewriteText?{kind:"success",title:"This text looks great!",text:"To rephrase your text, select another option."}:{kind:"ready",title:e.title,newText:e.rewriteText,diff:e.rewriteDiff,onApply:()=>r(e),onMount:()=>a(t),onCopy:()=>n(e),signal:(0,I.zG)(i,M.hX((()=>(0,ie.s)(e.type))),M.hX((e=>"attention"===e||"writingCoach"===e)),M.FS),telemetry:s}:"error"===e.kind?{kind:"error",errorDetails:e.errorDetails}:void(0,o.L0)(e)}(e,t,t.sidelineSignal,(e=>c(e,t)),(e=>g(e)),(e=>h(e,t)),i))));return a.createElement(r.F.Fragment,null,e.view((0,I.ls)(M.UI((e=>a.createElement(l,{referenceElement:e.referenceElement,onMouseEnter:()=>n(e),onMouseLeave:()=>{e.isSidelinePinned||s(e)},onFocus:()=>n(e),onBlur:()=>s(e)},(i=>a.createElement(r.F.Fragment,null,t.view((({improve:t,rephrase:r,shorten:n,friendly:s,formal:l,customPrompt:o})=>a.createElement(te,{tabListPosition:"bottom"===i||"bottom-end"===i||"bottom-start"===i?"top":"bottom",improveRewriteInfo:(0,I.zG)(w(t,e),M.pF((()=>({kind:"loading"})))),rephraseRewriteInfo:(0,I.zG)(w(r,e),M.pF((()=>({kind:"loading"})))),shortenRewriteInfo:(0,I.zG)(w(n,e),M.pF((()=>{}))),friendlyRewriteInfo:(0,I.zG)(w(s,e),M.pF((()=>{}))),formalRewriteInfo:(0,I.zG)(w(l,e),M.pF((()=>{}))),customPromptRewriteInfo:(0,I.zG)(w(o,e),M.pF((()=>{}))),onChangeCustomPrompt:e=>m(e),onSubmitCustomPrompt:e=>u(e),onChangeSelectedRewriteType:e=>d(e),onCardShow:()=>p(e)})))))))),M.WG)))}},64738:(e,t,i)=>{i.r(t),i.d(t,{SidelineCollection:()=>_});var r=i(58303),a=i(99627),n=i(43818),s=i(25770),l=i(90023),o=i(49231),d=i(8780),c=i(5742),h=i(84880),g=i(17226);const p=o.forwardRef((function({emphasized:e,signal:t,heightInPixels:i,onClick:r,onMouseOver:n,onMouseOut:s,onFocus:l,onBlur:p,telemetry:m},u){o.useEffect((()=>{m.infoOncePerMessage({message:"Rendering sideline succeeded."})}),[]);const w=("attention"===t||"loading"===t||"writingCoach"===t)&&!(e&&!(i>=24));return o.createElement("button",{"data-testid":"grammarly-g2-sideline",...(0,a.Sh)(d.sideline,e?d.sidelineEmphasized:d.sidelineIdle,"selection"===t?d.sidelineWithSelectionSignal:void 0,w?d.sidelineWithSignalBar:void 0),style:{height:i,width:16},disabled:!e,onClick:e?r:void 0,onFocus:e?l:void 0,onBlur:e?p:void 0,onMouseOver:n,onMouseOut:s,"aria-label":"See rewrite suggestions",ref:u},o.createElement("div",{...(0,a.Sh)(d.sidelineSignalBar,(e=>{switch(e){case"loading":return d.sidelineSignalBarLoading;case"attention":return d.sidelineSignalBarAttention;case"writingCoach":return d.sidelineSignalBarWritingCoach;case"selection":case void 0:return;default:(0,g.L0)(e)}})(t),e?d.sidelineSignalBarEmphasized:void 0,w?void 0:d.sidelineSignalBarHidden),role:"status","aria-label":"Rewrite suggestions available"}),o.createElement(c.J,{...(0,a.Sh)(d.sidelineArrow,e?d.sidelineArrowVisible:void 0,w?d.sidelineArrowBottom:void 0),icon:h.b,accessibilityLabel:"",size:"small",variant:"selection"===t?"inverse":"default"}))}));var m=i(93496);function u(e,t,i){return(0,l.zG)(t,r.UI((t=>t===e)),r.wp((()=>(0,l.zG)(i,r.UI((t=>t===e))))),r.fS((()=>!1)))}const w=({sidelineId:e,isEmphasized:t,isActive:i,viewportRect:r,signal:n,onMount:s,onPin:l,onUnpin:d,onActivate:c,onDeactivate:h,telemetry:g})=>o.createElement(o.Fragment,null,o.createElement("span",{"data-testid":`grammarly-g2-sideline-paragraph-highlighter-${e}`,...(0,a.Sh)(m.sidelineParagraphHighlighter,i?m.sidelineParagraphHighlighterActive:void 0),style:{top:r.top-4,left:r.left-8-4,width:r.width+8+8,height:r.height+8},ref:t=>{t&&s(e,t)}}),o.createElement("span",{"data-testid":`grammarly-g2-sideline-positioner-${e}`,className:m.sidelinePositioner,style:{top:r.top,left:r.left-8}},o.createElement(p,{emphasized:t,signal:n,heightInPixels:r.height,onClick:()=>l(e),onFocus:()=>l(e),onBlur:()=>d(e),onMouseOver:()=>c(e),onMouseOut:()=>h(e),telemetry:g}))),_=({paragraphSidelines:e,emphasizedSideline:t,activeSideline:i,pinnedSideline:a,selectionSideline:d,shouldHideSidelines:c,onActivateSideline:h,onDeactivateSideline:g,onPinSideline:p,onUnpinSideline:m,onMountSideline:_,telemetry:v})=>o.createElement(n.F.Fragment,null,s.h.combine(e,t,i,a,d,c,((e,t,i,a,n,s)=>!s&&(0,l.zG)(n,r.UI((e=>o.createElement(w,{sidelineId:e.id,isEmphasized:!0,isActive:u(e.id,(0,l.zG)(a,r.UI((e=>e.id))),(0,l.zG)(i,r.UI((e=>e.id)))),viewportRect:e.selectionHighlightViewportRect,signal:"selection",onMount:(e,t)=>_(e,t),onPin:e=>p(e),onUnpin:e=>m(e),onActivate:e=>h(e),onDeactivate:e=>g(e),telemetry:v}))),r.fS((()=>o.createElement(o.Fragment,null,e.map((e=>{return o.createElement(o.Fragment,{key:e.id},o.createElement(w,{sidelineId:e.id,isEmphasized:(n=e.id,s=(0,l.zG)(a,r.UI((e=>e.id))),d=(0,l.zG)(i,r.UI((e=>e.id))),c=(0,l.zG)(t,r.UI((e=>e.id))),(0,l.zG)(s,r.UI((e=>e===n)),r.fS((()=>(0,l.zG)(d,r.UI((e=>e===n)),r.fS((()=>!1)))||(0,l.zG)(c,r.UI((e=>e===n)),r.fS((()=>!1))))))),isActive:u(e.id,(0,l.zG)(a,r.UI((e=>e.id))),(0,l.zG)(i,r.UI((e=>e.id)))),viewportRect:e.paragraphHighlightViewportRect,signal:r.FS(e.signal),onMount:(e,t)=>_(e,t),onPin:e=>p(e),onUnpin:e=>m(e),onActivate:e=>h(e),onDeactivate:e=>g(e),telemetry:v}));var n,s,d,c})))))))))},83138:(e,t,i)=>{i.d(t,{F:()=>r});var r,a=i(60213),n=i(3190),s=i(12518),l=i(53186),o=i(90023),d=i(95907);!function(e){let t;e.getDiff=(e,t)=>(0,o.zG)(s.tryCatch((()=>{const i=new a.diff_match_patch,r=i.diff_main(e,t);return i.diff_cleanupSemantic(r),r}),s.toError),s.chain((0,o.ls)(l.nI,s.fromOption((()=>new Error("Diff is empty")))))),function(e){e[e.DELETE=-1]="DELETE",e[e.RETAIN=0]="RETAIN",e[e.INSERT=1]="INSERT"}(t=e.Operation||(e.Operation={})),e.matchOperation=function({onInsert:e,onDelete:i,onRetain:r}){return a=>{const s=(0,n.li)(a);switch(s){case t.INSERT:return e((0,n.Yg)(a));case t.DELETE:return i((0,n.Yg)(a));case t.RETAIN:return r((0,n.Yg)(a));default:(0,d.vE)(s)}}}}(r||(r={}))},84548:(e,t,i)=>{i.d(t,{$x:()=>s,F8:()=>m,Go:()=>a,Kt:()=>S,Lq:()=>d,Q2:()=>f,QR:()=>E,Qy:()=>_,Vk:()=>C,Wp:()=>r,XG:()=>n,_m:()=>g,d0:()=>c,f:()=>o,gH:()=>w,gL:()=>y,gv:()=>u,ij:()=>I,j5:()=>b,jW:()=>p,lO:()=>x,os:()=>v,rx:()=>R,uj:()=>h,y1:()=>l});const r=".kix-appview-editor",a=".docos-input",n=".docs-texteventtarget-iframe",s=".kix-cursor",l=".kix-cursor-caret",o="#docs-revisions-sidebar",d='#docs-toolbar-mode-switcher[aria-label="Viewing mode"]',c="#docs-toolbar-mode-switcher",h="edit-mode",g="suggest-mode",p="#titlebar-mode-indicator-container .titlebar-request-access-button",m="#titlebar-mode-indicator-container .kix-titlebar-request-access-button",u=".kix-canvas-tile-content",w="canvas.kix-canvas-tile-content:not(.docs-ui-unprintable *)",_=".kix-rotatingtilemanager:not(.docs-ui-unprintable *)",v=".kix-page-paginated.canvas-first-page",f="kix-page-canvas-compact-mode",b=".docs-horizontal-ruler",S=".docs-vertical-ruler",C="#fontSizeSelect input",y=".docs-ruler-background",R=".docs-ruler-background-inner",x=".docs-ruler-indent-first-line",I=".modal-dialog.docs-dialog .fatal-error-message",E='#docs-titlebar-share-client-button div[role="button"]'},12201:(e,t,i)=>{i.d(t,{b:()=>l});var r=i(82823),a=i(140),n=i(57724),s=i(25770);class l{constructor(e){this._textObserver=e,this._mapChangedAtom=s.h.create([0,[]]),this._sub=new r.w,this.highlightsFilterFactory=()=>s.h.combine((0,a.u)(),this._mapChangedAtom,((e,t)=>{const i=this._textObserver.getCurrentTextMap();return{filter:t=>e.filter(t)&&(null!==i.getFragmentAtOffset(t.start)||null!==i.getFragmentAtOffset(t.end)||null!==i.getFragmentAtOffset(t.end-1)),type:n.qH.ChangeType.preserve}})),this._sub.add(this._textObserver.textMapChanged.subscribe((e=>{this._mapChangedAtom.modify((([t,i])=>[t+1,e]))})))}dispose(){this._sub.unsubscribe()}}},61442:(e,t,i)=>{i.d(t,{Sz:()=>n,vQ:()=>a});var r=i(12518);async function a(e,t=self){if(function(e=self){var t,i;return!!(null===(i=null===(t=e.navigator)||void 0===t?void 0:t.clipboard)||void 0===i?void 0:i.writeText)}(t))return t.navigator.clipboard.writeText(e);throw new Error("Clipboard API not supported")}function n(e,t=self){return a(e,t).then((()=>r.right(void 0))).catch((e=>r.left(e instanceof Error?e:new Error(String(e)))))}},61031:(e,t,i)=>{function r(e,t=0){return(t<<5)-t+(0|e)|0}function a(e,t=0){let i=t;for(const t of e)i=r(t.charCodeAt(0),i);return i}i.d(t,{Wu:()=>a,k3:()=>r})},8780:e=>{e.exports={sideline:"G2vdT",sidelineEmphasized:"tw3gA",sidelineWithSelectionSignal:"ikZS7",sidelineWithSignalBar:"gtUhG",sidelineSignalBar:"Pdlcn",sidelineSignalBarLoading:"ZhtAx",pulse:"PEPt4",sidelineSignalBarAttention:"xQocX",sidelineSignalBarWritingCoach:"O4JQp",sidelineSignalBarEmphasized:"_mi1U",sidelineSignalBarHidden:"BNKg6",sidelineArrow:"Ihuz1",sidelineArrowVisible:"gtlTF",sidelineArrowBottom:"PPzfY"}},6584:e=>{e.exports={sidelineCard:"KetZV",sidelineCardHorizontalDivider:"d96oB",sidelineCardCustomPromptEntryPoint:"USGAc"}},10555:e=>{e.exports={sidelineCardButton:"qFbmx"}},92935:e=>{e.exports={sidelineCardCustomPrompt:"LfX1e",sidelineCardCustomPromptInput:"RoTP_",sidelineCardCustomPromptInputForm:"B0peX",sidelineCardCustomPromptInputField:"SLnHC",sidelineCardCustomPromptSuggestedResults:"o_ldN",sidelineCardCustomPromptSuggestedResultsSubtitle:"eezEJ",sidelineCardCustomPromptSuggestedResultsOption:"FmvTD"}},69910:e=>{e.exports={sidelineCardPopper:"m2vlI"}},43831:e=>{e.exports={sidelineCardRewriteCopyButton:"_kIwY","5rem":"TE61X",sidelineCardRewriteCopyButtonCopyConfirmation:"eH5TV"}},79796:e=>{e.exports={sidelineCardRewriteLoadingSkeleton:"AZpqD",sidelineCardRewriteLoadingSkeletonSignal:"QmlkU",blink:"ME70b",sidelineCardRewriteLoadingSkeletonContent:"pCdaZ",sidelineCardRewriteLoadingSkeletonContentTitle:"njaNp",sidelineCardRewriteLoadingSkeletonContentText:"tFJmW",sidelineCardRewriteLoadingSkeletonContentTextLine:"CUydw"}},69587:e=>{e.exports={sidelineCardRewriteReady:"aC0Qq",sidelineCardRewriteReadySignalBar:"zv_Ws",sidelineCardRewriteReadySignalBarAttention:"oimfv",sidelineCardRewriteReadySignalBarWritingCoach:"OgCkm",sidelineCardRewriteReadySignalBarDefault:"GGpaV",sidelineCardRewriteReadyContainer:"JCAN0",sidelineCardRewriteReadyContentScrollable:"Cq6T4",sidelineCardRewriteReadyContent:"ANoVu",sidelineCardRewriteReadyContentTitle:"JruGr",sidelineCardRewriteReadyContentTitleAttention:"ncGgB",sidelineCardRewriteReadyContentTitleWritingCoach:"TNHGD",sidelineCardRewriteReadyContentTitleDefault:"FKJEV",sidelineCardRewriteReadyContentToolbar:"AkoCa",sidelineCardRewriteReadyContentToolbarLeft:"Fl51m",sidelineCardRewriteReadyContentToolbarRight:"UPwBp"}},46323:e=>{e.exports={sidelineCardRewriteSuccess:"qCfRi",sidelineCardRewriteSuccessMain:"EHpcl",sidelineCardRewriteSuccessMainContent:"YnX7U",sidelineCardRewriteSuccessMainContentTitle:"KYYEg",sidelineCardRewriteSuccessFooter:"mKGH0"}},75851:e=>{e.exports={paragraphHighlight:"GdUyo"}},93496:e=>{e.exports={sidelineParagraphHighlighter:"ch8Da",sidelineParagraphHighlighterActive:"x3IoY",sidelinePositioner:"lx6ct"}}}]);