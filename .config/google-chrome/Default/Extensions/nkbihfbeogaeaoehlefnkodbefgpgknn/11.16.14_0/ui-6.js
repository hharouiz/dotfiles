LavaPack.loadBundle([[5230,{"../../shared/constants/common":4345,"../ducks/metamask/metamask":5135,"../helpers/constants/common":5141,"../selectors":5751,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useUserPreferencedCurrency=function(e,t={}){const n=(0,a.useSelector)(o.getNativeCurrency),{useNativeCurrencyAsPrimaryCurrency:l}=(0,a.useSelector)(r.getPreferences,a.shallowEqual),c=(0,a.useSelector)(r.getShouldShowFiat),u={currency:(0,a.useSelector)(r.getCurrentCurrency),numberOfDecimals:t.numberOfDecimals||t.fiatNumberOfDecimals||2},d={currency:n||i.EtherDenomination.ETH,numberOfDecimals:t.numberOfDecimals||t.ethNumberOfDecimals||8};if(t.showNativeOverride)return d;if(t.showFiatOverride)return u;if(!c||e===s.PRIMARY&&l||e===s.SECONDARY&&!l)return d;return u};var a=e("react-redux"),r=e("../selectors"),o=e("../ducks/metamask/metamask"),s=e("../helpers/constants/common"),i=e("../../shared/constants/common")}}},{package:"$root$",file:"ui/hooks/useUserPreferencedCurrency.js"}],[5231,{"../app/scripts/lib/setupSentry":87,"../app/scripts/lib/util":97,"../shared/constants/alerts":4342,"../shared/constants/app":4343,"../shared/constants/copy":4346,"../shared/lib/error-utils":4370,"../shared/lib/switch-direction":4375,"../shared/modules/object.utils":4395,"./ducks/alerts":5123,"./ducks/metamask/metamask":5135,"./helpers/utils/tx-helper":5184,"./pages":5550,"./selectors":5751,"./store/actions":5759,"./store/background-connection":5760,"./store/store":5761,"copy-to-clipboard":2857,lodash:3638,loglevel:3644,react:4037,"react-dom":3879,"webextension-polyfill":4322},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,t){const{backgroundConnection:n}=e;n.getState((function(a,r){a?t(a,{...r},n):async function(e,t,n){e.featureFlags||(e.featureFlags={});const{currentLocaleMessages:a,enLocaleMessages:r}=await(0,h.setupLocale)(e.currentLocale);"rtl"===e.textDirection&&(0,g.default)("rtl");const o={activeTab:n.activeTab,metamask:e,appState:{},localeMessages:{currentLocale:e.currentLocale,current:a,en:r}};if(A(t),(0,c.getEnvironmentType)()===f.ENVIRONMENT_TYPE_POPUP){var l;const{origin:e}=o.activeTab,t=(0,b.getPermittedAccountsForCurrentTab)(o),n=(null===(l=(0,b.getSelectedInternalAccount)(o))||void 0===l?void 0:l.address)??"",a=(0,_.getUnconnectedAccountAlertShown)(o),r=(0,_.getUnconnectedAccountAlertEnabledness)(o);e&&r&&!a[e]&&t.length>0&&!t.includes(n)&&(o[u.AlertTypes.unconnectedAccount]={state:T.ALERT_STATE.OPEN},y.setUnconnectedAccountAlertShown(e))}const d=(0,v.default)(o);w=d;const p=(0,b.getUnapprovedTransactions)(e),m=(0,E.default)(p,e.unapprovedMsgs,e.unapprovedPersonalMsgs,e.unapprovedDecryptMsgs,e.unapprovedEncryptionPublicKeyMsgs,e.unapprovedTypedMessages,e.networkId,e.providerConfig.chainId);m.length>0&&d.dispatch(y.showConfTxPage({id:m[0].id}));global.metamask={updateCurrentLocale:e=>{d.dispatch(y.updateCurrentLocale(e))},setProviderType:e=>{d.dispatch(y.setProviderType(e))},setFeatureFlag:(e,t)=>{d.dispatch(y.setFeatureFlag(e,t))}},"";return(0,i.render)(s.default.createElement(x.default,{store:d}),n.container),d}(r,n,e).then((e=>{!function(e){0;window.stateHooks.getCleanAppState=async function(){const t=(0,o.clone)(e.getState());return t.version=global.platform.getVersion(),t.browser=window.navigator.userAgent,t.completeTxList=await y.getTransactions({filterToCurrentNetwork:!1}),t},window.stateHooks.getSentryAppState=function(){const t=e.getState();return(0,d.maskObject)(t,p.SENTRY_UI_STATE)},window.stateHooks.getLogs=function(){const t=e.getState(),{logs:n}=t.metamask;return Object.values(n).sort(((e,t)=>e.timestamp-t.timestamp))}}(e),t(null,e)}))}))},n.updateBackgroundConnection=void 0;var a=C(e("copy-to-clipboard")),r=C(e("loglevel")),o=e("lodash"),s=C(e("react")),i=e("react-dom"),l=C(e("webextension-polyfill")),c=e("../app/scripts/lib/util"),u=e("../shared/constants/alerts"),d=e("../shared/modules/object.utils"),p=e("../app/scripts/lib/setupSentry"),f=e("../shared/constants/app"),m=e("../shared/constants/copy"),g=C(e("../shared/lib/switch-direction")),h=e("../shared/lib/error-utils"),y=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("./store/actions")),v=C(e("./store/store")),b=e("./selectors"),T=e("./ducks/alerts"),_=e("./ducks/metamask/metamask"),x=C(e("./pages")),E=C(e("./helpers/utils/tx-helper")),M=e("./store/background-connection");function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function C(e){return e&&e.__esModule?e:{default:e}}let w;r.default.setLevel(global.METAMASK_DEBUG?"debug":"warn",!1);const A=e=>{(0,M.setBackgroundConnection)(e),e.onNotification((e=>{if("sendUpdate"!==e.method)throw new Error(`Internal JSON-RPC Notification Not Handled:\n\n ${JSON.stringify(e)}`);w.dispatch(y.updateMetamaskState(e.params[0]))}))};n.updateBackgroundConnection=A,window.logStateString=async function(e){const t=await window.stateHooks.getCleanAppState(),n=window.stateHooks.getLogs();l.default.runtime.getPlatformInfo().then((a=>{t.platform=a,t.logs=n;const r=JSON.stringify(t,null,2);e(null,r)})).catch((t=>{e(t)}))},window.logState=function(e){return window.logStateString(((t,n)=>{t?console.error(t.message):e?((0,a.default)(n,m.COPY_OPTIONS),console.log("State log copied")):console.log(n)}))}}}},{package:"$root$",file:"ui/index.js"}],[5232,{"../../../shared/modules/string-utils":4403,"../../components/app/nft-details/nft-details":4542,"../../ducks/metamask/metamask":5135,"../../helpers/constants/routes":5148,"./components/native-asset":5236,"./components/token-asset":5237,react:4037,"react-redux":4002,"react-router-dom":4022},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("../../../shared/modules/string-utils"),i=p(e("../../components/app/nft-details/nft-details")),l=e("../../ducks/metamask/metamask"),c=e("../../helpers/constants/routes"),u=p(e("./components/native-asset")),d=p(e("./components/token-asset"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,r.useSelector)(l.getNativeCurrency),t=(0,r.useSelector)(l.getTokens),n=(0,r.useSelector)(l.getNfts),{asset:p,id:f}=(0,o.useParams)(),m=t.find((({address:e})=>(0,s.isEqualCaseInsensitive)(e,p))),g=n.find((({address:e,tokenId:t})=>(0,s.isEqualCaseInsensitive)(e,p)&&f===t.toString()));let h;return(0,a.useEffect)((()=>{document.querySelector(".app").scroll(0,0)}),[]),h=g?a.default.createElement(i.default,{nft:g}):m?a.default.createElement(d.default,{token:m}):p===e?a.default.createElement(u.default,{nativeCurrency:e}):a.default.createElement(o.Redirect,{to:{pathname:c.DEFAULT_ROUTE}}),a.default.createElement("div",{className:"main-container asset__container"},h)}}}},{package:"$root$",file:"ui/pages/asset/asset.js"}],[5233,{"../../../components/component-library":4775,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=s(e("react")),r=s(e("prop-types")),o=e("../../../components/component-library");function s(e){return e&&e.__esModule?e:{default:e}}const i=({accountName:e,assetName:t,onBack:n})=>a.default.createElement("button",{className:"asset-breadcrumb",onClick:n},a.default.createElement(o.Icon,{name:o.IconName.ArrowLeft,"data-testid":"asset__back",marginInlineEnd:3,size:o.IconSize.Xs}),a.default.createElement("span",null,e)," / ",a.default.createElement("span",{className:"asset-breadcrumb__asset"},t));i.propTypes={accountName:r.default.string.isRequired,assetName:r.default.string.isRequired,onBack:r.default.func.isRequired};n.default=i}}},{package:"$root$",file:"ui/pages/asset/components/asset-breadcrumb.js"}],[5234,{"./asset-breadcrumb":5233,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=s(e("react")),r=s(e("prop-types")),o=s(e("./asset-breadcrumb"));function s(e){return e&&e.__esModule?e:{default:e}}const i=({accountName:e,assetName:t,onBack:n,optionsButton:r})=>a.default.createElement("div",{className:"asset-navigation"},a.default.createElement(o.default,{accountName:e,assetName:t,onBack:n}),r);i.propTypes={accountName:r.default.string.isRequired,assetName:r.default.string.isRequired,onBack:r.default.func.isRequired,optionsButton:r.default.element};n.default=i}}},{package:"$root$",file:"ui/pages/asset/components/asset-navigation.js"}],[5235,{"../../../components/component-library":4775,"../../../components/ui/menu":5053,"../../../contexts/i18n":5116,"../../../helpers/constants/design-system":5143,"../../../helpers/constants/routes":5148,"../../../selectors":5751,"prop-types":3794,react:4037,"react-redux":4002,"react-router-dom":4022},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("react-router-dom"),i=e("react-redux"),l=e("../../../contexts/i18n"),c=e("../../../components/ui/menu"),u=e("../../../selectors"),d=e("../../../helpers/constants/routes"),p=e("../../../components/component-library"),f=e("../../../helpers/constants/design-system");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const g=({onRemove:e,onClickBlockExplorer:t,onViewTokenDetails:n,tokenSymbol:a,isNativeAsset:o})=>{const m=(0,r.useContext)(l.I18nContext),[g,h]=(0,r.useState)(!1),y=(0,s.useHistory)(),v=(0,i.useSelector)(u.getBlockExplorerLinkText),b=(0,r.useRef)(!1);return r.default.createElement("div",{ref:b},r.default.createElement(p.ButtonIcon,{className:"asset-options__button","data-testid":"asset-options__button",onClick:()=>h(!0),ariaLabel:m("assetOptions"),iconName:p.IconName.MoreVertical,color:f.Color.textDefault,size:p.ButtonIconSize.Sm}),g?r.default.createElement(c.Menu,{anchorElement:b.current,onHide:()=>h(!1)},r.default.createElement(c.MenuItem,{iconName:p.IconName.Export,"data-testid":"asset-options__etherscan",onClick:"addBlockExplorer"===v.firstPart?()=>{y.push(`${d.NETWORKS_ROUTE}#blockExplorerUrl`)}:()=>{h(!1),t()}},m(v.firstPart,""===v.secondPart?null:[m("blockExplorerAssetAction")])),o?null:r.default.createElement(c.MenuItem,{iconName:p.IconName.Trash,"data-testid":"asset-options__hide",onClick:()=>{h(!1),e()}},m("hideTokenSymbol",[a])),o?null:r.default.createElement(c.MenuItem,{iconName:p.IconName.Info,"data-testid":"asset-options__token-details",onClick:()=>{h(!1),n()}},m("tokenDetails"))):null)},h=e=>"function"!=typeof e;g.propTypes={isNativeAsset:o.default.bool,onClickBlockExplorer:o.default.func.isRequired,onRemove:e=>{if(!1===e.isNativeAsset&&h(e.onRemove))throw new Error("When isNativeAsset is true, onRemove is a required prop")},onViewTokenDetails:e=>{if(!1===e.isNativeAsset&&h(e.onViewTokenDetails))throw new Error("When isNativeAsset is true, onViewTokenDetails is a required prop")},tokenSymbol:e=>{if(!1===e.isNativeAsset&&"string"!=typeof e.tokenSymbol)throw new Error("When isNativeAsset is true, tokenSymbol is a required prop")}};n.default=g}}},{package:"$root$",file:"ui/pages/asset/components/asset-options.js"}],[5236,{"../../../../shared/constants/metametrics":4353,"../../../components/app/transaction-list":4691,"../../../components/app/wallet-overview":4703,"../../../contexts/metametrics":5117,"../../../helpers/constants/routes":5148,"../../../helpers/utils/util":5185,"../../../selectors/selectors":5755,"./asset-navigation":5234,"./asset-options":5235,"@metamask/etherscan-link":1285,"prop-types":3794,react:4037,"react-redux":4002,"react-router-dom":4022},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=b;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=y(e("prop-types")),o=e("react-redux"),s=e("react-router-dom"),i=e("@metamask/etherscan-link"),l=y(e("../../../components/app/transaction-list")),c=e("../../../components/app/wallet-overview"),u=e("../../../selectors/selectors"),d=e("../../../helpers/constants/routes"),p=e("../../../helpers/utils/util"),f=e("../../../contexts/metametrics"),m=e("../../../../shared/constants/metametrics"),g=y(e("./asset-navigation")),h=y(e("./asset-options"));function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b({nativeCurrency:e}){const{name:t,address:n}=(0,o.useSelector)(u.getSelectedInternalAccount),r=(0,o.useSelector)(u.getCurrentChainId),y=(0,o.useSelector)(u.getRpcPrefsForCurrentProvider),v=(0,s.useHistory)(),b=(0,i.getAccountLink)(n,r,y),T=(0,a.useContext)(f.MetaMetricsContext),_=(0,o.useSelector)(u.getIsCustomNetwork);return a.default.createElement(a.default.Fragment,null,a.default.createElement(g.default,{accountName:t,assetName:e,onBack:()=>v.push(d.DEFAULT_ROUTE),optionsButton:a.default.createElement(h.default,{isNativeAsset:!0,onClickBlockExplorer:()=>{T({event:"Clicked Block Explorer Link",category:m.MetaMetricsEventCategory.Navigation,properties:{link_type:"Account Tracker",action:"Asset Options",block_explorer_domain:(0,p.getURLHostName)(b)}}),global.platform.openTab({url:b})},isCustomNetwork:_})}),a.default.createElement(c.EthOverview,{className:"asset__overview",showAddress:!1}),a.default.createElement(l.default,{hideTokenTransactions:!0}))}b.propTypes={nativeCurrency:r.default.string.isRequired}}}},{package:"$root$",file:"ui/pages/asset/components/native-asset.js"}],[5237,{"../../../../shared/constants/metametrics":4353,"../../../components/app/transaction-list":4691,"../../../components/app/wallet-overview":4703,"../../../contexts/metametrics":5117,"../../../helpers/constants/routes":5148,"../../../helpers/utils/util":5185,"../../../selectors/selectors":5755,"../../../store/actions":5759,"./asset-navigation":5234,"./asset-options":5235,"@metamask/etherscan-link":1285,"prop-types":3794,react:4037,"react-redux":4002,"react-router-dom":4022},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=T;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=v(e("prop-types")),o=e("react-redux"),s=e("react-router-dom"),i=e("@metamask/etherscan-link"),l=v(e("../../../components/app/transaction-list")),c=e("../../../components/app/wallet-overview"),u=e("../../../selectors/selectors"),d=e("../../../helpers/constants/routes"),p=e("../../../helpers/utils/util"),f=e("../../../store/actions"),m=e("../../../contexts/metametrics"),g=e("../../../../shared/constants/metametrics"),h=v(e("./asset-navigation")),y=v(e("./asset-options"));function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function T({token:e}){const t=(0,o.useDispatch)(),n=(0,o.useSelector)(u.getCurrentChainId),r=(0,o.useSelector)(u.getRpcPrefsForCurrentProvider),v=(0,o.useSelector)(u.getSelectedInternalAccount),b=v.metadata.name,T=v.address,_=(0,s.useHistory)(),x=(0,i.getTokenTrackerLink)(e.address,n,null,T,r),E=(0,a.useContext)(m.MetaMetricsContext),M=(0,o.useSelector)(u.getIsCustomNetwork);return a.default.createElement(a.default.Fragment,null,a.default.createElement(h.default,{accountName:b,assetName:e.symbol,onBack:()=>_.push(d.DEFAULT_ROUTE),optionsButton:a.default.createElement(y.default,{onRemove:()=>t((0,f.showModal)({name:"HIDE_TOKEN_CONFIRMATION",token:e,history:_})),isCustomNetwork:M,onClickBlockExplorer:()=>{E({event:"Clicked Block Explorer Link",category:g.MetaMetricsEventCategory.Navigation,properties:{link_type:"Token Tracker",action:"Token Options",block_explorer_domain:(0,p.getURLHostName)(x)}}),global.platform.openTab({url:x})},onViewTokenDetails:()=>{_.push(`${d.TOKEN_DETAILS}/${e.address}`)},tokenSymbol:e.symbol})}),a.default.createElement(c.TokenOverview,{className:"asset__overview",token:e}),a.default.createElement(l.default,{tokenAddress:e.address}))}T.propTypes={token:r.default.shape({address:r.default.string.isRequired,decimals:r.default.number,symbol:r.default.string}).isRequired}}}},{package:"$root$",file:"ui/pages/asset/components/token-asset.js"}],[5238,{"./asset":5232},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./asset"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/asset/index.js"}],[5239,{"../../../shared/constants/metametrics":4353,"../../../shared/constants/network":4355,"../../../shared/constants/transaction":4368,"../../components/app/network-account-balance-header/network-account-balance-header":4537,"../../components/app/nft-default-image/nft-default-image":4540,"../../components/component-library":4775,"../../components/ui/page-container":5064,"../../components/ui/site-origin/site-origin":5083,"../../contexts/i18n":5116,"../../contexts/metametrics":5117,"../../ducks/history/history":5132,"../../helpers/constants/common":5141,"../../helpers/constants/design-system":5143,"../../helpers/utils/util":5185,"../../hooks/useCurrencyDisplay":5197,"../../hooks/useOriginMetadata":5212,"../../hooks/useUserPreferencedCurrency":5230,"../../selectors":5751,"../../store/actions":5759,"@metamask/etherscan-link":1285,classnames:2816,"eth-rpc-errors":3026,react:4037,"react-redux":4002,"react-router-dom":4022},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("eth-rpc-errors"),i=e("@metamask/etherscan-link"),l=A(e("classnames")),c=e("../../components/ui/page-container"),u=e("../../contexts/i18n"),d=e("../../contexts/metametrics"),p=e("../../ducks/history/history"),f=e("../../store/actions"),m=e("../../../shared/constants/metametrics"),g=e("../../../shared/constants/transaction"),h=e("../../components/component-library"),y=e("../../selectors"),v=A(e("../../components/app/nft-default-image/nft-default-image")),b=e("../../helpers/utils/util"),T=e("../../helpers/constants/design-system"),_=A(e("../../components/app/network-account-balance-header/network-account-balance-header")),x=e("../../../shared/constants/network"),E=A(e("../../components/ui/site-origin/site-origin")),M=e("../../helpers/constants/common"),k=e("../../hooks/useUserPreferencedCurrency"),C=e("../../hooks/useCurrencyDisplay"),w=e("../../hooks/useOriginMetadata");function A(e){return e&&e.__esModule?e:{default:e}}function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}n.default=()=>{var e;const t=(0,a.useContext)(u.I18nContext),n=(0,r.useDispatch)(),A=(0,o.useHistory)(),S=(0,r.useSelector)(p.getMostRecentOverviewPage),P=(0,r.useSelector)(y.getSuggestedNfts).sort(((e,t)=>e.requestData.asset.tokenId-t.requestData.asset.tokenId)),O=(0,r.useSelector)(y.getRpcPrefsForCurrentProvider),L=(0,r.useSelector)(y.getCurrentChainId),D=(0,r.useSelector)(y.getIpfsGateway),j=(0,a.useContext)(d.MetaMetricsContext),I=(0,r.useSelector)(y.getNetworkIdentifier),{address:F}=(0,r.useSelector)(y.getSelectedInternalAccount),N=(0,r.useSelector)(y.getSelectedAccountCachedBalance),R=(0,r.useSelector)((e=>(0,y.getAddressBookEntryOrAccountName)(e,F))),G=x.NETWORK_TO_NAME_MAP[L]||I,{currency:J,numberOfDecimals:B}=(0,k.useUserPreferencedCurrency)(M.PRIMARY,{ethNumberOfDecimals:4}),[H]=(0,C.useCurrencyDisplay)(N,{numberOfDecimals:B,currency:J}),X=(0,w.useOriginMetadata)(null===(e=P[0])||void 0===e?void 0:e.origin)||{},U=(0,a.useCallback)((async()=>{await Promise.all(P.map((async({requestData:{asset:e},id:t})=>{await n((0,f.resolvePendingApproval)(t,null)),j({event:m.MetaMetricsEventName.NftAdded,category:m.MetaMetricsEventCategory.Wallet,sensitiveProperties:{token_contract_address:e.address,token_symbol:e.symbol,token_id:e.tokenId,token_standard:e.standard,asset_type:g.AssetType.NFT,source:m.MetaMetricsTokenEventSource.Dapp}})}))),A.push(S)}),[n,A,j,S,P]),W=(0,a.useCallback)((async()=>{await Promise.all(P.map((async({id:e})=>n((0,f.rejectPendingApproval)(e,(0,s.serializeError)(s.ethErrors.provider.userRejectedRequest())))))),A.push(S)}),[n,A,S,P]);let $,q;if((0,a.useEffect)((()=>{P.length||A.push(S)}),[A,S,P]),P.length)try{const e=new URL(P[0].origin);$=e.host,q=e.href}catch{$="dapp"}return a.default.createElement(h.Box,{height:T.BlockSize.Full,width:T.BlockSize.Full,display:T.Display.Flex,flexDirection:T.FlexDirection.Column},a.default.createElement(h.Box,{paddingBottom:2,className:"confirm-add-suggested-nft__header"},a.default.createElement(_.default,{accountName:R,accountBalance:H,accountAddress:F,networkName:G,chainId:L}),a.default.createElement(h.Box,{paddingTop:4,paddingRight:4,paddingLeft:4,display:T.Display.Flex,justifyContent:T.JustifyContent.center},a.default.createElement(E.default,{chip:!0,siteOrigin:X.origin,title:X.origin,iconSrc:X.iconUrl,iconName:X.hostname})),a.default.createElement(h.Text,{variant:T.TextVariant.headingLg,textAlign:T.TextAlign.Center,margin:2},t("addSuggestedNFTs")),a.default.createElement(h.Text,{variant:T.TextVariant.bodyMd,textAlign:T.TextAlign.Center},t("wantsToAddThisAsset",["dapp"===$?a.default.createElement(h.Text,{key:$,variant:T.TextVariant.bodyMd,fontWeight:"bold"},$):a.default.createElement(h.ButtonLink,{key:$,size:h.BUTTON_SIZES.INHERIT,href:q,target:"_blank"},$)]))),a.default.createElement(h.Box,{className:"confirm-add-suggested-nft__content"},a.default.createElement(h.Box,{className:"confirm-add-suggested-nft__card",padding:2,borderRadius:T.BorderRadius.MD},a.default.createElement(h.Box,{className:(0,l.default)({"confirm-add-suggested-nft__nft-list":P.length>1})},P.map((({id:e,requestData:{asset:{address:t,tokenId:r,symbol:o,image:l,name:c}}})=>{const u=(0,b.getAssetImageURL)(l,D),d=(0,i.getTokenTrackerLink)(t,L,null,null,{blockExplorerUrl:(null==O?void 0:O.blockExplorerUrl)??null});return 1===P.length?a.default.createElement(h.Box,{className:"confirm-add-suggested-nft__nft-single",key:`confirm-add-suggested-nft__nft-single-${e}`,borderRadius:T.BorderRadius.MD,margin:0,padding:0},u?a.default.createElement("img",{className:"confirm-add-suggested-nft__nft-single-image",src:u,alt:c||r}):a.default.createElement(v.default,{className:"confirm-add-suggested-nft__nft-single-image-default",tokenId:r,name:c||o||(0,b.shortenAddress)(t)}),a.default.createElement(h.Box,{padding:1,display:T.Display.Flex,flexDirection:T.FlexDirection.Row,justifyContent:T.JustifyContent.spaceBetween,alignItems:T.AlignItems.Center},a.default.createElement(h.Box,{display:T.Display.Flex,flexDirection:T.FlexDirection.Column,justifyContent:T.JustifyContent.spaceEvenly,flexWrap:T.FlexWrap.NoWrap,width:T.BlockSize.Full,className:"confirm-add-suggested-nft__nft-single-sub-details"},O.blockExplorerUrl?a.default.createElement(h.ButtonLink,{className:"confirm-add-suggested-nft__nft-name",href:d,title:t,target:"_blank",size:h.BUTTON_SIZES.INHERIT},c||o||(0,b.shortenAddress)(t)):a.default.createElement(h.Text,{variant:T.TextVariant.bodyMd,className:"confirm-add-suggested-nft__nft-name",title:t},c||o||(0,b.shortenAddress)(t)),a.default.createElement(h.Text,{variant:T.TextVariant.bodyMd,color:T.TextColor.textAlternative,className:"confirm-add-suggested-nft__nft-tokenId"},"#",r)))):a.default.createElement(h.Box,{display:T.Display.Flex,flexDirection:T.FlexDirection.Row,flexWrap:T.FlexWrap.NoWrap,alignItems:T.AlignItems.Center,justifyContent:T.JustifyContent.spaceBetween,marginBottom:4,className:"confirm-add-suggested-nft__nft-list-item",key:`${t}-${r}`},a.default.createElement(h.Box,{display:T.Display.Flex,flexDirection:T.FlexDirection.Row,flexWrap:T.FlexWrap.NoWrap,alignItems:T.AlignItems.Center,justifyContent:T.JustifyContent.spaceBetween},u?a.default.createElement("img",{className:"confirm-add-suggested-nft__nft-image",src:u,alt:c||r}):a.default.createElement(v.default,{className:"confirm-add-suggested-nft__nft-image-default"}),a.default.createElement(h.Box,{display:T.Display.Flex,flexDirection:T.FlexDirection.Column,justifyContent:T.JustifyContent.spaceEvenly,flexWrap:T.FlexWrap.NoWrap,width:T.BlockSize.Full,className:"confirm-add-suggested-nft__nft-sub-details"},O.blockExplorerUrl?a.default.createElement(h.ButtonLink,{className:"confirm-add-suggested-nft__nft-name",href:d,title:t,target:"_blank",size:h.BUTTON_SIZES.INHERIT},c||o||(0,b.shortenAddress)(t)):a.default.createElement(h.Text,{variant:T.TextVariant.bodySm,className:"confirm-add-suggested-nft__nft-name",title:t},c||o||(0,b.shortenAddress)(t)),a.default.createElement(h.Text,{variant:T.TextVariant.bodySm,color:T.TextColor.textAlternative,className:"confirm-add-suggested-nft__nft-tokenId"},"#",r))),a.default.createElement(h.ButtonIcon,{className:"confirm-add-suggested-nft__nft-remove","data-testid":`confirm-add-suggested-nft__nft-remove-${e}`,iconName:h.IconName.Close,size:h.ButtonIconSize.Sm,color:T.IconColor.iconMuted,onClick:t=>{t.preventDefault(),t.stopPropagation(),n((0,f.rejectPendingApproval)(e,(0,s.serializeError)(s.ethErrors.provider.userRejectedRequest())))}}))}))))),a.default.createElement(c.PageContainerFooter,{cancelText:t("cancel"),submitText:1===P.length?t("addNft"):t("addNfts"),onCancel:W,onSubmit:U}))}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-nft/confirm-add-suggested-nft.js"}],[524,{"./wordlist":526,"@ethersproject/strings":509},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a,r=this&&this.__extends||(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.langKo=void 0;var o=e("@ethersproject/strings"),s=e("./wordlist"),i=["OYAa","ATAZoATBl3ATCTrATCl8ATDloATGg3ATHT8ATJT8ATJl3ATLlvATLn4ATMT8ATMX8ATMboATMgoAToLbAToMTATrHgATvHnAT3AnAT3JbAT3MTAT8DbAT8JTAT8LmAT8MYAT8MbAT#LnAUHT8AUHZvAUJXrAUJX8AULnrAXJnvAXLUoAXLgvAXMn6AXRg3AXrMbAX3JTAX3QbAYLn3AZLgvAZrSUAZvAcAZ8AaAZ8AbAZ8AnAZ8HnAZ8LgAZ8MYAZ8MgAZ8OnAaAboAaDTrAaFTrAaJTrAaJboAaLVoAaMXvAaOl8AaSeoAbAUoAbAg8AbAl4AbGnrAbMT8AbMXrAbMn4AbQb8AbSV8AbvRlAb8AUAb8AnAb8HgAb8JTAb8NTAb8RbAcGboAcLnvAcMT8AcMX8AcSToAcrAaAcrFnAc8AbAc8MgAfGgrAfHboAfJnvAfLV8AfLkoAfMT8AfMnoAfQb8AfScrAfSgrAgAZ8AgFl3AgGX8AgHZvAgHgrAgJXoAgJX8AgJboAgLZoAgLn4AgOX8AgoATAgoAnAgoCUAgoJgAgoLXAgoMYAgoSeAgrDUAgrJTAhrFnAhrLjAhrQgAjAgoAjJnrAkMX8AkOnoAlCTvAlCV8AlClvAlFg4AlFl6AlFn3AloSnAlrAXAlrAfAlrFUAlrFbAlrGgAlrOXAlvKnAlvMTAl3AbAl3MnAnATrAnAcrAnCZ3AnCl8AnDg8AnFboAnFl3AnHX4AnHbrAnHgrAnIl3AnJgvAnLXoAnLX4AnLbrAnLgrAnLhrAnMXoAnMgrAnOn3AnSbrAnSeoAnvLnAn3OnCTGgvCTSlvCTvAUCTvKnCTvNTCT3CZCT3GUCT3MTCT8HnCUCZrCULf8CULnvCU3HnCU3JUCY6NUCbDb8CbFZoCbLnrCboOTCboScCbrFnCbvLnCb8AgCb8HgCb$LnCkLfoClBn3CloDUDTHT8DTLl3DTSU8DTrAaDTrLXDTrLjDTrOYDTrOgDTvFXDTvFnDT3HUDT3LfDUCT9DUDT4DUFVoDUFV8DUFkoDUGgrDUJnrDULl8DUMT8DUMXrDUMX4DUMg8DUOUoDUOgvDUOg8DUSToDUSZ8DbDXoDbDgoDbGT8DbJn3DbLg3DbLn4DbMXrDbMg8DbOToDboJXGTClvGTDT8GTFZrGTLVoGTLlvGTLl3GTMg8GTOTvGTSlrGToCUGTrDgGTrJYGTrScGTtLnGTvAnGTvQgGUCZrGUDTvGUFZoGUHXrGULnvGUMT8GUoMgGXoLnGXrMXGXrMnGXvFnGYLnvGZOnvGZvOnGZ8LaGZ8LmGbAl3GbDYvGbDlrGbHX3GbJl4GbLV8GbLn3GbMn4GboJTGboRfGbvFUGb3GUGb4JnGgDX3GgFl$GgJlrGgLX6GgLZoGgLf8GgOXoGgrAgGgrJXGgrMYGgrScGgvATGgvOYGnAgoGnJgvGnLZoGnLg3GnLnrGnQn8GnSbrGnrMgHTClvHTDToHTFT3HTQT8HToJTHToJgHTrDUHTrMnHTvFYHTvRfHT8MnHT8SUHUAZ8HUBb4HUDTvHUoMYHXFl6HXJX6HXQlrHXrAUHXrMnHXrSbHXvFYHXvKXHX3LjHX3MeHYvQlHZrScHZvDbHbAcrHbFT3HbFl3HbJT8HbLTrHbMT8HbMXrHbMbrHbQb8HbSX3HboDbHboJTHbrFUHbrHgHbrJTHb8JTHb8MnHb8QgHgAlrHgDT3HgGgrHgHgrHgJTrHgJT8HgLX@HgLnrHgMT8HgMX8HgMboHgOnrHgQToHgRg3HgoHgHgrCbHgrFnHgrLVHgvAcHgvAfHnAloHnCTrHnCnvHnGTrHnGZ8HnGnvHnJT8HnLf8HnLkvHnMg8HnRTrITvFUITvFnJTAXrJTCV8JTFT3JTFT8JTFn4JTGgvJTHT8JTJT8JTJXvJTJl3JTJnvJTLX4JTLf8JTLhvJTMT8JTMXrJTMnrJTObrJTQT8JTSlvJT8DUJT8FkJT8MTJT8OXJT8OgJT8QUJT8RfJUHZoJXFT4JXFlrJXGZ8JXGnrJXLV8JXLgvJXMXoJXMX3JXNboJXPlvJXoJTJXoLkJXrAXJXrHUJXrJgJXvJTJXvOnJX4KnJYAl3JYJT8JYLhvJYQToJYrQXJY6NUJbAl3JbCZrJbDloJbGT8JbGgrJbJXvJbJboJbLf8JbLhrJbLl3JbMnvJbRg8JbSZ8JboDbJbrCZJbrSUJb3KnJb8LnJfRn8JgAXrJgCZrJgDTrJgGZrJgGZ8JgHToJgJT8JgJXoJgJgvJgLX4JgLZ3JgLZ8JgLn4JgMgrJgMn4JgOgvJgPX6JgRnvJgSToJgoCZJgoJbJgoMYJgrJXJgrJgJgrLjJg6MTJlCn3JlGgvJlJl8Jl4AnJl8FnJl8HgJnAToJnATrJnAbvJnDUoJnGnrJnJXrJnJXvJnLhvJnLnrJnLnvJnMToJnMT8JnMXvJnMX3JnMg8JnMlrJnMn4JnOX8JnST4JnSX3JnoAgJnoAnJnoJTJnoObJnrAbJnrAkJnrHnJnrJTJnrJYJnrOYJnrScJnvCUJnvFaJnvJgJnvJnJnvOYJnvQUJnvRUJn3FnJn3JTKnFl3KnLT6LTDlvLTMnoLTOn3LTRl3LTSb4LTSlrLToAnLToJgLTrAULTrAcLTrCULTrHgLTrMgLT3JnLULnrLUMX8LUoJgLVATrLVDTrLVLb8LVoJgLV8MgLV8RTLXDg3LXFlrLXrCnLXrLXLX3GTLX4GgLX4OYLZAXrLZAcrLZAgrLZAhrLZDXyLZDlrLZFbrLZFl3LZJX6LZJX8LZLc8LZLnrLZSU8LZoJTLZoJnLZrAgLZrAnLZrJYLZrLULZrMgLZrSkLZvAnLZvGULZvJeLZvOTLZ3FZLZ4JXLZ8STLZ8ScLaAT3LaAl3LaHT8LaJTrLaJT8LaJXrLaJgvLaJl4LaLVoLaMXrLaMXvLaMX8LbClvLbFToLbHlrLbJn4LbLZ3LbLhvLbMXrLbMnoLbvSULcLnrLc8HnLc8MTLdrMnLeAgoLeOgvLeOn3LfAl3LfLnvLfMl3LfOX8Lf8AnLf8JXLf8LXLgJTrLgJXrLgJl8LgMX8LgRZrLhCToLhrAbLhrFULhrJXLhvJYLjHTrLjHX4LjJX8LjLhrLjSX3LjSZ4LkFX4LkGZ8LkGgvLkJTrLkMXoLkSToLkSU8LkSZ8LkoOYLl3FfLl3MgLmAZrLmCbrLmGgrLmHboLmJnoLmJn3LmLfoLmLhrLmSToLnAX6LnAb6LnCZ3LnCb3LnDTvLnDb8LnFl3LnGnrLnHZvLnHgvLnITvLnJT8LnJX8LnJlvLnLf8LnLg6LnLhvLnLnoLnMXrLnMg8LnQlvLnSbrLnrAgLnrAnLnrDbLnrFkLnrJdLnrMULnrOYLnrSTLnvAnLnvDULnvHgLnvOYLnvOnLn3GgLn4DULn4JTLn4JnMTAZoMTAloMTDb8MTFT8MTJnoMTJnrMTLZrMTLhrMTLkvMTMX8MTRTrMToATMTrDnMTrOnMT3JnMT4MnMT8FUMT8FaMT8FlMT8GTMT8GbMT8GnMT8HnMT8JTMT8JbMT8OTMUCl8MUJTrMUJU8MUMX8MURTrMUSToMXAX6MXAb6MXCZoMXFXrMXHXrMXLgvMXOgoMXrAUMXrAnMXrHgMXrJYMXrJnMXrMTMXrMgMXrOYMXrSZMXrSgMXvDUMXvOTMX3JgMX3OTMX4JnMX8DbMX8FnMX8HbMX8HgMX8HnMX8LbMX8MnMX8OnMYAb8MYGboMYHTvMYHX4MYLTrMYLnvMYMToMYOgvMYRg3MYSTrMbAToMbAXrMbAl3MbAn8MbGZ8MbJT8MbJXrMbMXvMbMX8MbMnoMbrMUMb8AfMb8FbMb8FkMcJXoMeLnrMgFl3MgGTvMgGXoMgGgrMgGnrMgHT8MgHZrMgJnoMgLnrMgLnvMgMT8MgQUoMgrHnMgvAnMg8HgMg8JYMg8LfMloJnMl8ATMl8AXMl8JYMnAToMnAT4MnAZ8MnAl3MnAl4MnCl8MnHT8MnHg8MnJnoMnLZoMnLhrMnMXoMnMX3MnMnrMnOgvMnrFbMnrFfMnrFnMnrNTMnvJXNTMl8OTCT3OTFV8OTFn3OTHZvOTJXrOTOl3OT3ATOT3JUOT3LZOT3LeOT3MbOT8ATOT8AbOT8AgOT8MbOUCXvOUMX3OXHXvOXLl3OXrMUOXvDbOX6NUOX8JbOYFZoOYLbrOYLkoOYMg8OYSX3ObHTrObHT4ObJgrObLhrObMX3ObOX8Ob8FnOeAlrOeJT8OeJXrOeJnrOeLToOeMb8OgJXoOgLXoOgMnrOgOXrOgOloOgoAgOgoJbOgoMYOgoSTOg8AbOjLX4OjMnoOjSV8OnLVoOnrAgOn3DUPXQlrPXvFXPbvFTPdAT3PlFn3PnvFbQTLn4QToAgQToMTQULV8QURg8QUoJnQXCXvQbFbrQb8AaQb8AcQb8FbQb8MYQb8ScQeAlrQeLhrQjAn3QlFXoQloJgQloSnRTLnvRTrGURTrJTRUJZrRUoJlRUrQnRZrLmRZrMnRZrSnRZ8ATRZ8JbRZ8ScRbMT8RbST3RfGZrRfMX8RfMgrRfSZrRnAbrRnGT8RnvJgRnvLfRnvMTRn8AaSTClvSTJgrSTOXrSTRg3STRnvSToAcSToAfSToAnSToHnSToLjSToMTSTrAaSTrEUST3BYST8AgST8LmSUAZvSUAgrSUDT4SUDT8SUGgvSUJXoSUJXvSULTrSU8JTSU8LjSV8AnSV8JgSXFToSXLf8SYvAnSZrDUSZrMUSZrMnSZ8HgSZ8JTSZ8JgSZ8MYSZ8QUSaQUoSbCT3SbHToSbQYvSbSl4SboJnSbvFbSb8HbSb8JgSb8OTScGZrScHgrScJTvScMT8ScSToScoHbScrMTScvAnSeAZrSeAcrSeHboSeJUoSeLhrSeMT8SeMXrSe6JgSgHTrSkJnoSkLnvSk8CUSlFl3SlrSnSl8GnSmAboSmGT8SmJU8","ATLnDlATrAZoATrJX4ATrMT8ATrMX4ATrRTrATvDl8ATvJUoATvMl8AT3AToAT3MX8AT8CT3AT8DT8AT8HZrAT8HgoAUAgFnAUCTFnAXoMX8AXrAT8AXrGgvAXrJXvAXrOgoAXvLl3AZvAgoAZvFbrAZvJXoAZvJl8AZvJn3AZvMX8AZvSbrAZ8FZoAZ8LZ8AZ8MU8AZ8OTvAZ8SV8AZ8SX3AbAgFZAboJnoAbvGboAb8ATrAb8AZoAb8AgrAb8Al4Ab8Db8Ab8JnoAb8LX4Ab8LZrAb8LhrAb8MT8Ab8OUoAb8Qb8Ab8ST8AcrAUoAcrAc8AcrCZ3AcrFT3AcrFZrAcrJl4AcrJn3AcrMX3AcrOTvAc8AZ8Ac8MT8AfAcJXAgoFn4AgoGgvAgoGnrAgoLc8AgoMXoAgrLnrAkrSZ8AlFXCTAloHboAlrHbrAlrLhrAlrLkoAl3CZrAl3LUoAl3LZrAnrAl4AnrMT8An3HT4BT3IToBX4MnvBb!Ln$CTGXMnCToLZ4CTrHT8CT3JTrCT3RZrCT#GTvCU6GgvCU8Db8CU8GZrCU8HT8CboLl3CbrGgrCbrMU8Cb8DT3Cb8GnrCb8LX4Cb8MT8Cb8ObrCgrGgvCgrKX4Cl8FZoDTrAbvDTrDboDTrGT6DTrJgrDTrMX3DTrRZrDTrRg8DTvAVvDTvFZoDT3DT8DT3Ln3DT4HZrDT4MT8DT8AlrDT8MT8DUAkGbDUDbJnDYLnQlDbDUOYDbMTAnDbMXSnDboAT3DboFn4DboLnvDj6JTrGTCgFTGTGgFnGTJTMnGTLnPlGToJT8GTrCT3GTrLVoGTrLnvGTrMX3GTrMboGTvKl3GZClFnGZrDT3GZ8DTrGZ8FZ8GZ8MXvGZ8On8GZ8ST3GbCnQXGbMbFnGboFboGboJg3GboMXoGb3JTvGb3JboGb3Mn6Gb3Qb8GgDXLjGgMnAUGgrDloGgrHX4GgrSToGgvAXrGgvAZvGgvFbrGgvLl3GgvMnvGnDnLXGnrATrGnrMboGnuLl3HTATMnHTAgCnHTCTCTHTrGTvHTrHTvHTrJX8HTrLl8HTrMT8HTrMgoHTrOTrHTuOn3HTvAZrHTvDTvHTvGboHTvJU8HTvLl3HTvMXrHTvQb4HT4GT6HT4JT8HT4Jb#HT8Al3HT8GZrHT8GgrHT8HX4HT8Jb8HT8JnoHT8LTrHT8LgvHT8SToHT8SV8HUoJUoHUoJX8HUoLnrHXrLZoHXvAl3HX3LnrHX4FkvHX4LhrHX4MXoHX4OnoHZrAZ8HZrDb8HZrGZ8HZrJnrHZvGZ8HZvLnvHZ8JnvHZ8LhrHbCXJlHbMTAnHboJl4HbpLl3HbrJX8HbrLnrHbrMnvHbvRYrHgoSTrHgrFV8HgrGZ8HgrJXoHgrRnvHgvBb!HgvGTrHgvHX4HgvHn!HgvLTrHgvSU8HnDnLbHnFbJbHnvDn8Hn6GgvHn!BTvJTCTLnJTQgFnJTrAnvJTrLX4JTrOUoJTvFn3JTvLnrJTvNToJT3AgoJT3Jn4JT3LhvJT3ObrJT8AcrJT8Al3JT8JT8JT8JnoJT8LX4JT8LnrJT8MX3JT8Rg3JT8Sc8JUoBTvJU8AToJU8GZ8JU8GgvJU8JTrJU8JXrJU8JnrJU8LnvJU8ScvJXHnJlJXrGgvJXrJU8JXrLhrJXrMT8JXrMXrJXrQUoJXvCTvJXvGZ8JXvGgrJXvQT8JX8Ab8JX8DT8JX8GZ8JX8HZvJX8LnrJX8MT8JX8MXoJX8MnvJX8ST3JYGnCTJbAkGbJbCTAnJbLTAcJboDT3JboLb6JbrAnvJbrCn3JbrDl8JbrGboJbrIZoJbrJnvJbrMnvJbrQb4Jb8RZrJeAbAnJgJnFbJgScAnJgrATrJgvHZ8JgvMn4JlJlFbJlLiQXJlLjOnJlRbOlJlvNXoJlvRl3Jl4AcrJl8AUoJl8MnrJnFnMlJnHgGbJnoDT8JnoFV8JnoGgvJnoIT8JnoQToJnoRg3JnrCZ3JnrGgrJnrHTvJnrLf8JnrOX8JnvAT3JnvFZoJnvGT8JnvJl4JnvMT8JnvMX8JnvOXrJnvPX6JnvSX3JnvSZrJn3MT8Jn3MX8Jn3RTrLTATKnLTJnLTLTMXKnLTRTQlLToGb8LTrAZ8LTrCZ8LTrDb8LTrHT8LT3PX6LT4FZoLT$CTvLT$GgrLUvHX3LVoATrLVoAgoLVoJboLVoMX3LVoRg3LV8CZ3LV8FZoLV8GTvLXrDXoLXrFbrLXvAgvLXvFlrLXvLl3LXvRn6LX4Mb8LX8GT8LYCXMnLYrMnrLZoSTvLZrAZvLZrAloLZrFToLZrJXvLZrJboLZrJl4LZrLnrLZrMT8LZrOgvLZrRnvLZrST4LZvMX8LZvSlvLZ8AgoLZ8CT3LZ8JT8LZ8LV8LZ8LZoLZ8Lg8LZ8SV8LZ8SbrLZ$HT8LZ$Mn4La6CTvLbFbMnLbRYFTLbSnFZLboJT8LbrAT9LbrGb3LbrQb8LcrJX8LcrMXrLerHTvLerJbrLerNboLgrDb8LgrGZ8LgrHTrLgrMXrLgrSU8LgvJTrLgvLl3Lg6Ll3LhrLnrLhrMT8LhvAl4LiLnQXLkoAgrLkoJT8LkoJn4LlrSU8Ll3FZoLl3HTrLl3JX8Ll3JnoLl3LToLmLeFbLnDUFbLnLVAnLnrATrLnrAZoLnrAb8LnrAlrLnrGgvLnrJU8LnrLZrLnrLhrLnrMb8LnrOXrLnrSZ8LnvAb4LnvDTrLnvDl8LnvHTrLnvHbrLnvJT8LnvJU8LnvJbrLnvLhvLnvMX8LnvMb8LnvNnoLnvSU8Ln3Al3Ln4FZoLn4GT6Ln4JgvLn4LhrLn4MT8Ln4SToMToCZrMToJX8MToLX4MToLf8MToRg3MTrEloMTvGb6MT3BTrMT3Lb6MT8AcrMT8AgrMT8GZrMT8JnoMT8LnrMT8MX3MUOUAnMXAbFnMXoAloMXoJX8MXoLf8MXoLl8MXrAb8MXrDTvMXrGT8MXrGgrMXrHTrMXrLf8MXrMU8MXrOXvMXrQb8MXvGT8MXvHTrMXvLVoMX3AX3MX3Jn3MX3LhrMX3MX3MX4AlrMX4OboMX8GTvMX8GZrMX8GgrMX8JT8MX8JX8MX8LhrMX8MT8MYDUFbMYMgDbMbGnFfMbvLX4MbvLl3Mb8Mb8Mb8ST4MgGXCnMg8ATrMg8AgoMg8CZrMg8DTrMg8DboMg8HTrMg8JgrMg8LT8MloJXoMl8AhrMl8JT8MnLgAUMnoJXrMnoLX4MnoLhrMnoMT8MnrAl4MnrDb8MnrOTvMnrOgvMnrQb8MnrSU8MnvGgrMnvHZ8Mn3MToMn4DTrMn4LTrMn4Mg8NnBXAnOTFTFnOToAToOTrGgvOTrJX8OT3JXoOT6MTrOT8GgrOT8HTpOT8MToOUoHT8OUoJT8OUoLn3OXrAgoOXrDg8OXrMT8OXvSToOX6CTvOX8CZrOX8OgrOb6HgvOb8AToOb8MT8OcvLZ8OgvAlrOgvHTvOgvJTrOgvJnrOgvLZrOgvLn4OgvMT8OgvRTrOg8AZoOg8DbvOnrOXoOnvJn4OnvLhvOnvRTrOn3GgoOn3JnvOn6JbvOn8OTrPTGYFTPbBnFnPbGnDnPgDYQTPlrAnvPlrETvPlrLnvPlrMXvPlvFX4QTMTAnQTrJU8QYCnJlQYJlQlQbGTQbQb8JnrQb8LZoQb8LnvQb8MT8Qb8Ml8Qb8ST4QloAl4QloHZvQloJX8QloMn8QnJZOlRTrAZvRTrDTrRTvJn4RTvLhvRT4Jb8RZrAZrRZ8AkrRZ8JU8RZ8LV8RZ8LnvRbJlQXRg3GboRg3MnvRg8AZ8Rg8JboRg8Jl4RnLTCbRnvFl3RnvQb8SToAl4SToCZrSToFZoSToHXrSToJU8SToJgvSToJl4SToLhrSToMX3STrAlvSTrCT9STrCgrSTrGgrSTrHXrSTrHboSTrJnoSTrNboSTvLnrST4AZoST8Ab8ST8JT8SUoJn3SU6HZ#SU6JTvSU8Db8SU8HboSU8LgrSV8JT8SZrAcrSZrAl3SZrJT8SZrJnvSZrMT8SZvLUoSZ4FZoSZ8JnoSZ8RZrScoLnrScoMT8ScoMX8ScrAT4ScrAZ8ScrLZ8ScrLkvScvDb8ScvLf8ScvNToSgrFZrShvKnrSloHUoSloLnrSlrMXoSl8HgrSmrJUoSn3BX6","ATFlOn3ATLgrDYAT4MTAnAT8LTMnAYJnRTrAbGgJnrAbLV8LnAbvNTAnAeFbLg3AgOYMXoAlQbFboAnDboAfAnJgoJTBToDgAnBUJbAl3BboDUAnCTDlvLnCTFTrSnCYoQTLnDTwAbAnDUDTrSnDUHgHgrDX8LXFnDbJXAcrETvLTLnGTFTQbrGTMnGToGT3DUFbGUJlPX3GbQg8LnGboJbFnGb3GgAYGgAg8ScGgMbAXrGgvAbAnGnJTLnvGnvATFgHTDT6ATHTrDlJnHYLnMn8HZrSbJTHZ8LTFnHbFTJUoHgSeMT8HgrLjAnHgvAbAnHlFUrDlHnDgvAnHnHTFT3HnQTGnrJTAaMXvJTGbCn3JTOgrAnJXvAXMnJbMg8SnJbMnRg3Jb8LTMnJnAl3OnJnGYrQlJnJlQY3LTDlCn3LTJjLg3LTLgvFXLTMg3GTLV8HUOgLXFZLg3LXNXrMnLX8QXFnLX9AlMYLYLXPXrLZAbJU8LZDUJU8LZMXrSnLZ$AgFnLaPXrDULbFYrMnLbMn8LXLboJgJgLeFbLg3LgLZrSnLgOYAgoLhrRnJlLkCTrSnLkOnLhrLnFX%AYLnFZoJXLnHTvJbLnLloAbMTATLf8MTHgJn3MTMXrAXMT3MTFnMUITvFnMXFX%AYMXMXvFbMXrFTDbMYAcMX3MbLf8SnMb8JbFnMgMXrMTMgvAXFnMgvGgCmMnAloSnMnFnJTrOXvMXSnOX8HTMnObJT8ScObLZFl3ObMXCZoPTLgrQXPUFnoQXPU3RXJlPX3RkQXPbrJXQlPlrJbFnQUAhrDbQXGnCXvQYLnHlvQbLfLnvRTOgvJbRXJYrQlRYLnrQlRbLnrQlRlFT8JlRlFnrQXSTClCn3STHTrAnSTLZQlrSTMnGTrSToHgGbSTrGTDnSTvGXCnST3HgFbSU3HXAXSbAnJn3SbFT8LnScLfLnv","AT3JgJX8AT8FZoSnAT8JgFV8AT8LhrDbAZ8JT8DbAb8GgLhrAb8SkLnvAe8MT8SnAlMYJXLVAl3GYDTvAl3LfLnvBUDTvLl3CTOn3HTrCT3DUGgrCU8MT8AbCbFTrJUoCgrDb8MTDTLV8JX8DTLnLXQlDT8LZrSnDUQb8FZ8DUST4JnvDb8ScOUoDj6GbJl4GTLfCYMlGToAXvFnGboAXvLnGgAcrJn3GgvFnSToGnLf8JnvGn#HTDToHTLnFXJlHTvATFToHTvHTDToHTvMTAgoHT3STClvHT4AlFl6HT8HTDToHUoDgJTrHUoScMX3HbRZrMXoHboJg8LTHgDb8JTrHgMToLf8HgvLnLnoHnHn3HT4Hn6MgvAnJTJU8ScvJT3AaQT8JT8HTrAnJXrRg8AnJbAloMXoJbrATFToJbvMnoSnJgDb6GgvJgDb8MXoJgSX3JU8JguATFToJlPYLnQlJlQkDnLbJlQlFYJlJl8Lf8OTJnCTFnLbJnLTHXMnJnLXGXCnJnoFfRg3JnrMYRg3Jn3HgFl3KT8Dg8LnLTRlFnPTLTvPbLbvLVoSbrCZLXMY6HT3LXNU7DlrLXNXDTATLX8DX8LnLZDb8JU8LZMnoLhrLZSToJU8LZrLaLnrLZvJn3SnLZ8LhrSnLaJnoMT8LbFlrHTvLbrFTLnrLbvATLlvLb6OTFn3LcLnJZOlLeAT6Mn4LeJT3ObrLg6LXFlrLhrJg8LnLhvDlPX4LhvLfLnvLj6JTFT3LnFbrMXoLnQluCTvLnrQXCY6LnvLfLnvLnvMgLnvLnvSeLf8MTMbrJn3MT3JgST3MT8AnATrMT8LULnrMUMToCZrMUScvLf8MXoDT8SnMX6ATFToMX8AXMT8MX8FkMT8MX8HTrDUMX8ScoSnMYJT6CTvMgAcrMXoMg8SToAfMlvAXLg3MnFl3AnvOT3AnFl3OUoATHT8OU3RnLXrOXrOXrSnObPbvFn6Og8HgrSnOg8OX8DbPTvAgoJgPU3RYLnrPXrDnJZrPb8CTGgvPlrLTDlvPlvFUJnoQUvFXrQlQeMnoAl3QlrQlrSnRTFTrJUoSTDlLiLXSTFg6HT3STJgoMn4STrFTJTrSTrLZFl3ST4FnMXoSUrDlHUoScvHTvSnSfLkvMXo","AUoAcrMXoAZ8HboAg8AbOg6ATFgAg8AloMXoAl3AT8JTrAl8MX8MXoCT3SToJU8Cl8Db8MXoDT8HgrATrDboOT8MXoGTOTrATMnGT8LhrAZ8GnvFnGnQXHToGgvAcrHTvAXvLl3HbrAZoMXoHgBlFXLg3HgMnFXrSnHgrSb8JUoHn6HT8LgvITvATrJUoJUoLZrRnvJU8HT8Jb8JXvFX8QT8JXvLToJTrJYrQnGnQXJgrJnoATrJnoJU8ScvJnvMnvMXoLTCTLgrJXLTJlRTvQlLbRnJlQYvLbrMb8LnvLbvFn3RnoLdCVSTGZrLeSTvGXCnLg3MnoLn3MToLlrETvMT8SToAl3MbrDU6GTvMb8LX4LhrPlrLXGXCnSToLf8Rg3STrDb8LTrSTvLTHXMnSb3RYLnMnSgOg6ATFg","HUDlGnrQXrJTrHgLnrAcJYMb8DULc8LTvFgGnCk3Mg8JbAnLX4QYvFYHnMXrRUoJnGnvFnRlvFTJlQnoSTrBXHXrLYSUJgLfoMT8Se8DTrHbDb","AbDl8SToJU8An3RbAb8ST8DUSTrGnrAgoLbFU6Db8LTrMg8AaHT8Jb8ObDl8SToJU8Pb3RlvFYoJl"];var l=null;function c(e){if(null==l&&(l=[],i.forEach((function(e,t){t+=4;for(var n=0;n<e.length;n+=t){for(var a="",r=0;r<t;r++)a+=((s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*".indexOf(e[n+r]))>=40?s=s+168-40:s>=19&&(s=s+97-19),(0,o.toUtf8String)([225,132+(s>>6),128+(63&s)]));l.push(a)}var s})),l.sort(),"0xf9eddeace9c5d3da9c93cf7d3cd38f6a13ed3affb933259ae865714e8a3ae71a"!==s.Wordlist.check(e)))throw l=null,new Error("BIP39 Wordlist for ko (Korean) FAILED")}var u=new(function(e){function t(){return e.call(this,"ko")||this}return r(t,e),t.prototype.getWord=function(e){return c(this),l[e]},t.prototype.getWordIndex=function(e){return c(this),l.indexOf(e)},t}(s.Wordlist));n.langKo=u,s.Wordlist.register(u)}}},{package:"@ethersproject/hdnode>@ethersproject/wordlists",file:"node_modules/@ethersproject/wordlists/lib/lang-ko.js"}],[5240,{"./confirm-add-suggested-nft":5239},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-add-suggested-nft"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-nft/index.js"}],[5241,{"../../../shared/constants/metametrics":4353,"../../../shared/constants/transaction":4368,"../../../shared/modules/string-utils":4403,"../../components/component-library":4775,"../../components/ui/identicon":5036,"../../components/ui/page-container":5064,"../../components/ui/token-balance":5098,"../../contexts/i18n":5116,"../../contexts/metametrics":5117,"../../ducks/history/history":5132,"../../ducks/metamask/metamask":5135,"../../helpers/constants/design-system":5143,"../../helpers/constants/zendesk-url":5155,"../../selectors":5751,"../../store/actions":5759,"eth-rpc-errors":3026,react:4037,"react-redux":4002,"react-router-dom":4022},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("eth-rpc-errors"),i=e("../../components/component-library"),l=x(e("../../components/ui/identicon")),c=x(e("../../components/ui/token-balance")),u=e("../../components/ui/page-container"),d=e("../../contexts/i18n"),p=e("../../contexts/metametrics"),f=e("../../ducks/history/history"),m=e("../../ducks/metamask/metamask"),g=x(e("../../helpers/constants/zendesk-url")),h=e("../../../shared/modules/string-utils"),y=e("../../store/actions"),v=e("../../../shared/constants/metametrics"),b=e("../../../shared/constants/transaction"),T=e("../../selectors"),_=e("../../helpers/constants/design-system");function x(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,a.useContext)(d.I18nContext),t=(0,r.useDispatch)(),n=(0,o.useHistory)(),x=(0,r.useSelector)(f.getMostRecentOverviewPage),E=(0,r.useSelector)(T.getSuggestedTokens),M=(0,r.useSelector)(m.getTokens),k=(0,a.useContext)(p.MetaMetricsContext),C=(0,a.useMemo)((()=>function(e,t){const n=e.find((({requestData:{asset:e}})=>{const n=t.find((({address:t})=>(0,h.isEqualCaseInsensitive)(t,null==e?void 0:e.address)));return Boolean(n)}));return Boolean(n)}(E,M)&&a.default.createElement(i.BannerAlert,{severity:_.Severity.Warning,marginTop:4},e("knownTokenWarning",[a.default.createElement(i.Button,{variant:i.ButtonVariant.Link,key:"confirm-add-suggested-token-duplicate-warning",className:"confirm-add-suggested-token__link",externalLink:!0,size:i.ButtonLinkSize.Inherit,href:g.default.TOKEN_SAFETY_PRACTICES},e("learnScamRisk"))]))),[E,M,e]),w=(0,a.useMemo)((()=>function(e,t){const n=e.find((({requestData:{asset:e}})=>{const n=t.find((t=>(0,h.isEqualCaseInsensitive)(t.symbol,null==e?void 0:e.symbol)&&!(0,h.isEqualCaseInsensitive)(t.address,null==e?void 0:e.address)));return Boolean(n)}));return Boolean(n)}(E,M)&&a.default.createElement(i.BannerAlert,{marginTop:4,severity:_.Severity.Warning,description:e("reusedTokenNameWarning")})),[E,M,e]),A=(0,a.useCallback)((async()=>{await Promise.all(E.map((async({requestData:{asset:e},id:n})=>{await t((0,y.resolvePendingApproval)(n,null)),k({event:v.MetaMetricsEventName.TokenAdded,category:v.MetaMetricsEventCategory.Wallet,sensitiveProperties:{token_symbol:e.symbol,token_contract_address:e.address,token_decimal_precision:e.decimals,unlisted:e.unlisted,source:v.MetaMetricsTokenEventSource.Dapp,token_standard:b.TokenStandard.ERC20,asset_type:b.AssetType.token}})}))),n.push(x)}),[t,n,k,x,E]),S=(0,a.useCallback)((async()=>{await Promise.all(E.map((({id:e})=>t((0,y.rejectPendingApproval)(e,(0,s.serializeError)(s.ethErrors.provider.userRejectedRequest())))))),n.push(x)}),[t,n,x,E]);return(0,a.useEffect)((()=>{E.length||n.push(x)}),[]),a.default.createElement("div",{className:"page-container"},a.default.createElement("div",{className:"page-container__header"},a.default.createElement("div",{className:"page-container__title"},e("addSuggestedTokens")),a.default.createElement("div",{className:"page-container__subtitle"},e("likeToImportTokens")),C,w),a.default.createElement("div",{className:"page-container__content"},a.default.createElement("div",{className:"confirm-add-suggested-token"},a.default.createElement("div",{className:"confirm-add-suggested-token__header"},a.default.createElement("div",{className:"confirm-add-suggested-token__token"},e("token")),a.default.createElement("div",{className:"confirm-add-suggested-token__balance"},e("balance"))),a.default.createElement("div",{className:"confirm-add-suggested-token__token-list"},E.map((({requestData:{asset:e}})=>{return a.default.createElement("div",{className:"confirm-add-suggested-token__token-list-item",key:e.address},a.default.createElement("div",{className:"confirm-add-suggested-token__token confirm-add-suggested-token__data"},a.default.createElement(l.default,{className:"confirm-add-suggested-token__token-icon",diameter:48,address:e.address,image:e.image}),a.default.createElement("div",{className:"confirm-add-suggested-token__name"},(t=e.name,n=e.symbol,t===undefined?n:`${t} (${n})`))),a.default.createElement("div",{className:"confirm-add-suggested-token__balance"},a.default.createElement(c.default,{token:e})));var t,n}))))),a.default.createElement(u.PageContainerFooter,{cancelText:e("cancel"),submitText:e("addToken"),onCancel:S,onSubmit:A,disabled:0===E.length}))}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-token/confirm-add-suggested-token.js"}],[5242,{"./confirm-add-suggested-token":5241},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-add-suggested-token"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-add-suggested-token/index.js"}],[5243,{"../../../shared/constants/common":4345,"../../../shared/constants/copy":4346,"../../../shared/constants/metametrics":4353,"../../../shared/constants/time":4366,"../../../shared/modules/Numeric":4379,"../../../shared/modules/conversion.utils":4383,"../../components/app/account-list-item":4409,"../../components/component-library":4775,"../../components/ui/identicon":5036,"../../components/ui/page-container":5064,"../../components/ui/tooltip":5103,"../../helpers/constants/design-system":5143,"../../helpers/utils/confirm-tx.util":5168,classnames:2816,"copy-to-clipboard":2857,loglevel:3644,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=_(e("prop-types")),o=_(e("copy-to-clipboard")),s=_(e("classnames")),i=_(e("loglevel")),l=_(e("../../components/app/account-list-item")),c=_(e("../../components/ui/identicon")),u=_(e("../../components/ui/tooltip")),d=e("../../components/ui/page-container"),p=e("../../../shared/constants/metametrics"),f=e("../../../shared/constants/time"),m=e("../../../shared/modules/Numeric"),g=e("../../../shared/constants/common"),h=e("../../components/component-library"),y=e("../../helpers/constants/design-system"),v=e("../../helpers/utils/confirm-tx.util"),b=e("../../../shared/modules/conversion.utils"),T=e("../../../shared/constants/copy");function _(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function E(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class M extends a.Component{constructor(...e){super(...e),E(this,"state",{copyToClipboardPressed:!1,hasCopied:!1}),E(this,"copyMessage",(()=>{(0,o.default)(this.state.rawMessage,T.COPY_OPTIONS),this.context.trackEvent({category:p.MetaMetricsEventCategory.Messages,event:"Copy",properties:{action:"Decrypt Message Copy",legacy_event:!0}}),this.setState({hasCopied:!0}),setTimeout((()=>this.setState({hasCopied:!1})),3*f.SECOND)})),E(this,"renderHeader",(()=>a.default.createElement("div",{className:"request-decrypt-message__header"},a.default.createElement("div",{className:"request-decrypt-message__header-background"}),a.default.createElement("div",{className:"request-decrypt-message__header__text"},this.context.t("decryptRequest")),a.default.createElement("div",{className:"request-decrypt-message__header__tip-container"},a.default.createElement("div",{className:"request-decrypt-message__header__tip"}))))),E(this,"renderAccount",(()=>{const{fromAccount:e}=this.props,{t:t}=this.context;return a.default.createElement("div",{className:"request-decrypt-message__account"},a.default.createElement("div",{className:"request-decrypt-message__account-text"},`${t("account")}:`),a.default.createElement("div",{className:"request-decrypt-message__account-item"},a.default.createElement(l.default,{account:e})))})),E(this,"renderBalance",(()=>{const{conversionRate:e,nativeCurrency:t,currentCurrency:n,fromAccount:{balance:r}}=this.props,{t:o}=this.context,s=e?(0,v.formatCurrency)((0,b.getValueFromWeiHex)({value:r,fromCurrency:t,toCurrency:n,conversionRate:e,numberOfDecimals:6,toDenomination:g.EtherDenomination.ETH}),n):new m.Numeric(r,16,g.EtherDenomination.WEI).toDenomination(g.EtherDenomination.ETH).round(6).toBase(10).toString();return a.default.createElement("div",{className:"request-decrypt-message__balance"},a.default.createElement("div",{className:"request-decrypt-message__balance-text"},`${o("balance")}:`),a.default.createElement("div",{className:"request-decrypt-message__balance-value"},`${s} ${e?null==n?void 0:n.toUpperCase():t}`))})),E(this,"renderRequestIcon",(()=>{const{requesterAddress:e}=this.props;return a.default.createElement("div",{className:"request-decrypt-message__request-icon"},a.default.createElement(c.default,{diameter:40,address:e}))})),E(this,"renderAccountInfo",(()=>a.default.createElement("div",{className:"request-decrypt-message__account-info"},this.renderAccount(),this.renderRequestIcon(),this.renderBalance()))),E(this,"renderBody",(()=>{const{decryptMessageInline:e,subjectMetadata:t,txData:n}=this.props,{t:r}=this.context,o=t[n.msgParams.origin],i=(null==o?void 0:o.name)||n.msgParams.origin,l=r("decryptMessageNotice",[n.msgParams.origin]),{hasCopied:c,hasDecrypted:d,hasError:p,rawMessage:f,errorMessage:m,copyToClipboardPressed:g}=this.state;return a.default.createElement("div",{className:"request-decrypt-message__body"},this.renderAccountInfo(),a.default.createElement("div",{className:"request-decrypt-message__visual"},a.default.createElement("section",null,null!=o&&o.iconUrl?a.default.createElement("img",{className:"request-decrypt-message__visual-identicon",src:o.iconUrl,alt:""}):a.default.createElement("i",{className:"request-decrypt-message__visual-identicon--default"},i.charAt(0).toUpperCase()),a.default.createElement("div",{className:"request-decrypt-message__notice"},l))),a.default.createElement("div",{className:"request-decrypt-message__message"},a.default.createElement("div",{className:"request-decrypt-message__message-text"},d||p?f:n.msgParams.data,p?m:""),a.default.createElement("div",{className:(0,s.default)("request-decrypt-message__message-cover",{"request-decrypt-message__message-lock--pressed":d||p})}),a.default.createElement("div",{className:(0,s.default)("request-decrypt-message__message-lock",{"request-decrypt-message__message-lock--pressed":d||p}),onClick:t=>{e(n,t).then((e=>{e.error?this.setState({hasError:!0,errorMessage:this.context.t("decryptInlineError",[e.error])}):this.setState({hasDecrypted:!0,rawMessage:e.rawSig})}))}},a.default.createElement("div",{className:"request-decrypt-message__message-lock__container"},a.default.createElement("i",{className:"fa fa-lock fa-lg request-decrypt-message__message-lock__container__icon"}),a.default.createElement("div",{className:"request-decrypt-message__message-lock__container__text"},r("decryptMetamask"))))),d?a.default.createElement("div",{className:(0,s.default)({"request-decrypt-message__message-copy":!0,"request-decrypt-message__message-copy--pressed":g}),onClick:()=>this.copyMessage(),onMouseDown:()=>this.setState({copyToClipboardPressed:!0}),onMouseUp:()=>this.setState({copyToClipboardPressed:!1})},a.default.createElement(u.default,{position:"bottom",title:r(c?"copiedExclamation":"copyToClipboard"),wrapperClassName:"request-decrypt-message__message-copy-tooltip",style:{display:"flex",alignItems:"center"}},a.default.createElement("div",{className:"request-decrypt-message__message-copy-text"},r("decryptCopy")),a.default.createElement(h.Icon,{name:c?h.IconName.CopySuccess:h.IconName.Copy,color:y.IconColor.primaryDefault}))):a.default.createElement("div",null))})),E(this,"renderFooter",(()=>{const{cancelDecryptMessage:e,clearConfirmTransaction:t,decryptMessage:n,history:r,mostRecentOverviewPage:o,txData:s}=this.props,{trackEvent:i,t:l}=this.context;return a.default.createElement(d.PageContainerFooter,{cancelText:l("cancel"),submitText:l("decrypt"),onCancel:async n=>{await e(s,n),i({category:p.MetaMetricsEventCategory.Messages,event:"Cancel",properties:{action:"Decrypt Message Request",legacy_event:!0}}),t(),r.push(o)},onSubmit:async e=>{await n(s,e),i({category:p.MetaMetricsEventCategory.Messages,event:"Confirm",properties:{action:"Decrypt Message Request",legacy_event:!0}}),t(),r.push(o)}})})),E(this,"render",(()=>this.props.txData?a.default.createElement("div",{className:"request-decrypt-message__container"},this.renderHeader(),this.renderBody(),this.renderFooter()):(i.default.warn("ConfirmDecryptMessage Page: Missing txData prop."),null)))}}n.default=M,E(M,"contextTypes",{t:r.default.func.isRequired,trackEvent:r.default.func.isRequired}),E(M,"propTypes",{fromAccount:r.default.shape({address:r.default.string.isRequired,balance:r.default.string,name:r.default.string}).isRequired,clearConfirmTransaction:r.default.func.isRequired,cancelDecryptMessage:r.default.func.isRequired,decryptMessage:r.default.func.isRequired,decryptMessageInline:r.default.func.isRequired,history:r.default.object.isRequired,mostRecentOverviewPage:r.default.string.isRequired,requesterAddress:r.default.string,txData:r.default.object,subjectMetadata:r.default.object,nativeCurrency:r.default.string.isRequired,currentCurrency:r.default.string.isRequired,conversionRate:r.default.number})}}},{package:"$root$",file:"ui/pages/confirm-decrypt-message/confirm-decrypt-message.component.js"}],[5244,{"../../ducks/confirm-transaction/confirm-transaction.duck":5127,"../../ducks/history/history":5132,"../../ducks/metamask/metamask":5135,"../../selectors":5751,"../../store/actions":5759,"./confirm-decrypt-message.component":5243,lodash:3638,"react-redux":4002,"react-router-dom":4022,redux:4067},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("redux"),s=e("react-router-dom"),i=e("lodash"),l=e("../../store/actions"),c=e("../../selectors"),u=e("../../ducks/confirm-transaction/confirm-transaction.duck"),d=e("../../ducks/history/history"),p=e("../../ducks/metamask/metamask"),f=(a=e("./confirm-decrypt-message.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(s.withRouter,(0,r.connect)((function(e){var t;const{metamask:{subjectMetadata:n={}}}=e,{useNativeCurrencyAsPrimaryCurrency:a}=(0,c.getPreferences)(e),r=(0,c.unconfirmedTransactionsListSelector)(e),o=(0,i.cloneDeep)(r[0]);return{txData:o,subjectMetadata:n,fromAccount:(0,c.getTargetAccountWithSendEtherInfo)(e,null==o||null===(t=o.msgParams)||void 0===t?void 0:t.from),requester:null,requesterAddress:null,conversionRate:a?null:(0,c.conversionRateSelector)(e),mostRecentOverviewPage:(0,d.getMostRecentOverviewPage)(e),nativeCurrency:(0,p.getNativeCurrency)(e),currentCurrency:(0,c.getCurrentCurrency)(e)}}),(function(e){return{goHome:()=>e((0,l.goHome)()),clearConfirmTransaction:()=>e((0,u.clearConfirmTransaction)()),decryptMessage:(t,n)=>{const a=t.msgParams;return a.metamaskId=t.id,n.stopPropagation(n),e((0,l.decryptMsg)(a))},cancelDecryptMessage:(t,n)=>(n.stopPropagation(n),e((0,l.cancelDecryptMsg)(t))),decryptMessageInline:(t,n)=>{const a=t.msgParams;return a.metamaskId=t.id,n.stopPropagation(n),e((0,l.decryptMsgInline)(a))}}})))(f.default)}}},{package:"$root$",file:"ui/pages/confirm-decrypt-message/confirm-decrypt-message.container.js"}],[5245,{"./confirm-decrypt-message.container":5244},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-decrypt-message.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-decrypt-message/index.js"}],[5246,{"../../../shared/constants/common":4345,"../../../shared/constants/metametrics":4353,"../../../shared/modules/Numeric":4379,"../../../shared/modules/conversion.utils":4383,"../../components/app/account-list-item":4409,"../../components/ui/identicon":5036,"../../components/ui/page-container":5064,"../../components/ui/site-origin":5082,"../../helpers/utils/confirm-tx.util":5168,loglevel:3644,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=g(e("prop-types")),o=g(e("loglevel")),s=g(e("../../components/app/account-list-item")),i=g(e("../../components/ui/identicon")),l=e("../../components/ui/page-container"),c=e("../../../shared/constants/metametrics"),u=g(e("../../components/ui/site-origin")),d=e("../../../shared/modules/Numeric"),p=e("../../../shared/constants/common"),f=e("../../helpers/utils/confirm-tx.util"),m=e("../../../shared/modules/conversion.utils");function g(e){return e&&e.__esModule?e:{default:e}}function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class v extends a.Component{constructor(...e){super(...e),y(this,"renderHeader",(()=>a.default.createElement("div",{className:"request-encryption-public-key__header"},a.default.createElement("div",{className:"request-encryption-public-key__header-background"}),a.default.createElement("div",{className:"request-encryption-public-key__header__text"},this.context.t("encryptionPublicKeyRequest")),a.default.createElement("div",{className:"request-encryption-public-key__header__tip-container"},a.default.createElement("div",{className:"request-encryption-public-key__header__tip"}))))),y(this,"renderAccount",(()=>{const{fromAccount:e}=this.props,{t:t}=this.context;return a.default.createElement("div",{className:"request-encryption-public-key__account"},a.default.createElement("div",{className:"request-encryption-public-key__account-text"},`${t("account")}:`),a.default.createElement("div",{className:"request-encryption-public-key__account-item"},a.default.createElement(s.default,{account:e})))})),y(this,"renderBalance",(()=>{const{conversionRate:e,nativeCurrency:t,currentCurrency:n,fromAccount:{balance:r}}=this.props,{t:o}=this.context,s=e?(0,f.formatCurrency)((0,m.getValueFromWeiHex)({value:r,fromCurrency:t,toCurrency:n,conversionRate:e,numberOfDecimals:6,toDenomination:p.EtherDenomination.ETH}),n):new d.Numeric(r,16,p.EtherDenomination.WEI).toDenomination(p.EtherDenomination.ETH).round(6).toBase(10).toString();return a.default.createElement("div",{className:"request-encryption-public-key__balance"},a.default.createElement("div",{className:"request-encryption-public-key__balance-text"},`${o("balance")}:`),a.default.createElement("div",{className:"request-encryption-public-key__balance-value"},`${s} ${e?null==n?void 0:n.toUpperCase():t}`))})),y(this,"renderRequestIcon",(()=>{const{requesterAddress:e}=this.props;return a.default.createElement("div",{className:"request-encryption-public-key__request-icon"},a.default.createElement(i.default,{diameter:40,address:e}))})),y(this,"renderAccountInfo",(()=>a.default.createElement("div",{className:"request-encryption-public-key__account-info"},this.renderAccount(),this.renderRequestIcon(),this.renderBalance()))),y(this,"renderBody",(()=>{const{subjectMetadata:e,txData:t}=this.props,{t:n}=this.context,r=e[t.origin],o=n("encryptionPublicKeyNotice",[a.default.createElement(u.default,{siteOrigin:t.origin,key:t.origin})]),s=(null==r?void 0:r.hostname)||t.origin;return a.default.createElement("div",{className:"request-encryption-public-key__body"},this.renderAccountInfo(),a.default.createElement("div",{className:"request-encryption-public-key__visual"},a.default.createElement("section",null,null!=r&&r.iconUrl?a.default.createElement("img",{className:"request-encryption-public-key__visual-identicon",src:r.iconUrl,alt:""}):a.default.createElement("i",{className:"request-encryption-public-key__visual-identicon--default"},s.charAt(0).toUpperCase()),a.default.createElement("div",{className:"request-encryption-public-key__notice"},o))))})),y(this,"renderFooter",(()=>{const{cancelEncryptionPublicKey:e,clearConfirmTransaction:t,encryptionPublicKey:n,history:r,mostRecentOverviewPage:o,txData:s}=this.props,{t:i,trackEvent:u}=this.context;return a.default.createElement(l.PageContainerFooter,{cancelText:i("cancel"),submitText:i("provide"),onCancel:async n=>{await e(s,n),u({category:c.MetaMetricsEventCategory.Messages,event:"Cancel",properties:{action:"Encryption public key Request",legacy_event:!0}}),t(),r.push(o)},onSubmit:async e=>{await n(s,e),this.context.trackEvent({category:c.MetaMetricsEventCategory.Messages,event:"Confirm",properties:{action:"Encryption public key Request",legacy_event:!0}}),t(),r.push(o)}})})),y(this,"render",(()=>this.props.txData?a.default.createElement("div",{className:"request-encryption-public-key__container"},this.renderHeader(),this.renderBody(),this.renderFooter()):(o.default.warn("ConfirmEncryptionPublicKey Page: Missing txData prop."),null)))}}n.default=v,y(v,"contextTypes",{t:r.default.func.isRequired,trackEvent:r.default.func.isRequired}),y(v,"propTypes",{fromAccount:r.default.shape({address:r.default.string.isRequired,balance:r.default.string,name:r.default.string}).isRequired,clearConfirmTransaction:r.default.func.isRequired,cancelEncryptionPublicKey:r.default.func.isRequired,encryptionPublicKey:r.default.func.isRequired,history:r.default.object.isRequired,requesterAddress:r.default.string,txData:r.default.object,subjectMetadata:r.default.object,mostRecentOverviewPage:r.default.string.isRequired,nativeCurrency:r.default.string.isRequired,currentCurrency:r.default.string.isRequired,conversionRate:r.default.number})}}},{package:"$root$",file:"ui/pages/confirm-encryption-public-key/confirm-encryption-public-key.component.js"}],[5247,{"../../ducks/confirm-transaction/confirm-transaction.duck":5127,"../../ducks/history/history":5132,"../../ducks/metamask/metamask":5135,"../../selectors":5751,"../../store/actions":5759,"./confirm-encryption-public-key.component":5246,"react-redux":4002,"react-router-dom":4022,redux:4067},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("redux"),s=e("react-router-dom"),i=e("../../store/actions"),l=e("../../selectors"),c=e("../../ducks/confirm-transaction/confirm-transaction.duck"),u=e("../../ducks/history/history"),d=e("../../ducks/metamask/metamask"),p=(a=e("./confirm-encryption-public-key.component"))&&a.__esModule?a:{default:a};n.default=(0,o.compose)(s.withRouter,(0,r.connect)((function(e){const{metamask:{subjectMetadata:t={}}}=e,{useNativeCurrencyAsPrimaryCurrency:n}=(0,l.getPreferences)(e),a=(0,l.unconfirmedTransactionsListSelector)(e)[0];return{txData:a,subjectMetadata:t,fromAccount:(0,l.getTargetAccountWithSendEtherInfo)(e,null==a?void 0:a.msgParams),requester:null,requesterAddress:null,conversionRate:n?null:(0,l.conversionRateSelector)(e),mostRecentOverviewPage:(0,u.getMostRecentOverviewPage)(e),nativeCurrency:(0,d.getNativeCurrency)(e),currentCurrency:(0,l.getCurrentCurrency)(e)}}),(function(e){return{goHome:()=>e((0,i.goHome)()),clearConfirmTransaction:()=>e((0,c.clearConfirmTransaction)()),encryptionPublicKey:(t,n)=>{const a={data:t.msgParams,metamaskId:t.id};return n.stopPropagation(),e((0,i.encryptionPublicKeyMsg)(a))},cancelEncryptionPublicKey:(t,n)=>(n.stopPropagation(),e((0,i.cancelEncryptionPublicKeyMsg)(t)))}})))(p.default)}}},{package:"$root$",file:"ui/pages/confirm-encryption-public-key/confirm-encryption-public-key.container.js"}],[5248,{"./confirm-encryption-public-key.container":5247},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-encryption-public-key.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirm-encryption-public-key/index.js"}],[5249,{"../../../../components/ui/form-field":5018,"../../../../contexts/i18n":5116,"../../../../helpers/constants/gas":5145,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=l(e("prop-types")),o=e("../../../../contexts/i18n"),s=l(e("../../../../components/ui/form-field")),i=e("../../../../helpers/constants/gas");function l(e){return e&&e.__esModule?e:{default:e}}function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u({onManualChange:e,gasLimit:t,setGasLimit:n,gasPrice:r,setGasPrice:l,gasErrors:c,minimumGasLimit:u}){const d=(0,a.useContext)(o.I18nContext);return a.default.createElement("div",{className:"advanced-gas-controls"},a.default.createElement(s.default,{titleText:d("gasLimit"),error:null!=c&&c.gasLimit?(0,i.getGasFormErrorText)(c.gasLimit,d,{minimumGasLimit:u}):null,onChange:t=>{null==e||e(),n(t)},tooltipText:d("editGasLimitTooltip"),value:t,allowDecimals:!1,numeric:!0}),a.default.createElement(a.default.Fragment,null,a.default.createElement(s.default,{titleText:d("advancedGasPriceTitle"),titleUnit:"(GWEI)",onChange:t=>{null==e||e(),l(t)},tooltipText:d("editGasPriceTooltip"),value:r,numeric:!0,allowDecimals:!0,error:null!=c&&c.gasPrice?(0,i.getGasFormErrorText)(c.gasPrice,d):null})))}u.propTypes={onManualChange:r.default.func,gasLimit:r.default.number,setGasLimit:r.default.func,gasPrice:r.default.string,setGasPrice:r.default.func,minimumGasLimit:r.default.string,gasErrors:r.default.object}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-controls/advanced-gas-controls.component.js"}],[525,{"./wordlist":526,"@ethersproject/strings":509},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){var a,r=this&&this.__extends||(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),n.langZhTw=n.langZhCn=void 0;var o=e("@ethersproject/strings"),s=e("./wordlist"),i="}aE#4A=Yv&co#4N#6G=cJ&SM#66|/Z#4t&kn~46#4K~4q%b9=IR#7l,mB#7W_X2*dl}Uo~7s}Uf&Iw#9c&cw~6O&H6&wx&IG%v5=IQ~8a&Pv#47$PR&50%Ko&QM&3l#5f,D9#4L|/H&tQ;v0~6n]nN<di,AM=W5%QO&ka&ua,hM^tm=zV=JA=wR&+X]7P&NB#4J#5L|/b[dA}tJ<Do&6m&u2[U1&Kb.HM&mC=w0&MW<rY,Hq#6M}QG,13&wP}Jp]Ow%ue&Kg<HP<D9~4k~9T&I2_c6$9T#9/[C5~7O~4a=cs&O7=KK=An&l9$6U$8A&uD&QI|/Y&bg}Ux&F2#6b}E2&JN&kW&kp=U/&bb=Xl<Cj}k+~5J#6L&5z&9i}b4&Fo,ho(X0_g3~4O$Fz&QE<HN=Ww]6/%GF-Vw=tj&/D&PN#9g=YO}cL&Of&PI~5I&Ip=vU=IW#9G;0o-wU}ss&QR<BT&R9=tk$PY_dh&Pq-yh]7T,nj.Xu=EP&76=cI&Fs*Xg}z7$Gb&+I=DF,AF=cA}rL#7j=Dz&3y<Aa$52=PQ}b0(iY$Fa}oL&xV#6U=ec=WZ,xh%RY<dp#9N&Fl&44=WH*A7=sh&TB&8P=07;u+&PK}uh}J5#72)V/=xC,AB$k0&f6;1E|+5=1B,3v]6n&wR%b+&xx]7f=Ol}fl;+D^wG]7E;nB;uh^Ir&l5=JL,nS=cf=g5;u6|/Q$Gc=MH%Hg#5d%M6^86=U+$Gz,l/,ir^5y&Ba&/F-IY&FI&be%IZ#77&PW_Nu$kE(Yf&NX]7Z,Jy&FJ(Xo&Nz#/d=y7&MX<Ag}Z+;nE]Dt(iG#4D=13&Pj~4c%v8&Zo%OL&/X#4W<HR&ie~6J_1O(Y2=y5=Ad*cv_eB#6k&PX:BU#7A;uk&Ft&Fx_dD=U2;vB=U5=4F}+O&GN.HH:9s=b0%NV(jO&IH=JT}Z9=VZ<Af,Kx^4m&uJ%c6,6r;9m#+L}cf%Kh&F3~4H=vP}bu,Hz|++,1w]nv}k6;uu$jw*Kl*WX&uM[x7&Fr[m7$NO&QN]hu=JN}nR^8g#/h(ps|KC;vd}xz=V0}p6&FD$G1#7K<bG_4p~8g&cf;u4=tl}+k%5/}fz;uw<cA=u1}gU}VM=LJ=eX&+L&Pr#4U}p2:nC,2K]7H:jF&9x}uX#9O=MB<fz~8X~5m&4D&kN&u5%E/(h7(ZF&VG<de(qM|/e-Wt=3x(a+,/R]f/&ND$Ro&nU}0g=KA%kH&NK$Ke<dS}cB&IX~5g$TN]6m=Uv,Is&Py=Ef%Kz#+/%bi&+A<F4$OG&4C&FL#9V<Zk=2I_eE&6c]nw&kq$HG}y+&A8$P3}OH=XP]70%IS(AJ_gH%GZ&tY&AZ=vb~6y&/r=VI=Wv<Zi=fl=xf&eL}c8}OL=MJ=g8$F7=YT}9u=0+^xC}JH&nL^N0~4T]K2,Cy%OC#6s;vG(AC^xe^cG&MF}Br#9P;wD-7h$O/&xA}Fn^PC]6i]7G&8V$Qs;vl(TB~73~4l<mW&6V=2y&uY&+3)aP}XF;LP&kx$wU=t7;uy<FN&lz)7E=Oo*Y+;wI}9q}le;J6&Ri&4t&Qr#8B=cb&vG=J5|Ql(h5<Yy~4+}QD,Lx=wn%K/&RK=dO&Pw,Q9=co%4u;9u}g0@6a^4I%b0=zo|/c&tX=dQ=OS#+b=yz_AB&wB&Pm=W9$HP_gR=62=AO=ti=hI,oA&jr&dH=tm&b6$P2(x8=zi;nG~7F;05]0n[Ix&3m}rg=Xp=cd&uz]7t;97=cN;vV<jf&FF&F1=6Q&Ik*Kk&P4,2z=fQ]7D&3u,H0=d/}Uw<ZN<7R}Kv;0f$H7,MD]7n$F0#88~9Z%da=by;+T#/u=VF&fO&kr^kf<AB]sU,I5$Ng&Pz;0i&QD&vM=Yl:BM;nJ_xJ]U7&Kf&30,3f|Z9*dC)je_jA&Q4&Kp$NH(Yz#6S&Id%Ib=KX,AD=KV%dP}tW&Pk^+E_Ni=cq,3R}VZ(Si=b+}rv;0j}rZ]uA,/w(Sx&Jv$w9&4d&wE,NJ$Gy=J/]Ls#7k<ZQ<Y/&uj]Ov$PM;v3,2F&+u:up=On&3e,Jv;90=J+&Qm]6q}bK#+d~8Y(h2]hA;99&AS=I/}qB&dQ}yJ-VM}Vl&ui,iB&G3|Dc]7d=eQ%dX%JC_1L~4d^NP;vJ&/1)ZI#7N]9X[bQ&PL=0L(UZ,Lm&kc&IR}n7(iR<AQ<dg=33=vN}ft}au]7I,Ba=x9=dR~6R&Tq=Xi,3d$Nr&Bc}DI&ku&vf]Dn,/F&iD,Ll&Nw=0y&I7=Ls=/A&tU=Qe}Ua&uk&+F=g4=gh=Vj#+1&Qn}Uy*44#5F,Pc&Rz*Xn=oh=5W;0n_Nf(iE<Y7=vr=Zu]oz#5Z%mI=kN=Bv_Jp(T2;vt_Ml<FS&uI=L/&6P]64$M7}86<bo%QX(SI%IY&VK=Al&Ux;vv;ut*E/%uh<ZE|O3,M2(yc]yu=Wk&tp:Ex}hr,Cl&WE)+Z=8U}I2_4Q,hA_si=iw=OM=tM=yZ%Ia=U7;wT}b+;uo=Za}yS!5x}HD}fb#5O_dA;Nv%uB(yB;01(Sf}Fk;v7}Pt#8v<mZ#7L,/r&Pl~4w&f5=Ph$Fw_LF&8m,bL=yJ&BH}p/*Jn}tU~5Q;wB(h6]Df]8p^+B;E4&Wc=d+;Ea&bw$8C&FN,DM=Yf}mP~5w=fT#6V=mC=Fi=AV}jB&AN}lW}aH#/D)dZ;hl;vE}/7,CJ;31&w8,hj%u9_Js=jJ&4M~8k=TN&eC}nL&uc-wi&lX}dj=Mv=e2#6u=cr$uq$6G]8W}Jb:nm=Yg<b3(UA;vX&6n&xF=KT,jC,De&R8&oY=Zv&oB]7/=Z2&Oa}bf,hh(4h^tZ&72&Nx;D2&xL~5h~40)ZG)h+=OJ&RA]Bv$yB=Oq=df,AQ%Jn}OJ;11,3z&Tl&tj;v+^Hv,Dh(id=s+]7N&N3)9Q~8f,S4=uW=w4&uX,LX&3d]CJ&yp&8x<b2_do&lP=y/<cy_dG=Oi=7R(VH(lt_1T,Iq_AA;12^6T%k6#8K[B1{oO<AU[Bt;1b$9S&Ps<8T=St{bY,jB(Zp&63&Uv$9V,PM]6v&Af}zW[bW_oq}sm}nB&Kq&gC&ff_eq_2m&5F&TI}rf}Gf;Zr_z9;ER&jk}iz_sn<BN~+n&vo=Vi%97|ZR=Wc,WE&6t]6z%85(ly#84=KY)6m_5/=aX,N3}Tm&he&6K]tR_B2-I3;u/&hU&lH<AP=iB&IA=XL;/5&Nh=wv<BH#79=vS=zl<AA=0X_RG}Bw&9p$NW,AX&kP_Lp&/Z(Tc]Mu}hs#6I}5B&cI<bq&H9#6m=K9}vH(Y1(Y0#4B&w6,/9&gG<bE,/O=zb}I4_l8<B/;wL%Qo<HO[Mq=XX}0v&BP&F4(mG}0i}nm,EC=9u{I3,xG&/9=JY*DK&hR)BX=EI=cx=b/{6k}yX%A+&wa}Xb=la;wi^lL;0t}jo&Qb=xg=XB}iO<qo{bR=NV&8f=a0&Jy;0v=uK)HK;vN#6h&jB(h/%ud&NI%wY.X7=Pt}Cu-uL&Gs_hl%mH,tm]78=Lb^Q0#7Y=1u<Bt&+Q=Co_RH,w3;1e}ux<aU;ui}U3&Q5%bt]63&UQ|0l&uL}O7&3o,AV&dm|Nj(Xt*5+(Uu&Hh(p7(UF=VR=Bp^Jl&Hd[ix)9/=Iq]C8<67]66}mB%6f}bb}JI]8T$HA}db=YM&pa=2J}tS&Y0=PS&y4=cX$6E,hX,XP&nR;04,FQ&l0&Vm_Dv#5Y~8Z=Bi%MA]6x=JO:+p,Az&9q,Hj~6/}SD=K1:EJ}nA;Qo#/E]9R,Ie&6X%W3]61&v4=xX_MC=0q;06(Xq=fs}IG}Dv=0l}o7$iZ;9v&LH&DP-7a&OY,SZ,Kz,Cv&dh=fx|Nh,F/~7q=XF&w+;9n&Gw;0h}Z7<7O&JK(S7&LS<AD<ac=wo<Dt&zw%4B=4v#8P;9o~6p*vV=Tm,Or&I6=1q}nY=P0=gq&Bl&Uu,Ch%yb}UY=zh}dh}rl(T4_xk(YA#8R*xH,IN}Jn]7V}C4&Ty}j3]7p=cL=3h&wW%Qv<Z3=f0&RI&+S(ic_zq}oN&/Y=z1;Td=LW=0e=OI(Vc,+b^ju(UL;0r:Za%8v=Rp=zw&58&73&wK}qX]6y&8E)a2}WR=wP^ur&nQ<cH}Re=Aq&wk}Q0&+q=PP,Gc|/d^k5,Fw]8Y}Pg]p3=ju=ed}r5_yf&Cs]7z$/G<Cm&Jp&54_1G_gP_Ll}JZ;0u]k8_7k(Sg]65{9i=LN&Sx&WK,iW&fD&Lk{9a}Em-9c#8N&io=sy]8d&nT&IK(lx#7/$lW(Td<s8~49,3o<7Y=MW(T+_Jr&Wd,iL}Ct=xh&5V;v4&8n%Kx=iF&l2_0B{B+,If(J0,Lv;u8=Kx-vB=HC&vS=Z6&fU&vE^xK;3D=4h=MR#45:Jw;0d}iw=LU}I5=I0]gB*im,K9}GU,1k_4U&Tt=Vs(iX&lU(TF#7y,ZO}oA&m5#5P}PN}Uz=hM<B1&FB<aG,e6~7T<tP(UQ_ZT=wu&F8)aQ]iN,1r_Lo&/g:CD}84{J1_Ki&Na&3n$jz&FE=dc;uv;va}in}ll=fv(h1&3h}fp=Cy}BM(+E~8m}lo%v7=hC(T6$cj=BQ=Bw(DR,2j=Ks,NS|F+;00=fU=70}Mb(YU;+G&m7&hr=Sk%Co]t+(X5_Jw}0r}gC(AS-IP&QK<Z2#8Q$WC]WX}T2&pG_Ka,HC=R4&/N;Z+;ch(C7,D4$3p_Mk&B2$8D=n9%Ky#5z(CT&QJ#7B]DC]gW}nf~5M;Iw#80}Tc_1F#4Z-aC}Hl=ph=fz,/3=aW}JM}nn;DG;vm}wn,4P}T3;wx&RG$u+}zK=0b;+J_Ek{re<aZ=AS}yY#5D]7q,Cp}xN=VP*2C}GZ}aG~+m_Cs=OY#6r]6g<GS}LC(UB=3A=Bo}Jy<c4}Is;1P<AG}Op<Z1}ld}nS=1Z,yM&95&98=CJ(4t:2L$Hk=Zo}Vc;+I}np&N1}9y=iv}CO*7p=jL)px]tb^zh&GS&Vl%v/;vR=14=zJ&49|/f]hF}WG;03=8P}o/&Gg&rp;DB,Kv}Ji&Pb;aA^ll(4j%yt}+K$Ht#4y&hY]7Y<F1,eN}bG(Uh%6Z]t5%G7;+F_RE;it}tL=LS&Da=Xx(S+(4f=8G=yI}cJ}WP=37=jS}pX}hd)fp<A8=Jt~+o$HJ=M6}iX=g9}CS=dv=Cj(mP%Kd,xq|+9&LD(4/=Xm&QP=Lc}LX&fL;+K=Op(lu=Qs.qC:+e&L+=Jj#8w;SL]7S(b+#4I=c1&nG_Lf&uH;+R)ZV<bV%B/,TE&0H&Jq&Ah%OF&Ss(p2,Wv&I3=Wl}Vq;1L&lJ#9b_1H=8r=b8=JH(SZ=hD=J2#7U,/U#/X~6P,FU<eL=jx,mG=hG=CE&PU=Se(qX&LY=X6=y4&tk&QQ&tf=4g&xI}W+&mZ=Dc#7w}Lg;DA;wQ_Kb(cJ=hR%yX&Yb,hw{bX_4X;EP;1W_2M}Uc=b5(YF,CM&Tp^OJ{DD]6s=vF=Yo~8q}XH}Fu%P5(SJ=Qt;MO]s8<F3&B3&8T(Ul-BS*dw&dR<87}/8]62$PZ]Lx<Au}9Q]7c=ja=KR,Go,Us&v6(qk}pG&G2=ev^GM%w4&H4]7F&dv]J6}Ew:9w=sj-ZL}Ym$+h(Ut(Um~4n=Xs(U7%eE=Qc_JR<CA#6t<Fv|/I,IS,EG<F2(Xy$/n<Fa(h9}+9_2o&N4#7X<Zq|+f_Dp=dt&na,Ca=NJ)jY=8C=YG=s6&Q+<DO}D3=xB&R1(lw;Qn<bF(Cu|/B}HV=SS&n7,10&u0]Dm%A6^4Q=WR(TD=Xo<GH,Rj(l8)bP&n/=LM&CF,F5&ml=PJ;0k=LG=tq,Rh,D6@4i=1p&+9=YC%er_Mh;nI;0q=Fw]80=xq=FM$Gv;v6&nc;wK%H2&Kj;vs,AA=YP,66}bI(qR~5U=6q~4b$Ni=K5.X3$So&Iu(p+]8G=Cf=RY(TS_O3(iH&57=fE=Dg_Do#9z#7H;FK{qd_2k%JR}en&gh_z8;Rx}9p<cN_Ne,DO;LN_7o~/p=NF=5Y}gN<ce<C1,QE]Wv=3u<BC}GK]yq}DY&u/_hj=II(pz&rC,jV&+Z}ut=NQ;Cg-SR_ZS,+o=u/;Oy_RK_QF(Fx&xP}Wr&TA,Uh&g1=yr{ax[VF$Pg(YB;Ox=Vy;+W(Sp}XV%dd&33(l/]l4#4Y}OE=6c=bw(A7&9t%wd&N/&mo,JH&Qe)fm=Ao}fu=tH",l={zh_cn:null,zh_tw:null},c={zh_cn:"0x17bcc4d8547e5a7135e365d1ab443aaae95e76d8230c2782c67305d4f21497a1",zh_tw:"0x51e720e90c7b87bec1d70eb6e74a21a449bd3ec9c020b01d3a40ed991b60ce5d"},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function d(e){if(null===l[e.locale]){l[e.locale]=[];for(var t=0,n=0;n<2048;n++){var a="~!@#$%^&*_-=[]{}|;:,.()<>?".indexOf(i[3*n]),r=[228+(a>>2),128+u.indexOf(i[3*n+1]),128+u.indexOf(i[3*n+2])];if("zh_tw"===e.locale)for(var d=a%4;d<3;d++)r[d]=u.indexOf("FAZDC6BALcLZCA+GBARCW8wNCcDDZ8LVFBOqqDUiou+M42TFAyERXFb7EjhP+vmBFpFrUpfDV2F7eB+eCltCHJFWLFCED+pWTojEIHFXc3aFn4F68zqjEuKidS1QBVPDEhE7NA4mhMF7oThD49ot3FgtzHFCK0acW1x8DH1EmLoIlrWFBLE+y5+NA3Cx65wJHTaEZVaK1mWAmPGxgYCdxwOjTDIt/faOEhTl1vqNsKtJCOhJWuio2g07KLZEQsFBUpNtwEByBgxFslFheFbiEPvi61msDvApxCzB6rBCzox7joYA5UdDc+Cb4FSgIabpXFAj3bjkmFAxCZE+mD/SFf/0ELecYCt3nLoxC6WEZf2tKDB4oZvrEmqFkKk7BwILA7gtYBpsTq//D4jD0F0wEB9pyQ1BD5Ba0oYHDI+sbDFhvrHXdDHfgFEIJLi5r8qercNFBgFLC4bo5ERJtamWBDFy73KCEb6M8VpmEt330ygCTK58EIIFkYgF84gtGA9Uyh3m68iVrFbWFbcbqiCYHZ9J1jeRPbL8yswhMiDbhEhdNoSwFbZrLT740ABEqgCkO8J1BLd1VhKKR4sD1yUo0z+FF59Mvg71CFbyEhbHSFBKEIKyoQNgQppq9T0KAqePu0ZFGrXOHdKJqkoTFhYvpDNyuuznrN84thJbsCoO6Cu6Xlvntvy0QYuAExQEYtTUBf3CoCqwgGFZ4u1HJFzDVwEy3cjcpV4QvsPaBC3rCGyCF23o4K3pp2gberGgFEJEHo4nHICtyKH2ZqyxhN05KBBJIQlKh/Oujv/DH32VrlqFdIFC7Fz9Ct4kaqFME0UETLprnN9kfy+kFmtQBB0+5CFu0N9Ij8l/VvJDh2oq3hT6EzjTHKFN7ZjZwoTsAZ4Exsko6Fpa6WC+sduz8jyrLpegTv2h1EBeYpLpm2czQW0KoCcS0bCVXCmuWJDBjN1nQNLdF58SFJ0h7i3pC3oEOKy/FjBklL70XvBEEIWp2yZ04xObzAWDDJG7f+DbqBEA7LyiR95j7MDVdDViz2RE5vWlBMv5e4+VfhP3aXNPhvLSynb9O2x4uFBV+3jqu6d5pCG28/sETByvmu/+IJ0L3wb4rj9DNOLBF6XPIODr4L19U9RRofAG6Nxydi8Bki8BhGJbBAJKzbJxkZSlF9Q2Cu8oKqggB9hBArwLLqEBWEtFowy8XK8bEyw9snT+BeyFk1ZCSrdmgfEwFePTgCjELBEnIbjaDDPJm36rG9pztcEzT8dGk23SBhXBB1H4z+OWze0ooFzz8pDBYFvp9j9tvFByf9y4EFdVnz026CGR5qMr7fxMHN8UUdlyJAzlTBDRC28k+L4FB8078ljyD91tUj1ocnTs8vdEf7znbzm+GIjEZnoZE5rnLL700Xc7yHfz05nWxy03vBB9YGHYOWxgMQGBCR24CVYNE1hpfKxN0zKnfJDmmMgMmBWqNbjfSyFCBWSCGCgR8yFXiHyEj+VtD1FB3FpC1zI0kFbzifiKTLm9yq5zFmur+q8FHqjoOBWsBPiDbnCC2ErunV6cJ6TygXFYHYp7MKN9RUlSIS8/xBAGYLzeqUnBF4QbsTuUkUqGs6CaiDWKWjQK9EJkjpkTmNCPYXL"[t++])+(0==d?228:128);l[e.locale].push((0,o.toUtf8String)(r))}if(s.Wordlist.check(e)!==c[e.locale])throw l[e.locale]=null,new Error("BIP39 Wordlist for "+e.locale+" (Chinese) FAILED")}}var p=function(e){function t(t){return e.call(this,"zh_"+t)||this}return r(t,e),t.prototype.getWord=function(e){return d(this),l[this.locale][e]},t.prototype.getWordIndex=function(e){return d(this),l[this.locale].indexOf(e)},t.prototype.split=function(e){return(e=e.replace(/(?:\u3000| )+/g,"")).split("")},t}(s.Wordlist),f=new p("cn");n.langZhCn=f,s.Wordlist.register(f),s.Wordlist.register(f,"zh");var m=new p("tw");n.langZhTw=m,s.Wordlist.register(m)}}},{package:"@ethersproject/hdnode>@ethersproject/wordlists",file:"node_modules/@ethersproject/wordlists/lib/lang-zh.js"}],[5250,{"../../../../../../shared/constants/gas":4348,"../../../../../../shared/modules/Numeric":4379,"../../../../../components/component-library":4775,"../../../../../contexts/gasFee":5115,"../../../../../helpers/constants/design-system":5143,"../../../../../hooks/useI18nContext":5206,"../../../../../selectors":5751,"../../../../../store/actions":5759,"../../../hooks/useTransactionEventFragment":5484,"../context":5266,lodash:3638,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("lodash"),s=e("../../../hooks/useTransactionEventFragment"),i=e("../../../../../../shared/constants/gas"),l=e("../../../../../helpers/constants/design-system"),c=e("../../../../../selectors"),u=e("../../../../../store/actions"),d=e("../../../../../contexts/gasFee"),p=e("../context"),f=e("../../../../../hooks/useI18nContext"),m=e("../../../../../components/component-library"),g=e("../../../../../../shared/modules/Numeric");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,f.useI18nContext)(),t=(0,r.useDispatch)(),{gasErrors:n,maxBaseFee:h,maxPriorityFeePerGas:y}=(0,p.useAdvancedGasFeePopoverContext)(),v=new g.Numeric(h,10).toString(),b=new g.Numeric(y,10).toString(),T=(0,r.useSelector)(c.getAdvancedGasFeeValues),_=(0,r.useSelector)(c.getCurrentChainId),x=(0,r.useSelector)(c.getNetworkIdentifier),{updateTransactionEventFragment:E}=(0,s.useTransactionEventFragment)(),{editGasMode:M}=(0,d.useGasFeeContext)(),[k,C]=(0,a.useState)(Boolean(T)&&T.maxBaseFee===v&&T.priorityFee===b);(0,a.useEffect)((()=>{C(Boolean(T)&&T.maxBaseFee===v&&T.priorityFee===b)}),[T,v,b]);return M===i.EditGasModes.swaps?null:a.default.createElement(m.Box,{display:l.Display.Flex,flexDirection:l.FlexDirection.Row,marginTop:4,marginLeft:2,marginRight:2,paddingTop:4,paddingBottom:4,className:"advanced-gas-fee-defaults"},a.default.createElement(m.Checkbox,{isChecked:k,onChange:()=>{k?(t((0,u.setAdvancedGasFee)({chainId:_,gasFeePreferences:undefined})),C(!1),E({properties:{advanced_gas_defaults_updated_maxbasefee:null,advanced_gas_defaults_updated_priorityfee:null}})):(t((0,u.setAdvancedGasFee)({chainId:_,gasFeePreferences:{maxBaseFee:v,priorityFee:b}})),E({properties:{advanced_gas_defaults_updated_maxbasefee:v,advanced_gas_defaults_updated_priorityfee:b}}))},isDisabled:n.maxFeePerGas||n.maxPriorityFeePerGas,label:e("advancedGasFeeDefaultOptIn",[(0,o.capitalize)(x)])}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-defaults/advanced-gas-fee-defaults.js"}],[5251,{"./advanced-gas-fee-defaults":5250},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-defaults"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-defaults/index.js"}],[5252,{"../../../../../components/component-library":4775,"../../../../../components/ui/button":4988,"../../../../../components/ui/form-field":5018,"../../../../../contexts/gasFee":5115,"../../../../../helpers/constants/design-system":5143,"../../../../../helpers/utils/util":5185,"../../../../../hooks/useI18nContext":5206,"../../../send/send.constants":5527,"../context":5266,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../../contexts/gasFee"),o=e("../../../../../helpers/utils/util"),s=e("../../../../../helpers/constants/design-system"),i=e("../../../../../hooks/useI18nContext"),l=e("../../../send/send.constants"),c=f(e("../../../../../components/ui/button")),u=f(e("../../../../../components/ui/form-field")),d=e("../context"),p=e("../../../../../components/component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,i.useI18nContext)(),{setGasLimit:t,setErrorValue:n}=(0,d.useAdvancedGasFeePopoverContext)(),{gasLimit:f,minimumGasLimitDec:m}=(0,r.useGasFeeContext)(),[g,h]=(0,a.useState)(!1),[y,v]=(0,a.useState)(f),[b,T]=(0,a.useState)(),_=e=>{v(e)};return(0,a.useEffect)((()=>{t(y);const e=((e,t)=>(0,o.bnLessThan)(e,t)||(0,o.bnGreaterThan)(e,l.MAX_GAS_LIMIT_DEC)?"editGasLimitOutOfBoundsV2":null)(y,m);T(e),n("gasLimit","editGasLimitOutOfBoundsV2"===e)}),[y,m,t,n]),g?a.default.createElement(u.default,{dataTestId:"gas-limit-input",error:b?e(b,[m-1,l.MAX_GAS_LIMIT_DEC]):"",onChange:_,titleText:e("gasLimitV2"),value:y,allowDecimals:!1,numeric:!0}):a.default.createElement(p.Text,{tag:s.TextVariant.bodyMd,variant:s.TextVariant.bodySm,as:"h6",className:"advanced-gas-fee-gas-limit",marginTop:4,marginLeft:2,marginRight:2},a.default.createElement("strong",null,e("gasLimitV2")),a.default.createElement("span",null,y),a.default.createElement(c.default,{"data-testid":"advanced-gas-fee-edit",className:"advanced-gas-fee-gas-limit__edit-link",onClick:()=>h(!0),type:"link"},e("edit")))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-gas-limit/advanced-gas-fee-gas-limit.js"}],[5253,{"./advanced-gas-fee-gas-limit":5252},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-gas-limit"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-gas-limit/index.js"}],[5254,{"../../../../../components/ui/box":4984,"../../../../../components/ui/loading-heartbeat":5042,"../../../../../contexts/i18n":5116,"../../../../../helpers/utils/gas":5171,"../../../../../helpers/utils/util":5185,classnames:2816,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=d(e("prop-types")),o=d(e("classnames")),s=e("../../../../../helpers/utils/util"),i=e("../../../../../helpers/utils/gas"),l=e("../../../../../contexts/i18n"),c=d(e("../../../../../components/ui/box")),u=d(e("../../../../../components/ui/loading-heartbeat"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const f=({latest:e,historical:t,trend:n})=>{const r=(0,a.useContext)(l.I18nContext),d=function(e,t){switch(e){case"up":return{className:"fa-arrow-up advanced-gas-fee-input-subtext__up",color:"var(--color-success-default)",title:t("upArrow")};case"down":return{className:"fa-arrow-down advanced-gas-fee-input-subtext__down",color:"var(--color-error-default)",title:t("downArrow")};case"level":return{className:"fa-arrow-right advanced-gas-fee-input-subtext__level",color:"var(--color-icon-alternative)",title:t("levelArrow")};default:return null}}(n,r);return a.default.createElement(c.default,{display:"flex",alignItems:"center",gap:4,className:"advanced-gas-fee-input-subtext"},(0,s.isNullish)(e)?null:a.default.createElement(c.default,{display:"flex",alignItems:"center","data-testid":"latest"},a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__label"},r("currentTitle")),a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__value"},a.default.createElement(u.default,null),(0,i.formatGasFeeOrFeeRange)(e)),null===d?null:a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__icon"},a.default.createElement("i",{className:(0,o.default)("fa",d.className),style:{color:d.color},title:d.title,"data-testid":"fee-arrow"}))),(0,s.isNullish)(t)?null:a.default.createElement(c.default,null,a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__label","data-testid":"historical"},r("twelveHrTitle")),a.default.createElement("span",{className:"advanced-gas-fee-input-subtext__value"},a.default.createElement(u.default,null),(0,i.formatGasFeeOrFeeRange)(t))))};f.propTypes={latest:r.default.oneOfType([r.default.string,r.default.arrayOf(r.default.string)]),historical:r.default.oneOfType([r.default.string,r.default.arrayOf(r.default.string)]),trend:r.default.oneOf(["up","down","level"])};n.default=f}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-input-subtext/advanced-gas-fee-input-subtext.js"}],[5255,{"./advanced-gas-fee-input-subtext":5254},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-input-subtext"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-input-subtext/index.js"}],[5256,{"../../../../../components/ui/box":4984,"./base-fee-input":5258,"./priority-fee-input":5260,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("react")),r=i(e("../../../../../components/ui/box")),o=i(e("./base-fee-input")),s=i(e("./priority-fee-input"));function i(e){return e&&e.__esModule?e:{default:e}}n.default=()=>a.default.createElement(r.default,{className:"advanced-gas-fee-inputs"},a.default.createElement(o.default,null),a.default.createElement(s.default,null))}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/advanced-gas-fee-inputs.js"}],[5257,{"../../../../../../../shared/constants/gas":4348,"../../../../../../../shared/modules/Numeric":4379,"../../../../../../../shared/modules/conversion.utils":4383,"../../../../../../components/ui/box":4984,"../../../../../../components/ui/form-field":5018,"../../../../../../contexts/gasFee":5115,"../../../../../../helpers/constants/common":5141,"../../../../../../hooks/useCurrencyDisplay":5197,"../../../../../../hooks/useI18nContext":5206,"../../../../../../hooks/useUserPreferencedCurrency":5230,"../../../../../../selectors":5751,"../../../../send/send.constants":5527,"../../advanced-gas-fee-input-subtext":5255,"../../context":5266,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("../../../../send/send.constants"),s=e("../../../../../../../shared/constants/gas"),i=e("../../../../../../helpers/constants/common"),l=e("../../../../../../selectors"),c=e("../../../../../../contexts/gasFee"),u=e("../../../../../../hooks/useI18nContext"),d=e("../../../../../../hooks/useUserPreferencedCurrency"),p=e("../../../../../../hooks/useCurrencyDisplay"),f=b(e("../../../../../../components/ui/box")),m=b(e("../../../../../../components/ui/form-field")),g=e("../../context"),h=b(e("../../advanced-gas-fee-input-subtext")),y=e("../../../../../../../shared/modules/conversion.utils"),v=e("../../../../../../../shared/modules/Numeric");function b(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,u.useI18nContext)(),{gasFeeEstimates:t,estimateUsed:n,maxFeePerGas:b,editGasMode:T}=(0,c.useGasFeeContext)(),_=new v.Numeric(b,10).toString(),{gasLimit:x,maxPriorityFeePerGas:E,setErrorValue:M,setMaxFeePerGas:k,setMaxBaseFee:C}=(0,g.useAdvancedGasFeePopoverContext)(),{estimatedBaseFee:w,historicalBaseFeeRange:A,baseFeeTrend:S}=t??{},[P,O]=(0,a.useState)(),{currency:L,numberOfDecimals:D}=(0,d.useUserPreferencedCurrency)(i.PRIMARY),j=(0,r.useSelector)(l.getAdvancedGasFeeValues),I=n!==s.PriorityLevels.custom&&null!=j&&j.maxBaseFee&&T!==s.EditGasModes.swaps?j.maxBaseFee:_,[F,N]=(0,a.useState)(I);(0,a.useEffect)((()=>{N(I)}),[I,N]);const[R]=(0,p.useCurrencyDisplay)((0,y.decGWEIToHexWEI)(F*x),{currency:L,numberOfDecimals:D}),G=(0,a.useCallback)((e=>{N(e)}),[N]);return(0,a.useEffect)((()=>{k(F);const e=((e,t,n)=>{const a=new v.Numeric(e,10);return new v.Numeric(n,10).greaterThan(a)?"editGasMaxBaseFeeGWEIImbalance":null!=t&&t.low&&a.lessThan(t.low.suggestedMaxFeePerGas,10)?"editGasMaxBaseFeeLow":null!=t&&t.high&&a.greaterThan(t.high.suggestedMaxFeePerGas*o.HIGH_FEE_WARNING_MULTIPLIER,10)?"editGasMaxBaseFeeHigh":null})(F,t,E);O(e),M("maxFeePerGas","editGasMaxBaseFeeGWEIImbalance"===e),C(F)}),[F,t,E,O,M,k,C]),a.default.createElement(f.default,{className:"base-fee-input",marginLeft:2,marginRight:2},a.default.createElement(m.default,{dataTestId:"base-fee-input",error:P?e(P):"",onChange:G,titleText:e("maxBaseFee"),titleUnit:`(${e("gwei")})`,tooltipText:e("advancedBaseGasFeeToolTip"),value:F,detailText:`≈ ${R}`,allowDecimals:!0,numeric:!0}),a.default.createElement(h.default,{latest:w,historical:A,trend:S}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/base-fee-input/base-fee-input.js"}],[5258,{"./base-fee-input":5257},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./base-fee-input"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/base-fee-input/index.js"}],[5259,{"./advanced-gas-fee-inputs":5256},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-inputs"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/index.js"}],[526,{"./_version":516,"@ethersproject/hash":458,"@ethersproject/logger":466,"@ethersproject/properties":472},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.Wordlist=n.logger=void 0;var a=e("@ethersproject/hash"),r=e("@ethersproject/properties"),o=e("@ethersproject/logger"),s=e("./_version");n.logger=new o.Logger(s.version);var i=function(){function e(t){var a=this.constructor;n.logger.checkAbstract(a,e),(0,r.defineReadOnly)(this,"locale",t)}return e.prototype.split=function(e){return e.toLowerCase().split(/ +/g)},e.prototype.join=function(e){return e.join(" ")},e.check=function(e){for(var t=[],n=0;n<2048;n++){var r=e.getWord(n);if(n!==e.getWordIndex(r))return"0x";t.push(r)}return(0,a.id)(t.join("\n")+"\n")},e.register=function(e,t){t||(t=e.locale)},e}();n.Wordlist=i}}},{package:"@ethersproject/hdnode>@ethersproject/wordlists",file:"node_modules/@ethersproject/wordlists/lib/wordlist.js"}],[5260,{"./priority-fee-input":5261},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./priority-fee-input"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/priority-fee-input/index.js"}],[5261,{"../../../../../../../shared/constants/gas":4348,"../../../../../../../shared/modules/Numeric":4379,"../../../../../../../shared/modules/conversion.utils":4383,"../../../../../../components/ui/box":4984,"../../../../../../components/ui/form-field":5018,"../../../../../../contexts/gasFee":5115,"../../../../../../helpers/constants/common":5141,"../../../../../../hooks/useCurrencyDisplay":5197,"../../../../../../hooks/useI18nContext":5206,"../../../../../../hooks/useUserPreferencedCurrency":5230,"../../../../../../selectors":5751,"../../../../send/send.constants":5527,"../../advanced-gas-fee-input-subtext":5255,"../../context":5266,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("../../../../send/send.constants"),s=e("../../../../../../../shared/constants/gas"),i=e("../../../../../../helpers/constants/common"),l=e("../../../../../../selectors"),c=e("../../../../../../hooks/useCurrencyDisplay"),u=e("../../../../../../contexts/gasFee"),d=e("../../../../../../hooks/useI18nContext"),p=e("../../../../../../hooks/useUserPreferencedCurrency"),f=b(e("../../../../../../components/ui/form-field")),m=b(e("../../../../../../components/ui/box")),g=e("../../context"),h=b(e("../../advanced-gas-fee-input-subtext")),y=e("../../../../../../../shared/modules/conversion.utils"),v=e("../../../../../../../shared/modules/Numeric");function b(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,d.useI18nContext)(),t=(0,r.useSelector)(l.getAdvancedGasFeeValues),{gasLimit:n,setErrorValue:b,setMaxPriorityFeePerGas:T}=(0,g.useAdvancedGasFeePopoverContext)(),{editGasMode:_,estimateUsed:x,gasFeeEstimates:E,maxPriorityFeePerGas:M}=(0,u.useGasFeeContext)(),k=new v.Numeric(M,10).toString(),{latestPriorityFeeRange:C,historicalPriorityFeeRange:w,priorityFeeTrend:A}=E??{},[S,P]=(0,a.useState)(),O=x!==s.PriorityLevels.custom&&null!=t&&t.priorityFee&&_!==s.EditGasModes.swaps?t.priorityFee:k,[L,D]=(0,a.useState)(O);(0,a.useEffect)((()=>{D(O)}),[O,D]);const{currency:j,numberOfDecimals:I}=(0,p.useUserPreferencedCurrency)(i.PRIMARY),[F]=(0,c.useCurrencyDisplay)((0,y.decGWEIToHexWEI)(L*n),{currency:j,numberOfDecimals:I});return(0,a.useEffect)((()=>{T(L);const e=((e,t)=>{const n=new v.Numeric(e,10);return n.lessThan(0,10)?"editGasMaxPriorityFeeBelowMinimumV2":null!=t&&t.low&&n.lessThan(t.low.suggestedMaxPriorityFeePerGas,10)?"editGasMaxPriorityFeeLowV2":null!=t&&t.high&&n.greaterThan(t.high.suggestedMaxPriorityFeePerGas*o.HIGH_FEE_WARNING_MULTIPLIER,10)?"editGasMaxPriorityFeeHighV2":null})(L,E);b("maxPriorityFeePerGas","editGasMaxPriorityFeeBelowMinimumV2"===e),P(e)}),[E,L,b,T,P]),a.default.createElement(m.default,{marginTop:4,marginLeft:2,marginRight:2,className:"priority-fee-input"},a.default.createElement(f.default,{dataTestId:"priority-fee-input",error:S?e(S):"",onChange:e=>{D(e)},titleText:e("priorityFeeProperCase"),titleUnit:`(${e("gwei")})`,tooltipText:e("advancedPriorityFeeToolTip"),value:L,detailText:`≈ ${F}`,allowDecimals:!0,numeric:!0}),a.default.createElement(h.default,{latest:C,historical:w,trend:A}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-inputs/priority-fee-input/priority-fee-input.js"}],[5262,{"../../../../components/ui/box":4984,"../../../../components/ui/popover":5071,"../../../../contexts/transaction-modal":5121,"../../../../hooks/useI18nContext":5206,"./advanced-gas-fee-defaults":5251,"./advanced-gas-fee-gas-limit":5253,"./advanced-gas-fee-inputs":5259,"./advanced-gas-fee-save":5264,"./context":5266,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("react")),r=e("../../../../hooks/useI18nContext"),o=e("../../../../contexts/transaction-modal"),s=f(e("../../../../components/ui/box")),i=f(e("../../../../components/ui/popover")),l=e("./context"),c=f(e("./advanced-gas-fee-inputs")),u=f(e("./advanced-gas-fee-gas-limit")),d=f(e("./advanced-gas-fee-save")),p=f(e("./advanced-gas-fee-defaults"));function f(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const e=(0,r.useI18nContext)(),{closeAllModals:t,currentModal:n}=(0,o.useTransactionModalContext)();return"advancedGasFee"!==n?null:a.default.createElement(l.AdvancedGasFeePopoverContextProvider,null,a.default.createElement(i.default,{className:"advanced-gas-fee-popover",title:e("advancedGasFeeModalTitle"),onClose:t,footer:a.default.createElement(d.default,null)},a.default.createElement(s.default,{margin:4},a.default.createElement(c.default,null),a.default.createElement(p.default,null),a.default.createElement(u.default,null))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-popover.js"}],[5263,{"../../../../../../shared/constants/gas":4348,"../../../../../../shared/modules/conversion.utils":4383,"../../../../../components/ui/button":4988,"../../../../../contexts/gasFee":5115,"../../../../../contexts/transaction-modal":5121,"../../../../../hooks/useI18nContext":5206,"../../../hooks/useTransactionEventFragment":5484,"../context":5266,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("react")),r=e("../../../../../../shared/constants/gas"),o=e("../../../../../../shared/modules/conversion.utils"),s=e("../../../../../contexts/transaction-modal"),i=e("../../../../../contexts/gasFee"),l=e("../../../hooks/useTransactionEventFragment"),c=e("../../../../../hooks/useI18nContext"),u=p(e("../../../../../components/ui/button")),d=e("../context");function p(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const{closeModal:e}=(0,s.useTransactionModalContext)(),{updateTransactionEventFragment:t}=(0,l.useTransactionEventFragment)(),{updateTransaction:n}=(0,i.useGasFeeContext)(),p=(0,c.useI18nContext)(),{gasLimit:f,hasErrors:m,maxFeePerGas:g,maxPriorityFeePerGas:h}=(0,d.useAdvancedGasFeePopoverContext)();return a.default.createElement(u.default,{type:"primary",disabled:m,onClick:()=>{n({estimateUsed:r.PriorityLevels.custom,maxFeePerGas:(0,o.decGWEIToHexWEI)(g),maxPriorityFeePerGas:(0,o.decGWEIToHexWEI)(h),gasLimit:f}),t({properties:{gas_edit_type:"advanced"}}),e(["advancedGasFee","editGasFee"])}},p("save"))}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-save/advanced-gas-fee-save.js"}],[5264,{"./advanced-gas-fee-save":5263},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-save"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/advanced-gas-fee-save/index.js"}],[5265,{"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AdvancedGasFeePopoverContextProvider=n.AdvancedGasFeePopoverContext=void 0,n.useAdvancedGasFeePopoverContext=function(){return(0,r.useContext)(i)};var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var i=r?Object.getOwnPropertyDescriptor(e,o):null;i&&(i.get||i.set)?Object.defineProperty(a,o,i):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}const i=n.AdvancedGasFeePopoverContext=(0,r.createContext)({}),l=({children:e})=>{const[t,n]=(0,r.useState)(),[a,o]=(0,r.useState)(),[s,l]=(0,r.useState)(),[c,u]=(0,r.useState)({maxFeePerGas:!1,maxPriorityFeePerGas:!1,gasLimit:!1}),d=(0,r.useCallback)(((e,t)=>{c[e]!==t&&u({...c,[e]:t})}),[c,u]),[p,f]=(0,r.useState)();return r.default.createElement(i.Provider,{value:{gasLimit:t,hasErrors:c.maxFeePerGas||c.maxPriorityFeePerGas||c.gasLimit,gasErrors:c,maxFeePerGas:a,maxPriorityFeePerGas:s,setErrorValue:d,maxBaseFee:p,setGasLimit:n,setMaxPriorityFeePerGas:l,setMaxFeePerGas:o,setMaxBaseFee:f}},e)};n.AdvancedGasFeePopoverContextProvider=l,l.propTypes={children:o.default.node.isRequired}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/context/advancedGasFeePopover.js"}],[5266,{"./advancedGasFeePopover":5265},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0});var a=e("./advancedGasFeePopover");Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in n&&n[e]===a[e]||Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}}))}))}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/context/index.js"}],[5267,{"./advanced-gas-fee-popover":5262},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-fee-popover"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-fee-popover/index.js"}],[5268,{"../../../../components/component-library":4775,"../../../../components/ui/tooltip":5103,"../../../../helpers/constants/design-system":5143,classnames:2816,lodash:3638,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=u(e("prop-types")),o=u(e("classnames")),s=e("lodash"),i=u(e("../../../../components/ui/tooltip")),l=e("../../../../components/component-library"),c=e("../../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends a.Component{constructor(e){super(e),p(this,"onChangeGasLimit",(e=>{this.setState({gasLimit:e.target.value}),this.changeGasLimit({target:{value:e.target.value}})})),p(this,"changeGasLimit",(e=>{this.props.updateCustomGasLimit(Number(e.target.value))})),p(this,"onChangeGasPrice",(e=>{this.setState({gasPrice:e.target.value}),this.changeGasPrice({target:{value:e.target.value}})})),p(this,"changeGasPrice",(e=>{this.props.updateCustomGasPrice(Number(e.target.value))})),this.state={gasPrice:this.props.customGasPrice,gasLimit:this.props.customGasLimit},this.changeGasPrice=(0,s.debounce)(this.changeGasPrice,500),this.changeGasLimit=(0,s.debounce)(this.changeGasLimit,500)}componentDidUpdate(e){const{customGasPrice:t,customGasLimit:n}=e,{customGasPrice:a,customGasLimit:r}=this.props,{gasPrice:o,gasLimit:s}=this.state;a!==t&&a!==o&&this.setState({gasPrice:a}),r!==n&&r!==s&&this.setState({gasLimit:r})}gasPriceError({insufficientBalance:e,customPriceIsSafe:t,isSpeedUp:n,gasPrice:a,customPriceIsExcessive:r}){const{t:o}=this.context;return e?{errorText:o("insufficientBalance"),errorType:"error"}:n&&0===a?{errorText:o("zeroGasPriceOnSpeedUpError"),errorType:"error"}:t?r?{errorText:o("gasPriceExcessiveInput"),errorType:"error"}:{}:{errorText:o("gasPriceExtremelyLow"),errorType:"warning"}}gasLimitError({insufficientBalance:e,gasLimit:t,minimumGasLimit:n}){const{t:a}=this.context;return e?{errorText:a("insufficientBalance"),errorType:"error"}:t<n?{errorText:a("gasLimitTooLowWithDynamicFee",[n]),errorType:"error"}:{}}renderGasInput({value:e,onChange:t,errorComponent:n,errorType:r,label:s,testId:u,customMessageComponent:d,tooltipTitle:p,disabled:f}){return a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-row"},a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__label"},s,a.default.createElement(i.default,{title:p,position:"top",arrow:!0},a.default.createElement(l.Icon,{name:l.IconName.Info,color:c.IconColor.iconAlternative,className:"info-circle"}))),a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__input-wrapper"},a.default.createElement("input",{className:(0,o.default)("advanced-gas-inputs__gas-edit-row__input",{"advanced-gas-inputs__gas-edit-row__input--error":"error"===r,"advanced-gas-inputs__gas-edit-row__input--warning":"warning"===r}),type:"number",min:"0",value:e,onChange:t,disabled:f,"data-testid":u}),a.default.createElement("div",{className:(0,o.default)("advanced-gas-inputs__gas-edit-row__input-arrows",{"advanced-gas-inputs__gas-edit-row__input--error":"error"===r,"advanced-gas-inputs__gas-edit-row__input--warning":"warning"===r,"advanced-gas-inputs__gas-edit-row__input-arrows--hidden":f})},a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__input-arrows__i-wrap",onClick:()=>!f&&t({target:{value:e+1}})},a.default.createElement("i",{className:"fa fa-sm fa-angle-up"})),a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__input-arrows__i-wrap",onClick:()=>!f&&t({target:{value:Math.max(e-1,0)}})},a.default.createElement("i",{className:"fa fa-sm fa-angle-down"}))),n||d))}render(){const{insufficientBalance:e,customPriceIsSafe:t,isSpeedUp:n,customGasLimitMessage:r,minimumGasLimit:o,customPriceIsExcessive:s}=this.props,{gasPrice:i,gasLimit:l}=this.state,{errorText:c,errorType:u}=this.gasPriceError({insufficientBalance:e,customPriceIsSafe:t,isSpeedUp:n,gasPrice:i,customPriceIsExcessive:s}),d=u?a.default.createElement("div",{className:`advanced-gas-inputs__gas-edit-row__${u}-text`},c):null,{errorText:p,errorType:f}=this.gasLimitError({insufficientBalance:e,gasLimit:l,minimumGasLimit:o}),m=f?a.default.createElement("div",{className:`advanced-gas-inputs__gas-edit-row__${f}-text`},p):null,g=r?a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-row__custom-text"},r):null;return a.default.createElement("div",{className:"advanced-gas-inputs__gas-edit-rows"},this.renderGasInput({label:this.context.t("gasPrice"),testId:"gas-price",tooltipTitle:this.context.t("gasPriceInfoTooltipContent"),value:this.state.gasPrice,onChange:this.onChangeGasPrice,errorComponent:d,errorType:u}),this.renderGasInput({label:this.context.t("gasLimit"),testId:"gas-limit",tooltipTitle:this.context.t("gasLimitInfoTooltipContent"),value:this.state.gasLimit,onChange:this.onChangeGasLimit,errorComponent:m,customMessageComponent:g,errorType:f}))}}n.default=f,p(f,"contextTypes",{t:r.default.func}),p(f,"propTypes",{updateCustomGasPrice:r.default.func,updateCustomGasLimit:r.default.func,customGasPrice:r.default.number.isRequired,customGasLimit:r.default.number.isRequired,insufficientBalance:r.default.bool,customPriceIsSafe:r.default.bool,isSpeedUp:r.default.bool,customGasLimitMessage:r.default.string,minimumGasLimit:r.default.number,customPriceIsExcessive:r.default.bool}),p(f,"defaultProps",{customPriceIsExcessive:!1})}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-inputs/advanced-gas-inputs.component.js"}],[5269,{"../../../../../shared/modules/conversion.utils":4383,"../../send/send.constants":5527,"./advanced-gas-inputs.component":5268,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("../../send/send.constants"),s=e("../../../../../shared/modules/conversion.utils"),i=(a=e("./advanced-gas-inputs.component"))&&a.__esModule?a:{default:a};function l(e=o.MIN_GAS_LIMIT_DEC){return parseInt(e,10)}n.default=(0,r.connect)(undefined,null,(function(e,t,n){const{customGasPrice:a,customGasLimit:r,updateCustomGasPrice:o,updateCustomGasLimit:i,minimumGasLimit:c}=n;return{...n,...e,...t,customGasPrice:(d=a,Number((0,s.hexWEIToDecGWEI)(d))),customGasLimit:(u=r,parseInt(u,16)||0),minimumGasLimit:l(c),updateCustomGasPrice:e=>o((0,s.decGWEIToHexWEI)(e)),updateCustomGasLimit:e=>i((0,s.decimalToHex)(e))};var u,d}))(i.default)}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-inputs/advanced-gas-inputs.container.js"}],[527,{"./lang-cz":518,"./lang-en":519,"./lang-es":520,"./lang-fr":521,"./lang-it":522,"./lang-ja":523,"./lang-ko":524,"./lang-zh":525},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.wordlists=void 0;var a=e("./lang-cz"),r=e("./lang-en"),o=e("./lang-es"),s=e("./lang-fr"),i=e("./lang-ja"),l=e("./lang-ko"),c=e("./lang-it"),u=e("./lang-zh");n.wordlists={cz:a.langCz,en:r.langEn,es:o.langEs,fr:s.langFr,it:c.langIt,ja:i.langJa,ko:l.langKo,zh:u.langZhCn,zh_cn:u.langZhCn,zh_tw:u.langZhTw}}}},{package:"@ethersproject/hdnode>@ethersproject/wordlists",file:"node_modules/@ethersproject/wordlists/lib/wordlists.js"}],[5270,{"./advanced-gas-inputs.container":5269},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./advanced-gas-inputs.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/advanced-gas-inputs/index.js"}],[5271,{"../../../../../shared/modules/transaction.utils":4405,"../../../../components/component-library":4775,"../../../../components/ui/box/box":4983,"../../../../components/ui/button":4988,"../../../../contexts/i18n":5116,"../../../../helpers/constants/design-system":5143,"../../../../helpers/utils/confirm-tx.util":5168,"../confirm-gas-display":5276,classnames:2816,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=m(e("prop-types")),o=m(e("classnames")),s=m(e("../../../../components/ui/box/box")),i=m(e("../../../../components/ui/button")),l=e("../../../../components/component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../contexts/i18n"),d=e("../confirm-gas-display"),p=e("../../../../helpers/utils/confirm-tx.util"),f=e("../../../../../shared/modules/transaction.utils");function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h({showHeader:e=!0,symbol:t,title:n,showEdit:r,showAdvanceGasFeeOptions:m=!1,onEditClick:g,footer:h,noBorder:y,supportsEIP1559:v,renderTransactionDetailsContent:b,renderDataContent:T,ethTransactionTotal:_,nativeCurrency:x,fiatTransactionTotal:E,currentCurrency:M,isSetApproveForAll:k,isApprovalOrRejection:C,data:w,userAcknowledgedGasMissing:A,renderSimulationFailureWarning:S,useCurrencyRateCheck:P}){const O=(0,a.useContext)(u.I18nContext),L=(0,f.parseStandardTokenTransactionData)(w),D=null==L?void 0:L.name,j=(null==D?void 0:D.charAt(0).toUpperCase())+(null==D?void 0:D.slice(1));return a.default.createElement(s.default,{className:(0,o.default)({"approve-content-card-container__card":!y,"approve-content-card-container__card--no-border":y})},e&&a.default.createElement(s.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.flexEnd,className:"approve-content-card-container__card-header"},v&&n===O("transactionFee")?null:a.default.createElement(a.default.Fragment,null,a.default.createElement(s.default,{className:"approve-content-card-container__card-header__symbol"},t),a.default.createElement(s.default,{marginLeft:4,className:"approve-content-card-container__card-header__title"},a.default.createElement(l.Text,{variant:c.TextVariant.bodySmBold,as:"h6"},n))),r&&(!m||!v)&&a.default.createElement(s.default,{width:c.BlockSize.OneSixth},a.default.createElement(i.default,{type:"link",onClick:()=>g()},a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.primaryDefault,as:"h6"},O("edit"))))),a.default.createElement(s.default,{marginTop:1,marginBottom:3,className:"approve-content-card-container__card-content"},b&&(v&&!S?a.default.createElement(d.ConfirmGasDisplay,{userAcknowledgedGasMissing:A}):a.default.createElement(s.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Row,justifyContent:c.JustifyContent.spaceBetween},a.default.createElement(s.default,null,a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textAlternative,as:"h6"},O("feeAssociatedRequest"))),a.default.createElement(s.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,alignItems:c.AlignItems.flexEnd,textAlign:c.TextAlign.Right},P&&a.default.createElement(s.default,null,a.default.createElement(l.Text,{variant:c.TextVariant.headingSm,fontWeight:c.FontWeight.Bold,color:c.TextColor.textDefault,as:"h4"},(0,p.formatCurrency)(E,M))),a.default.createElement(s.default,null,a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,fontWeight:c.FontWeight.Normal,color:c.TextColor.textMuted,as:"h6"},`${_} ${x}`))))),T&&a.default.createElement(s.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column},a.default.createElement(s.default,null,a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textAlternative,as:"h6"},`${O("function",[j])}`)),k&&C!==undefined?a.default.createElement(s.default,null,a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textAlternative,as:"h6"},`${O("parameters")}: ${C}`)):null,a.default.createElement(s.default,{marginRight:4,className:"approve-content-card-container__data__data-block"},a.default.createElement(l.Text,{variant:c.TextVariant.bodySm,color:c.TextColor.textAlternative,as:"h6"},w)))),h)}h.propTypes={showHeader:r.default.bool,symbol:r.default.node,title:r.default.string,showEdit:r.default.bool,showAdvanceGasFeeOptions:r.default.bool,onEditClick:r.default.func,footer:r.default.node,noBorder:r.default.bool,supportsEIP1559:r.default.bool,renderTransactionDetailsContent:r.default.bool,renderDataContent:r.default.bool,ethTransactionTotal:r.default.string,nativeCurrency:r.default.string,fiatTransactionTotal:r.default.string,currentCurrency:r.default.string,isSetApproveForAll:r.default.bool,isApprovalOrRejection:r.default.bool,data:r.default.string,userAcknowledgedGasMissing:r.default.bool,renderSimulationFailureWarning:r.default.bool,useCurrencyRateCheck:r.default.bool}}}},{package:"$root$",file:"ui/pages/confirmations/components/approve-content-card/approve-content-card.js"}],[5272,{"../../../../components/component-library":4775,"../../../../hooks/useI18nContext":5206,"../../../../selectors":5751,"../../../../store/actions":5759,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BlockaidUnavailableBannerAlert=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("react-redux"),s=e("../../../../components/component-library"),i=e("../../../../hooks/useI18nContext"),l=e("../../../../selectors"),c=e("../../../../store/actions");n.BlockaidUnavailableBannerAlert=()=>{const e=(0,o.useDispatch)(),t=(0,i.useI18nContext)(),n=(0,o.useSelector)(l.getHasMigratedFromOpenSeaToBlockaid),a=(0,o.useSelector)(l.getIsNetworkSupportedByBlockaid),u=(0,o.useSelector)(l.getHasDismissedOpenSeaToBlockaidBanner);return n&&!a&&!u?r.default.createElement(s.BannerAlert,{severity:s.BannerAlertSeverity.Info,title:t("openSeaToBlockaidTitle"),description:t("openSeaToBlockaidDescription"),actionButtonLabel:t("openSeaToBlockaidBtnLabel"),actionButtonProps:{href:"https://snaps.metamask.io/transaction-insights",externalLink:!0},margin:4,onClose:()=>{e((0,c.dismissOpenSeaToBlockaidBanner)())}}):null}}}},{package:"$root$",file:"ui/pages/confirmations/components/blockaid-unavailable-banner-alert/blockaid-unavailable-banner-alert.tsx"}],[5273,{"../../../../ducks/send":5137,"../../../../helpers/utils/transactions.util":5183,"../../../../selectors":5751,"../gas-details-item":5350,"./confirm-legacy-gas-display":5275,"@metamask/transaction-controller":2025,"prop-types":3794,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("react")),r=p(e("prop-types")),o=e("react-redux"),s=e("@metamask/transaction-controller"),i=e("../../../../selectors"),l=e("../../../../helpers/utils/transactions.util"),c=p(e("../gas-details-item")),u=e("../../../../ducks/send"),d=e("./confirm-legacy-gas-display");function p(e){return e&&e.__esModule?e:{default:e}}const f=({userAcknowledgedGasMissing:e=!1})=>{const{txParams:t}=(0,o.useSelector)((e=>(0,i.txDataSelector)(e))),n=(0,o.useSelector)(u.getCurrentDraftTransaction),r=null==n?void 0:n.transactionType;let p;p=r?r===s.TransactionEnvelopeType.legacy:(0,l.isLegacyTransaction)(t);const f="confirm-gas-display";return(0,o.useSelector)(i.checkNetworkAndAccountSupports1559)&&!p?a.default.createElement(c.default,{"data-testid":f,userAcknowledgedGasMissing:e}):a.default.createElement(d.ConfirmLegacyGasDisplay,{"data-testid":f})};f.propTypes={userAcknowledgedGasMissing:r.default.bool};n.default=f}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-gas-display/confirm-gas-display.js"}],[5274,{"../../../../../../shared/modules/conversion.utils":4383,"../../../../../components/app/user-preferenced-currency-display":4694,"../../../../../components/component-library":4775,"../../../../../components/ui/info-tooltip":5037,"../../../../../components/ui/loading-heartbeat":5042,"../../../../../helpers/constants/common":5141,"../../../../../helpers/constants/design-system":5143,"../../../../../hooks/useI18nContext":5206,"../../../../../selectors":5751,"../../../hooks/useDraftTransactionWithTxParams":5472,"../../transaction-detail-item":5413,"prop-types":3794,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=y(e("react")),r=y(e("prop-types")),o=e("react-redux"),s=e("../../../../../hooks/useI18nContext"),i=e("../../../../../selectors"),l=e("../../../../../helpers/constants/common"),c=y(e("../../transaction-detail-item")),u=y(e("../../../../../components/app/user-preferenced-currency-display")),d=y(e("../../../../../components/ui/info-tooltip")),p=y(e("../../../../../components/ui/loading-heartbeat")),f=e("../../../../../helpers/constants/design-system"),m=e("../../../hooks/useDraftTransactionWithTxParams"),g=e("../../../../../components/component-library"),h=e("../../../../../../shared/modules/conversion.utils");function y(e){return e&&e.__esModule?e:{default:e}}const v=()=>a.default.createElement(p.default,null),b=({"data-testid":e}={})=>{const t=(0,s.useI18nContext)(),n=(0,o.useSelector)(i.getIsMainnet),r=(0,o.useSelector)(i.getUseCurrencyRateCheck),{useNativeCurrencyAsPrimaryCurrency:p}=(0,o.useSelector)(i.getPreferences),y=(0,o.useSelector)(i.getUnapprovedTransactions),b=(0,m.useDraftTransactionWithTxParams)(),T=(0,o.useSelector)((e=>(0,i.txDataSelector)(e))),{id:_,dappSuggestedGasFees:x,layer1GasFee:E}=T,M=Object.keys(b).length?b:y[_]||{},{hexMinimumTransactionFee:k,hexMaximumTransactionFee:C}=(0,o.useSelector)((e=>(0,i.transactionFeeSelector)(e,M))),w=(0,h.addHexes)(k,E??"0x0"),A=(0,h.addHexes)(C,E??"0x0");return a.default.createElement(c.default,{key:"legacy-gas-details","data-testid":e,detailTitle:x?a.default.createElement(a.default.Fragment,null,t("transactionDetailGasHeading"),a.default.createElement(d.default,{contentText:t("transactionDetailDappGasTooltip"),position:"top"},a.default.createElement(g.Icon,{name:g.IconName.Info}))):a.default.createElement(a.default.Fragment,null,t("transactionDetailGasHeading"),a.default.createElement(d.default,{contentText:a.default.createElement(a.default.Fragment,null,a.default.createElement("p",null,t("transactionDetailGasTooltipIntro",[n?t("networkNameEthereum"):""])),a.default.createElement("p",null,t("transactionDetailGasTooltipExplanation")),a.default.createElement("p",null,a.default.createElement("a",{href:"https://community.metamask.io/t/what-is-gas-why-do-transactions-take-so-long/3172",target:"_blank",rel:"noopener noreferrer"},t("transactionDetailGasTooltipConversion")))),position:"top"},a.default.createElement(g.Icon,{name:g.IconName.Info}))),detailText:r&&a.default.createElement("div",null,v(),a.default.createElement(u.default,{type:l.SECONDARY,value:w,hideLabel:Boolean(p)})),detailTotal:a.default.createElement("div",null,v(),a.default.createElement(u.default,{type:l.PRIMARY,value:w,hideLabel:!p,numberOfDecimals:6})),subText:a.default.createElement(a.default.Fragment,null,a.default.createElement("strong",{key:"editGasSubTextFeeLabel"},t("editGasSubTextFeeLabel")),a.default.createElement("div",{key:"editGasSubTextFeeValue"},v(),a.default.createElement(u.default,{key:"editGasSubTextFeeAmount",type:l.PRIMARY,value:A,hideLabel:!p}))),subTitle:a.default.createElement(a.default.Fragment,null,x&&a.default.createElement(g.Text,{variant:f.TextVariant.bodySm,fontStyle:f.FONT_STYLE.ITALIC,color:f.TextColor.textAlternative,as:"h6"},t("transactionDetailDappGasMoreInfo")))})};b.propTypes={"data-testid":r.default.string};n.default=b}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-gas-display/confirm-legacy-gas-display/confirm-legacy-gas-display.js"}],[5275,{"./confirm-legacy-gas-display":5274},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmLegacyGasDisplay",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-legacy-gas-display"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-gas-display/confirm-legacy-gas-display/index.js"}],[5276,{"./confirm-gas-display":5273},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmGasDisplay",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-gas-display"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-gas-display/index.js"}],[5277,{"../../../../../shared/modules/buffer-utils":4381,"../../../../components/component-library":4775,"../../../../components/ui/box":4984,"../../../../helpers/constants/design-system":5143,"../../../../hooks/useI18nContext":5206,"../../../../selectors":5751,"../../hooks/useTransactionFunctionType":5485,"../transaction-decoding/components/ui/copy-raw-data":5412,"prop-types":3794,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=m(e("react")),r=m(e("prop-types")),o=e("react-redux"),s=e("../../../../../shared/modules/buffer-utils"),i=e("../../../../selectors"),l=e("../../../../hooks/useI18nContext"),c=e("../../hooks/useTransactionFunctionType"),u=e("../../../../helpers/constants/design-system"),d=m(e("../../../../components/ui/box")),p=e("../../../../components/component-library"),f=m(e("../transaction-decoding/components/ui/copy-raw-data"));function m(e){return e&&e.__esModule?e:{default:e}}const g=({txData:e,dataHexComponent:t})=>{const n=(0,l.useI18nContext)(),{txParams:r={}}=e,m=(0,o.useSelector)((e=>(0,i.getKnownMethodData)(e,r.data)||{})),{functionType:g}=(0,c.useTransactionFunctionType)(e);if(t)return t;if(!r.data||!r.to)return null;const{params:h}=m,y=null!=h&&h.length?`(${h.map((({type:e})=>e)).join(", ")})`:"";return a.default.createElement(d.default,{padding:4},a.default.createElement(d.default,{paddingBottom:3,paddingTop:2},a.default.createElement(p.Text,{as:"span",textTransform:u.TextTransform.Uppercase,variant:u.TextVariant.bodySm},`${n("functionType")}:`),a.default.createElement(p.Text,{as:"span",color:u.Color.textDefault,paddingLeft:1,textTransform:u.TextTransform.Capitalize,variant:u.TextVariant.bodySmBold},`${g} ${y}`)),h&&a.default.createElement(d.default,{backgroundColor:u.Color.backgroundAlternative,padding:4},a.default.createElement(p.Text,{as:"h3",paddingBottom:3,paddingTop:2,textTransform:u.TextTransform.Uppercase,variant:u.TextVariant.bodySm},`${n("parameters")}:`),a.default.createElement(p.Text,{overflowWrap:u.OverflowWrap.BreakWord,variant:u.TextVariant.bodySm},a.default.createElement("pre",null,JSON.stringify(h,null,2)))),a.default.createElement(p.Text,{as:"h3",paddingBottom:3,paddingTop:2,textTransform:u.TextTransform.Uppercase,variant:u.TextVariant.bodySm},`${n("hexData")}: ${(0,s.toBuffer)(null==r?void 0:r.data).length} bytes`),a.default.createElement(p.Text,{backgroundColor:u.Color.backgroundAlternative,overflowWrap:u.OverflowWrap.BreakWord,padding:4,variant:u.TextVariant.bodySm},null==r?void 0:r.data),a.default.createElement(f.default,{data:null==r?void 0:r.data}))};g.propTypes={txData:r.default.object,dataHexComponent:r.default.element};n.default=g}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-hexdata/confirm-hexdata.js"}],[5278,{"./confirm-hexdata":5277},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmHexData",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-hexdata"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-hexdata/index.js"}],[5279,{"../../../../../components/app/user-preferenced-currency-display":4694,"../../../../../helpers/constants/common":5141,classnames:2816,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=l(e("prop-types")),o=l(e("classnames")),s=l(e("../../../../../components/app/user-preferenced-currency-display")),i=e("../../../../../helpers/constants/common");function l(e){return e&&e.__esModule?e:{default:e}}const c=e=>{const{label:t,primaryText:n,secondaryText:r,onHeaderClick:l,primaryValueTextColor:c,headerText:u,headerTextClassName:d,value:p}=e;return a.default.createElement("div",{className:"confirm-detail-row"},a.default.createElement("div",{className:"confirm-detail-row__label"},t),a.default.createElement("div",{className:"confirm-detail-row__details"},u&&a.default.createElement("div",{className:(0,o.default)("confirm-detail-row__header-text",d),onClick:()=>null==l?void 0:l()},u),n?a.default.createElement("div",{className:"confirm-detail-row__primary",style:{color:c}},n):a.default.createElement(s.default,{className:"confirm-detail-row__primary",type:i.PRIMARY,value:p,showEthLogo:!0,ethLogoHeight:18,style:{color:c},hideLabel:!0}),r?a.default.createElement("div",{className:"confirm-detail-row__secondary"},r):a.default.createElement(s.default,{className:"confirm-detail-row__secondary",type:i.SECONDARY,value:p,showEthLogo:!0,hideLabel:!0})))};c.propTypes={headerText:r.default.string,headerTextClassName:r.default.string,label:r.default.string,onHeaderClick:r.default.func,primaryValueTextColor:r.default.string,primaryText:r.default.oneOfType([r.default.string,r.default.node]),secondaryText:r.default.string,value:r.default.string};n.default=c}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-detail-row/confirm-detail-row.component.js"}],[5280,{"./confirm-detail-row.component":5279},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-detail-row.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-detail-row/index.js"}],[5281,{".":5286,"../../../../../../shared/constants/security-provider":4361,"../../../../../components/component-library":4775,"../../../../../components/ui/page-container":5064,"../../../../../components/ui/tabs":5086,"../../../../../helpers/constants/design-system":5143,"../../../../../helpers/constants/error-keys":5144,classnames:2816,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=f(e("prop-types")),o=f(e("classnames")),s=e("../../../../../components/ui/tabs"),i=e("../../../../../components/component-library"),l=e("../../../../../components/ui/page-container"),c=e("../../../../../helpers/constants/error-keys"),u=e("../../../../../helpers/constants/design-system"),d=e("../../../../../../shared/constants/security-provider"),p=e(".");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h extends a.Component{renderContent(){const{detailsComponent:e,dataHexComponent:t,insightComponent:n}=this.props;return n&&(e||t)||e&&t?this.renderTabs():e||n}renderTabs(){const{t:e}=this.context,{detailsComponent:t,dataHexComponent:n,insightComponent:r}=this.props;return a.default.createElement(s.Tabs,{defaultActiveTabKey:"details"},a.default.createElement(s.Tab,{className:"confirm-page-container-content__tab",name:e("details"),tabKey:"details"},t),n&&a.default.createElement(s.Tab,{className:"confirm-page-container-content__tab",name:e("dataHex"),tabKey:"dataHex"},n),r)}render(){var e;const{action:t,errorKey:n,errorMessage:r,image:s,titleComponent:f,subtitleComponent:m,tokenAddress:g,nonce:h,detailsComponent:y,warning:v,onCancelAll:b,onCancel:T,cancelText:_,onSubmit:x,submitText:E,disabled:M,unapprovedTxCount:k,rejectNText:C,origin:w,ethGasPriceWarning:A,supportsEIP1559:S,hasTopBorder:P,nativeCurrency:O,networkName:L,toAddress:D,transactionType:j,isBuyableChain:I,openBuyCryptoInPdapp:F,txData:N}=this.props,{t:R}=this.context,G=(n||r)&&n===c.INSUFFICIENT_FUNDS_ERROR_KEY,J=n===c.IS_SIGNING_OR_SUBMITTING,B=n===c.USER_OP_CONTRACT_DEPLOY_ERROR_KEY,H=(null==N||null===(e=N.securityAlertResponse)||void 0===e?void 0:e.result_type)===d.BlockaidResultType.Malicious?"danger-primary":"primary";return a.default.createElement("div",{className:(0,o.default)("confirm-page-container-content",{"confirm-page-container-content--with-top-border":P})},v?a.default.createElement(p.ConfirmPageContainerWarning,{warning:v}):null,A&&a.default.createElement(p.ConfirmPageContainerWarning,{warning:A}),a.default.createElement(p.ConfirmPageContainerSummary,{className:(0,o.default)({"confirm-page-container-summary--border":!y}),action:t,image:s,titleComponent:f,subtitleComponent:m,tokenAddress:g,nonce:h,origin:w,toAddress:D,transactionType:j}),this.renderContent(),!S&&!G&&!J&&!B&&(n||r)&&a.default.createElement(i.BannerAlert,{severity:u.Severity.Danger,description:n?R(n):r,marginBottom:4,marginLeft:4,marginRight:4}),G&&a.default.createElement(i.BannerAlert,{severity:u.Severity.Danger,marginBottom:4,marginLeft:4,marginRight:4,description:I?R("insufficientCurrencyBuyOrDeposit",[O,L,a.default.createElement(i.Button,{variant:i.BUTTON_VARIANT.LINK,size:i.BUTTON_SIZES.INHERIT,onClick:F,key:`${O}-buy-button`},R("buyAsset",[O]))]):R("insufficientCurrencyDeposit",[O,L])}),(J||B)&&a.default.createElement(i.BannerAlert,{"data-testid":"confirm-page-container-content-error-banner-2",severity:u.Severity.Danger,description:R(n),marginBottom:4,marginLeft:4,marginRight:4}),a.default.createElement(l.PageContainerFooter,{onCancel:T,cancelText:_,onSubmit:x,submitText:E,disabled:M,submitButtonType:H},k>1?a.default.createElement("a",{onClick:b},C):null))}}n.default=h,g(h,"contextTypes",{t:r.default.func.isRequired}),g(h,"propTypes",{action:r.default.string,dataHexComponent:r.default.node,detailsComponent:r.default.node,insightComponent:r.default.node,errorKey:r.default.string,errorMessage:r.default.string,tokenAddress:r.default.string,nonce:r.default.string,subtitleComponent:r.default.node,image:r.default.string,titleComponent:r.default.node,warning:r.default.string,origin:r.default.string.isRequired,ethGasPriceWarning:r.default.string,onCancelAll:r.default.func,onCancel:r.default.func,cancelText:r.default.string,onSubmit:r.default.func,submitText:r.default.string,disabled:r.default.bool,unapprovedTxCount:r.default.number,rejectNText:r.default.string,supportsEIP1559:r.default.bool,hasTopBorder:r.default.bool,nativeCurrency:r.default.string,networkName:r.default.string,toAddress:r.default.string,transactionType:r.default.string,isBuyableChain:r.default.bool,openBuyCryptoInPdapp:r.default.func,txData:r.default.object})}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-content/confirm-page-container-content.component.js"}],[5282,{"../../../../../../../shared/constants/app":4343,"../../../../../../../shared/modules/hexstring-utils":4390,"../../../../../../components/app/modals/nickname-popovers":4517,"../../../../../../components/ui/identicon":5036,"../../../../../../components/ui/info-tooltip":5037,"../../../../../../components/ui/site-origin":5082,"../../../../../../helpers/utils/util":5185,"../../../../../../hooks/useAddressDetails":5194,"../../../../../../hooks/useI18nContext":5206,"../../../../../../selectors":5751,"@metamask/transaction-controller":2025,classnames:2816,"prop-types":3794,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=v(e("prop-types")),s=v(e("classnames")),i=e("@metamask/transaction-controller"),l=e("../../../../../../../shared/modules/hexstring-utils"),c=e("../../../../../../hooks/useI18nContext"),u=v(e("../../../../../../hooks/useAddressDetails")),d=e("../../../../../../selectors"),p=v(e("../../../../../../components/ui/identicon")),f=v(e("../../../../../../components/ui/info-tooltip")),m=v(e("../../../../../../components/app/modals/nickname-popovers")),g=e("../../../../../../../shared/constants/app"),h=v(e("../../../../../../components/ui/site-origin")),y=e("../../../../../../helpers/utils/util");function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const T=e=>{const{action:t,titleComponent:n,subtitleComponent:o,className:v,tokenAddress:b,nonce:T,origin:_,image:x,transactionType:E}=e,[M,k]=(0,a.useState)(!1),C=(0,c.useI18nContext)(),w=(0,r.useSelector)(d.getIpfsGateway),A=(0,r.useSelector)(d.txDataSelector),{txParams:S={}}=A,{to:P}=S,O=[i.TransactionType.contractInteraction,i.TransactionType.tokenMethodTransfer,i.TransactionType.tokenMethodTransferFrom,i.TransactionType.tokenMethodSafeTransferFrom].includes(E);let L;O&&(L=E===i.TransactionType.tokenMethodTransfer||E===i.TransactionType.tokenMethodTransferFrom||E===i.TransactionType.tokenMethodSafeTransferFrom||E===i.TransactionType.tokenMethodSetApprovalForAll?b:P);const{toName:D,isTrusted:j}=(0,u.default)(L),I=(0,l.toChecksumHexAddress)(L);return a.default.createElement("div",{className:(0,s.default)("confirm-page-container-summary",v)},_===g.ORIGIN_METAMASK?null:a.default.createElement(h.default,{className:"confirm-page-container-summary__origin",siteOrigin:_}),a.default.createElement("div",{className:"confirm-page-container-summary__action-row"},a.default.createElement("div",{className:"confirm-page-container-summary__action"},O&&D&&a.default.createElement("span",{className:"confirm-page-container-summary__action__contract-address"},a.default.createElement("button",{className:"confirm-page-container-summary__action__contract-address-btn",onClick:()=>k(!0),role:"button"},D),":"),a.default.createElement("span",{className:"confirm-page-container-summary__action__name"},t),O&&!1===j&&a.default.createElement(f.default,{position:"top",contentText:C("unverifiedContractAddressMessage")})),T&&a.default.createElement("div",{className:"confirm-page-container-summary__nonce"},`#${T}`)),a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"confirm-page-container-summary__title"},(()=>{const e=(0,y.getAssetImageURL)(x,w);return x?a.default.createElement("img",{className:"confirm-page-container-summary__icon",width:36,src:e}):L?a.default.createElement(p.default,{className:"confirm-page-container-summary__icon",diameter:36,address:L}):null})(),n),o),M&&a.default.createElement(m.default,{onClose:()=>k(!1),address:I}))};T.propTypes={action:o.default.string,image:o.default.string,titleComponent:o.default.node,subtitleComponent:o.default.node,className:o.default.string,tokenAddress:o.default.string,nonce:o.default.string,origin:o.default.string.isRequired,transactionType:o.default.string};n.default=T}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-content/confirm-page-container-summary/confirm-page-container-summary.component.js"}],[5283,{"./confirm-page-container-summary.component":5282},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-page-container-summary.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-content/confirm-page-container-summary/index.js"}],[5284,{"../../../../../../components/component-library":4775,"../../../../../../helpers/constants/design-system":5143,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("react")),r=i(e("prop-types")),o=e("../../../../../../components/component-library"),s=e("../../../../../../helpers/constants/design-system");function i(e){return e&&e.__esModule?e:{default:e}}const l=e=>a.default.createElement("div",{className:"confirm-page-container-warning"},a.default.createElement(o.Icon,{name:o.IconName.Info,color:s.IconColor.warningDefault,className:"confirm-page-container-warning__icon"}),a.default.createElement("div",{className:"confirm-page-container-warning__warning"},e.warning));l.propTypes={warning:r.default.string};n.default=l}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-content/confirm-page-container-warning/confirm-page-container-warning.component.js"}],[5285,{"./confirm-page-container-warning.component":5284},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-page-container-warning.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-content/confirm-page-container-warning/index.js"}],[5286,{"./confirm-page-container-content.component":5281,"./confirm-page-container-summary":5283,"./confirm-page-container-warning":5285},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmPageContainerSummary",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"ConfirmPageContainerWarning",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var a=s(e("./confirm-page-container-content.component")),r=s(e("./confirm-page-container-summary")),o=s(e("./confirm-page-container-warning"));function s(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-content/index.js"}],[5287,{"../../../../../../app/scripts/lib/util":97,"../../../../../../shared/constants/app":4343,"../../../../../components/app/network-display":4538,"../../../../../components/component-library":4775,"../../../../../components/ui/account-mismatch-warning/account-mismatch-warning.component":4979,"../../../../../components/ui/identicon":5036,"../../../../../helpers/utils/util":5185,"../../../../../hooks/useI18nContext":5206,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=m;var a=f(e("react")),r=f(e("prop-types")),o=e("../../../../../../shared/constants/app"),s=e("../../../../../../app/scripts/lib/util"),i=f(e("../../../../../components/app/network-display")),l=f(e("../../../../../components/ui/identicon")),c=e("../../../../../helpers/utils/util"),u=f(e("../../../../../components/ui/account-mismatch-warning/account-mismatch-warning.component")),d=e("../../../../../hooks/useI18nContext"),p=e("../../../../../components/component-library");function f(e){return e&&e.__esModule?e:{default:e}}function m({onEdit:e,showEdit:t,accountAddress:n,showAccountInHeader:r,children:f,origin:m}){const g=(0,d.useI18nContext)(),h=(0,s.getEnvironmentType)(),y=h!==o.ENVIRONMENT_TYPE_NOTIFICATION&&h!==o.ENVIRONMENT_TYPE_POPUP;return!t&&y?f:a.default.createElement("div",{className:"confirm-page-container-header","data-testid":"header-container"},a.default.createElement("div",{className:"confirm-page-container-header__row"},r?a.default.createElement("div",{className:"confirm-page-container-header__address-container"},a.default.createElement("div",{className:"confirm-page-container-header__address-identicon"},a.default.createElement(l.default,{address:n,diameter:24})),a.default.createElement("div",{className:"confirm-page-container-header__address","data-testid":"header-address"},(0,c.shortenAddress)(n)),a.default.createElement(u.default,{address:n})):m===o.ORIGIN_METAMASK&&a.default.createElement("div",{className:"confirm-page-container-header__back-button-container",style:{visibility:t?"initial":"hidden"}},a.default.createElement(p.Icon,{name:p.IconName.ArrowLeft}),a.default.createElement("span",{"data-testid":"confirm-page-back-edit-button",className:"confirm-page-container-header__back-button",onClick:()=>e()},g("edit"))),y?null:a.default.createElement(i.default,null)),f)}m.propTypes={accountAddress:r.default.string,showAccountInHeader:r.default.bool,showEdit:r.default.bool,onEdit:r.default.func,children:r.default.node,origin:r.default.string}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-header/confirm-page-container-header.component.js"}],[5288,{"./confirm-page-container-header.component":5287},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-page-container-header.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-header/index.js"}],[5289,{"../../../../../contexts/i18n":5116,"../../../../../ducks/confirm-transaction/confirm-transaction.duck":5127,"../../../../../helpers/constants/routes":5148,"../../../../../selectors":5751,react:4037,"react-redux":4002,"react-router-dom":4022},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("react-router-dom"),s=e("../../../../../selectors"),i=e("../../../../../contexts/i18n"),l=e("../../../../../helpers/constants/routes"),c=e("../../../../../ducks/confirm-transaction/confirm-transaction.duck");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,a.useContext)(i.I18nContext),t=(0,r.useDispatch)(),n=(0,o.useHistory)(),{id:u}=(0,o.useParams)(),d=(0,r.useSelector)(s.unapprovedDecryptMsgsSelector),p=(0,r.useSelector)(s.unapprovedEncryptionPublicKeyMsgsSelector),f=(0,r.useSelector)(s.unconfirmedTransactionsListSelector)??[],m=[...Object.keys(d||{}),...Object.keys(p||{})],g=f.map((e=>e.id)).filter((e=>!1===m.includes(e))),h=g.indexOf(u),y=g.length,v=h+1,b=g[h+1],T=g[h-1],_=g.length>1,x=g[0],E=g[g.length-1],M=e=>{if(e){var a;t((0,c.clearConfirmTransaction)());const r=g.indexOf(e);n.push(null!==(a=f[r])&&void 0!==a&&a.msgParams?`${l.CONFIRM_TRANSACTION_ROUTE}/${e}${l.SIGNATURE_REQUEST_PATH}`:`${l.CONFIRM_TRANSACTION_ROUTE}/${e}`)}};return a.default.createElement("div",{className:"confirm-page-container-navigation",style:{display:_?"flex":"none"}},a.default.createElement("div",{className:"confirm-page-container-navigation__container","data-testid":"navigation-container",style:{visibility:T?"initial":"hidden"}},a.default.createElement("button",{className:"confirm-page-container-navigation__arrow","data-testid":"first-page",onClick:()=>M(x)},a.default.createElement("i",{className:"fa fa-angle-double-left fa-2x"})),a.default.createElement("button",{className:"confirm-page-container-navigation__arrow","data-testid":"previous-page",onClick:()=>M(T)},a.default.createElement("i",{className:"fa fa-angle-left fa-2x"}))),a.default.createElement("div",{className:"confirm-page-container-navigation__textcontainer"},a.default.createElement("div",{className:"confirm-page-container-navigation__navtext"},v," ",e("ofTextNofM")," ",y),a.default.createElement("div",{className:"confirm-page-container-navigation__longtext"},e("requestsAwaitingAcknowledgement"))),a.default.createElement("div",{className:"confirm-page-container-navigation__container",style:{visibility:b?"initial":"hidden"}},a.default.createElement("button",{className:"confirm-page-container-navigation__arrow","data-testid":"next-page",onClick:()=>M(b)},a.default.createElement("i",{className:"fa fa-angle-right fa-2x"})),a.default.createElement("button",{className:"confirm-page-container-navigation__arrow","data-testid":"last-page",onClick:()=>M(E)},a.default.createElement("i",{className:"fa fa-angle-double-right fa-2x"}))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-navigation/confirm-page-container-navigation.component.js"}],[5290,{"./confirm-page-container-navigation.component":5289},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-page-container-navigation.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container-navigation/index.js"}],[5291,{".":5292,"../../../../../shared/constants/gas":4348,"../../../../../shared/constants/metametrics":4353,"../../../../../shared/constants/network":4355,"../../../../../shared/constants/security-provider":4361,"../../../../../shared/constants/transaction":4368,"../../../../../shared/lib/token-util":4376,"../../../../components/app/network-account-balance-header/network-account-balance-header":4537,"../../../../components/app/snaps/insight-warnings":4584,"../../../../components/component-library":4775,"../../../../components/ui/actionable-message/actionable-message":4980,"../../../../components/ui/button":4988,"../../../../components/ui/error-message":5013,"../../../../components/ui/page-container":5064,"../../../../components/ui/sender-to-recipient":5077,"../../../../contexts/gasFee":5115,"../../../../contexts/metametrics":5117,"../../../../helpers/constants/design-system":5143,"../../../../helpers/constants/error-keys":5144,"../../../../hooks/experiences/useRamps":5188,"../../../../hooks/useI18nContext":5206,"../../../../hooks/useTransactionInsights":5229,"../../../../selectors":5751,"../advanced-gas-fee-popover":5267,"../edit-gas-fee-popover/edit-gas-fee-popover":5334,"../edit-gas-popover":5347,"../set-approval-for-all-warning":5363,"@metamask/transaction-controller":2025,"prop-types":3794,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=j(e("prop-types")),o=e("react-redux"),s=e("@metamask/transaction-controller"),i=e("../../../../../shared/constants/gas"),l=e("../../../../contexts/gasFee"),c=e("../../../../../shared/constants/transaction"),u=e("../../../../../shared/constants/network"),d=e("../../../../components/ui/page-container"),p=j(e("../../../../components/ui/button")),f=j(e("../../../../components/ui/actionable-message/actionable-message")),m=j(e("../../../../components/ui/sender-to-recipient")),g=e("../../../../../shared/lib/token-util"),h=j(e("../advanced-gas-fee-popover")),y=j(e("../edit-gas-fee-popover/edit-gas-fee-popover")),v=j(e("../edit-gas-popover")),b=j(e("../../../../components/ui/error-message")),T=e("../../../../helpers/constants/error-keys"),_=e("../../../../components/component-library"),x=e("../../../../helpers/constants/design-system"),E=j(e("../../../../components/app/network-account-balance-header/network-account-balance-header")),M=j(e("../set-approval-for-all-warning")),k=e("../../../../hooks/useI18nContext"),C=j(e("../../../../hooks/useTransactionInsights")),w=j(e("../../../../components/app/snaps/insight-warnings")),A=e("../../../../selectors"),S=j(e("../../../../hooks/experiences/useRamps")),P=e("../../../../contexts/metametrics"),O=e("../../../../../shared/constants/metametrics"),L=e("../../../../../shared/constants/security-provider"),D=e(".");function j(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}const F=e=>{var t;const{showEdit:n,onEdit:r,fromName:j,fromAddress:I,toEns:F,toNickname:N,toAddress:R,disabled:G,errorKey:J,errorMessage:B,contentComponent:H,action:X,title:U,image:W,titleComponent:$,subtitleComponent:q,detailsComponent:Z,dataHexComponent:V,onCancelAll:Y,onCancel:z,onSubmit:Q,onSetApprovalForAll:K,showWarningModal:ee,tokenAddress:te,nonce:ne,unapprovedTxCount:ae,warning:re,hideSenderToRecipient:oe,showAccountInHeader:se,origin:ie,ethGasPriceWarning:le,editingGas:ce,handleCloseEditGas:ue,currentTransaction:de,supportsEIP1559:pe,nativeCurrency:fe,txData:me,assetStandard:ge,isApprovalOrRejection:he,displayAccountBalanceHeader:ye}=e,ve=(0,k.useI18nContext)(),be=(0,a.useContext)(P.MetaMetricsContext),[Te,_e]=(0,a.useState)("0"),[xe,Ee]=(0,a.useState)(!1),Me=(0,o.useSelector)(A.getIsBuyableChain),ke=(0,o.useSelector)((e=>(0,A.getAddressBookEntry)(e,R))),Ce=(0,o.useSelector)(A.getNetworkIdentifier),we=(0,o.useSelector)(A.getSwapsDefaultToken).string,Ae=(0,o.useSelector)(A.getInternalAccounts),Se=(0,A.getAccountName)(Ae,R),Pe=Se||(null==ke?void 0:ke.name),Oe=Boolean(Se),Le=(0,o.useSelector)((e=>(0,A.getMetadataContractName)(e,R))),{openBuyCryptoInPdapp:De}=(0,S.default)(),je=de.type===s.TransactionType.tokenMethodSetApprovalForAll,Ie=H&&G&&(J||B),Fe=u.NETWORK_TO_NAME_MAP[de.chainId]||Ce,Ne=(0,a.useCallback)((async()=>{const e=await(0,g.fetchTokenBalance)(te,I,global.ethereumProvider);_e(e.toString()||"0")}),[I,te]),Re=(0,C.default)({txData:me}),Ge=null==Re?void 0:Re.insightComponent,Je=()=>je&&he?K():Q(),Be=()=>{var e;return(null==Re||null===(e=Re.warnings)||void 0===e?void 0:e.length)>0?Ee(!0):Je()};(0,a.useEffect)((()=>{je&&ge===c.TokenStandard.ERC721&&Ne()}),[de,ge,je,Ne,Te]);const He=(null===(t=me.securityAlertResponse)||void 0===t?void 0:t.result_type)===L.BlockaidResultType.Malicious;return a.default.createElement(l.GasFeeContextProvider,{transaction:de},a.default.createElement("div",{className:"page-container","data-testid":"page-container"},a.default.createElement(D.ConfirmPageContainerNavigation,null),ye?a.default.createElement(E.default,{accountName:j,accountBalance:we,tokenName:fe,accountAddress:I,networkName:Fe,chainId:de.chainId}):a.default.createElement(D.ConfirmPageContainerHeader,{showEdit:n,onEdit:()=>r(),showAccountInHeader:se,accountAddress:I,origin:ie},oe?null:a.default.createElement(m.default,{senderName:j,senderAddress:I,recipientName:Pe,recipientMetadataName:Le,recipientAddress:R,recipientEns:F,recipientNickname:N,recipientIsOwnedAccount:Oe})),H||a.default.createElement(D.ConfirmPageContainerContent,{action:X,title:U,image:W,titleComponent:$,subtitleComponent:q,detailsComponent:Z,dataHexComponent:V,insightComponent:Ge,errorMessage:B,errorKey:J,tokenAddress:te,nonce:ne,warning:re,onCancelAll:Y,onCancel:z,cancelText:ve("reject"),onSubmit:Be,submitText:ve("confirm"),disabled:G,unapprovedTxCount:ae,rejectNText:ve("rejectTxsN",[ae]),origin:ie,ethGasPriceWarning:le,supportsEIP1559:pe,currentTransaction:de,nativeCurrency:fe,networkName:Fe,toAddress:R,transactionType:de.type,isBuyableChain:Me,openBuyCryptoInPdapp:De,txData:me}),Ie&&J===T.INSUFFICIENT_FUNDS_ERROR_KEY&&a.default.createElement("div",{className:"confirm-approve-content__warning"},a.default.createElement(f.default,{message:Me?a.default.createElement(_.Text,{variant:x.TextVariant.bodySm,textAlign:x.TextAlign.Left,as:"h6"},ve("insufficientCurrencyBuyOrDeposit",[fe,Fe,a.default.createElement(p.default,{type:"inline",className:"confirm-page-container-content__link",onClick:()=>{De(),be({event:O.MetaMetricsEventName.NavBuyButtonClicked,category:O.MetaMetricsEventCategory.Navigation,properties:{location:"Transaction Confirmation",text:"Buy"}})},key:`${fe}-buy-button`},ve("buyAsset",[fe]))])):a.default.createElement(_.Text,{variant:x.TextVariant.bodySm,textAlign:x.TextAlign.Left,as:"h6"},ve("insufficientCurrencyDeposit",[fe,Fe])),useIcon:!0,iconFillColor:"var(--color-error-default)",type:"danger"})),Ie&&J!==T.INSUFFICIENT_FUNDS_ERROR_KEY&&a.default.createElement("div",{className:"confirm-approve-content__warning"},a.default.createElement(b.default,{errorKey:J})),ee&&a.default.createElement(M.default,{collectionName:U,senderAddress:I,name:j,isERC721:ge===c.TokenStandard.ERC721,total:Te,onSubmit:Q,onCancel:z}),H&&a.default.createElement(d.PageContainerFooter,{onCancel:z,cancelText:ve("reject"),onSubmit:Be,submitText:ve("confirm"),submitButtonType:je&&he||He?"danger-primary":"primary",disabled:G},ae>1&&a.default.createElement("a",{onClick:Y},ve("rejectTxsN",[ae]))),ce&&!pe&&a.default.createElement(v.default,{mode:i.EditGasModes.modifyInPlace,onClose:ue,transaction:de}),pe&&a.default.createElement(a.default.Fragment,null,a.default.createElement(y.default,null),a.default.createElement(h.default,null)),xe&&a.default.createElement(w.default,{warnings:Re.warnings,origin:ie,onCancel:()=>Ee(!1),onSubmit:()=>{Je(),Ee(!1)}})))};F.propTypes={action:r.default.string,onEdit:r.default.func,showEdit:r.default.bool,subtitleComponent:r.default.node,title:r.default.string,image:r.default.string,titleComponent:r.default.node,hideSenderToRecipient:r.default.bool,showAccountInHeader:r.default.bool,assetStandard:r.default.string,fromAddress:r.default.string,fromName:r.default.string,toAddress:r.default.string,toEns:r.default.string,toNickname:r.default.string,contentComponent:r.default.node,errorKey:r.default.string,errorMessage:r.default.string,dataHexComponent:r.default.node,detailsComponent:r.default.node,txData:r.default.object,tokenAddress:r.default.string,nonce:r.default.string,warning:r.default.string,unapprovedTxCount:r.default.number,origin:r.default.string.isRequired,ethGasPriceWarning:r.default.string,onCancelAll:r.default.func,onCancel:r.default.func,onSubmit:r.default.func,onSetApprovalForAll:r.default.func,showWarningModal:r.default.bool,disabled:r.default.bool,editingGas:r.default.bool,handleCloseEditGas:r.default.func,currentTransaction:r.default.object.isRequired,supportsEIP1559:r.default.bool,nativeCurrency:r.default.string,isApprovalOrRejection:r.default.bool,displayAccountBalanceHeader:r.default.bool};n.default=F}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/confirm-page-container.component.js"}],[5292,{"../../../../components/app/snaps/snap-insight/snap-insight":4603,"./confirm-detail-row":5280,"./confirm-page-container-content":5286,"./confirm-page-container-header":5288,"./confirm-page-container-navigation":5290,"./confirm-page-container.component":5291},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmDetailRow",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(n,"ConfirmPageContainerContent",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(n,"ConfirmPageContainerHeader",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(n,"ConfirmPageContainerNavigation",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(n,"ConfirmPageContainerSummary",{enumerable:!0,get:function(){return i.ConfirmPageContainerSummary}}),Object.defineProperty(n,"SnapInsight",{enumerable:!0,get:function(){return l.SnapInsight}}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a.default}});var a=u(e("./confirm-page-container.component")),r=u(e("./confirm-page-container-header")),o=u(e("./confirm-detail-row")),s=u(e("./confirm-page-container-navigation")),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("./confirm-page-container-content")),l=e("../../../../components/app/snaps/snap-insight/snap-insight");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-page-container/index.js"}],[5293,{"../../../../components/app/user-preferenced-currency-display":4694,"../../../../components/component-library":4775,"../../../../helpers/constants/common":5141,"../../../../helpers/constants/design-system":5143,"../../../../helpers/utils/transactions.util":5183,"../../../../selectors":5751,"../../hooks/useTransactionInfo":5487,"prop-types":3794,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=f(e("react")),r=f(e("prop-types")),o=e("react-redux"),s=e("../../../../helpers/constants/common"),i=e("../../../../helpers/constants/design-system"),l=e("../../../../helpers/utils/transactions.util"),c=e("../../../../selectors"),u=e("../../hooks/useTransactionInfo"),d=e("../../../../components/component-library"),p=f(e("../../../../components/app/user-preferenced-currency-display"));function f(e){return e&&e.__esModule?e:{default:e}}const m=({txData:e,hexTransactionAmount:t,subtitleComponent:n,assetStandard:r})=>{const f=(0,o.useSelector)(c.getShouldShowFiat),{isNftTransfer:m}=(0,u.useTransactionInfo)(e);return f||m||(0,l.isNFTAssetStandard)(r)?n||a.default.createElement(d.Text,{as:"h5",ellipsis:!0,variant:i.TextVariant.bodyMd,color:i.Color.textAlternative},a.default.createElement(p.default,{value:t,type:s.SECONDARY,showEthLogo:!0,hideLabel:!0})):null};m.propTypes={assetStandard:r.default.string,hexTransactionAmount:r.default.string,subtitleComponent:r.default.element,txData:r.default.object.isRequired};n.default=m}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-subtitle/confirm-subtitle.js"}],[5294,{"./confirm-subtitle":5293},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmSubTitle",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-subtitle"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-subtitle/index.js"}],[5295,{"../../../../components/app/user-preferenced-currency-display":4694,"../../../../components/component-library":4775,"../../../../helpers/constants/common":5141,"../../../../helpers/constants/design-system":5143,"@metamask/transaction-controller":2025,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("react")),r=u(e("prop-types")),o=e("@metamask/transaction-controller"),s=e("../../../../helpers/constants/common"),i=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system"),c=u(e("../../../../components/app/user-preferenced-currency-display"));function u(e){return e&&e.__esModule?e:{default:e}}const d=({title:e,hexTransactionAmount:t,txData:n})=>{var r;const u=n.type===o.TransactionType.contractInteraction;return(u||n.type===o.TransactionType.deployContract)&&"0x0"===(null===(r=n.txParams)||void 0===r?void 0:r.value)?null:e?a.default.createElement(i.Text,{as:e&&e.length<10?"h1":"h3",ellipsis:!0,title:e,variant:e&&e.length<10?l.TextVariant.displayMd:l.TextVariant.headingMd,fontWeight:l.FONT_WEIGHT.NORMAL},e):a.default.createElement(i.Text,{as:"h3",ellipsis:!0,fontWeight:l.FONT_WEIGHT.NORMAL,variant:l.TextVariant.headingMd},a.default.createElement(c.default,{ethLogoHeight:24,hideLabel:!u,showCurrencySuffix:u,showEthLogo:!0,type:s.PRIMARY,value:t}))};d.propTypes={txData:r.default.object.isRequired,title:r.default.oneOfType([r.default.string,r.default.number]),hexTransactionAmount:r.default.string};n.default=d}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-title/confirm-title.js"}],[5296,{"./confirm-title":5295},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"ConfirmTitle",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirm-title"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm-title/index.js"}],[5297,{"../../../../../selectors":5751,"../../security-provider-banner-alert/blockaid-banner-alert":5359,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("react")),r=e("react-redux"),o=e("../../../../../selectors"),s=i(e("../../security-provider-banner-alert/blockaid-banner-alert"));function i(e){return e&&e.__esModule?e:{default:e}}function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}n.default=({...e})=>{var t,n;const i=(0,r.useSelector)(o.currentConfirmationSelector),c=(0,r.useSelector)((e=>e.metamask.signatureSecurityAlertResponses));return null!=i&&null!==(t=i.securityAlertResponse)&&void 0!==t&&t.securityAlertId?a.default.createElement(s.default,l({txData:{...i,securityAlertResponse:null==c?void 0:c[null==i||null===(n=i.securityAlertResponse)||void 0===n?void 0:n.securityAlertId]}},e)):null}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/blockaid-alert/blockaid-alert.tsx"}],[5298,{"./blockaid-alert":5297},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"BlockaidAlert",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./blockaid-alert"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/blockaid-alert/index.tsx"}],[5299,{"../../../../../components/component-library":4775,"../../../../../components/multichain/pages/page":4947,"../../../../../hooks/useI18nContext":5206,"../../../../../selectors":5751,"../../../../../store/actions":5759,"../../../selectors":5490,"eth-rpc-errors":3026,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("eth-rpc-errors"),s=e("../../../../../components/component-library"),i=e("../../../../../components/multichain/pages/page"),l=e("../../../../../hooks/useI18nContext"),c=e("../../../../../selectors"),u=e("../../../../../store/actions"),d=e("../../../selectors");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,l.useI18nContext)(),t=(0,r.useSelector)(d.confirmSelector),{currentConfirmation:n,isScrollToBottomNeeded:p}=t;let f;null!=n&&n.msgParams&&(f=n.msgParams.from);const m=(0,r.useSelector)((e=>!!f&&(0,c.doesAddressRequireLedgerHidConnection)(e,f))),g=(0,r.useDispatch)(),h=(0,a.useCallback)((()=>{n&&g((0,u.rejectPendingApproval)(n.id,(0,o.serializeError)(o.ethErrors.provider.userRejectedRequest())))}),[n]),y=(0,a.useCallback)((()=>{n&&g((0,u.resolvePendingApproval)(n.id,undefined))}),[n]);return a.default.createElement(i.Footer,{className:"confirm-footer_page-footer"},a.default.createElement(s.Button,{block:!0,onClick:h,size:s.ButtonSize.Lg,variant:s.ButtonVariant.Secondary},e("cancel")),a.default.createElement(s.Button,{block:!0,"data-testid":"confirm-footer-confirm-button",onClick:y,size:s.ButtonSize.Lg,disabled:p||m},e("confirm")))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/footer/footer.tsx"}],[5300,{"./footer":5299},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Footer",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./footer"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/footer/index.tsx"}],[5301,{"../../../../../../shared/constants/metametrics":4353,"../../../../../components/app/confirm/info/row":4431,"../../../../../components/app/confirm/info/row/currency":4428,"../../../../../components/component-library":4775,"../../../../../components/multichain":4901,"../../../../../components/ui/tooltip/tooltip":5104,"../../../../../contexts/metametrics":5117,"../../../../../helpers/constants/design-system":5143,"../../../../../hooks/useI18nContext":5206,"../../../../../selectors":5751,"../../../hooks/useBalance":5468,"../../../hooks/useConfirmationRecipientInfo":5470,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("../../../../../components/component-library"),s=e("../../../../../helpers/constants/design-system"),i=e("../../../../../components/app/confirm/info/row"),l=e("../../../../../components/multichain"),c=y(e("../../../../../components/ui/tooltip/tooltip")),u=e("../../../../../hooks/useI18nContext"),d=y(e("../../../hooks/useConfirmationRecipientInfo")),p=e("../../../../../selectors"),f=e("../../../../../../shared/constants/metametrics"),m=e("../../../../../contexts/metametrics"),g=e("../../../../../components/app/confirm/info/row/currency"),h=e("../../../hooks/useBalance");function y(e){return e&&e.__esModule?e:{default:e}}function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,r.useSelector)(p.getUseBlockie),[t,n]=a.default.useState(!1),y=(0,r.useSelector)(p.currentConfirmationSelector),{recipientAddress:v,recipientName:b}=(0,d.default)(),T=(0,u.useI18nContext)(),_=(0,a.useContext)(m.MetaMetricsContext),{balance:x}=(0,h.useBalance)(v);return a.default.createElement(a.default.Fragment,null,a.default.createElement(o.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.flexEnd,style:{alignSelf:"flex-end"}},a.default.createElement(c.default,{position:"bottom",title:T("accountDetails"),interactive:!0},a.default.createElement(o.ButtonIcon,{ariaLabel:T("accountDetails"),color:s.IconColor.iconDefault,iconName:o.IconName.Info,size:o.ButtonIconSize.Md,onClick:()=>{_({category:f.MetaMetricsEventCategory.Transactions,event:f.MetaMetricsEventName.AccountDetailsOpened,properties:{action:"Confirm Screen",location:f.MetaMetricsEventLocation.SignatureConfirmation,signature_type:null==y?void 0:y.type}}),n(!0)}}))),a.default.createElement(o.Modal,{isOpen:t,onClose:()=>n(!1),"data-testid":"account-details-modal",isClosedOnEscapeKey:!1,isClosedOnOutsideClick:!1},a.default.createElement(o.ModalOverlay,null),a.default.createElement(o.ModalContent,null,a.default.createElement(o.ModalHeader,null,a.default.createElement(o.Box,{display:s.Display.Flex,justifyContent:s.JustifyContent.center,style:{position:"relative"}},a.default.createElement(o.Box,{style:{margin:"0 auto"},display:s.Display.Flex,justifyContent:s.JustifyContent.center,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.center},a.default.createElement(o.AvatarAccount,{variant:e?o.AvatarAccountVariant.Blockies:o.AvatarAccountVariant.Jazzicon,address:v,size:o.AvatarAccountSize.Lg}),a.default.createElement(o.Text,{fontWeight:s.FontWeight.Bold,variant:s.TextVariant.bodyMd,color:s.TextColor.textDefault,marginTop:2},b)),a.default.createElement(o.Box,{style:{position:"absolute",right:0}},a.default.createElement(o.ButtonIcon,{ariaLabel:T("close"),iconName:o.IconName.Close,size:o.ButtonIconSize.Sm,className:"confirm_header__close-button",onClick:()=>n(!1)})))),a.default.createElement(o.ModalBody,null,a.default.createElement(i.ConfirmInfoRow,{label:"Account address"},a.default.createElement(l.AddressCopyButton,{address:v,shorten:!0})),a.default.createElement(i.ConfirmInfoRow,{label:"Balance"},a.default.createElement(g.ConfirmInfoRowCurrency,{value:x??0}))))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/header/header-info.tsx"}],[5302,{"../../../../../components/component-library":4775,"../../../../../components/ui/identicon":5036,"../../../../../helpers/constants/design-system":5143,"../../../../../helpers/utils/accounts":5165,"../../../hooks/useConfirmationNetworkInfo":5469,"../../../hooks/useConfirmationRecipientInfo":5470,"./header-info":5301,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e("react")),r=d(e("../../../hooks/useConfirmationNetworkInfo")),o=d(e("../../../hooks/useConfirmationRecipientInfo")),s=e("../../../../../helpers/constants/design-system"),i=d(e("../../../../../components/ui/identicon")),l=e("../../../../../components/component-library"),c=e("../../../../../helpers/utils/accounts"),u=d(e("./header-info"));function d(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const{networkImageUrl:e,networkDisplayName:t}=(0,r.default)(),{recipientAddress:n,recipientName:d}=(0,o.default)();return a.default.createElement(l.Box,{display:s.Display.Flex,className:"confirm_header__wrapper",alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.spaceBetween},a.default.createElement(l.Box,{alignItems:s.AlignItems.flexStart,display:s.Display.Flex,padding:4},a.default.createElement(l.Box,{display:s.Display.Flex,marginTop:2},a.default.createElement(i.default,{address:n,diameter:32}),a.default.createElement(l.AvatarNetwork,{src:e,name:t,size:l.AvatarNetworkSize.Xs,backgroundColor:(0,c.getAvatarNetworkColor)(t),className:"confirm_header__avatar-network"})),a.default.createElement(l.Box,{marginInlineStart:4},a.default.createElement(l.Text,{color:s.TextColor.textDefault,variant:s.TextVariant.bodyMdMedium},d),a.default.createElement(l.Text,{color:s.TextColor.textAlternative},t))),a.default.createElement(l.Box,{alignItems:s.AlignItems.flexEnd,display:s.Display.Flex,padding:4},a.default.createElement(u.default,null)))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/header/header.tsx"}],[5303,{"./header":5302},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Header",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./header"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/header/index.tsx"}],[5304,{"./info":5305},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Info",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./info"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/index.ts"}],[5305,{"../../../../../selectors":5751,"./personal-sign/personal-sign":5306,"./typed-sign-v1/typed-sign-v1":5307,"./typed-sign/typed-sign":5308,"@metamask/transaction-controller":2025,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("@metamask/transaction-controller"),s=e("../../../../../selectors"),i=u(e("./personal-sign/personal-sign")),l=u(e("./typed-sign/typed-sign")),c=u(e("./typed-sign-v1/typed-sign-v1"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,r.useSelector)(s.currentConfirmationSelector),t=(0,a.useMemo)((()=>({[o.TransactionType.personalSign]:()=>i.default,[o.TransactionType.signTypedData]:()=>{const{version:t}=(null==e?void 0:e.msgParams)??{};return"V1"===t?c.default:l.default}})),[e]);if(null==e||!e.type)return null;const n=t[null==e?void 0:e.type]();return a.default.createElement(n,null)}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/info.tsx"}],[5306,{"../../../../../../components/app/confirm/info/row":4431,"../../../../../../components/component-library":4775,"../../../../../../helpers/constants/design-system":5143,"../../../../../../helpers/utils/util":5185,"../../../../../../hooks/useI18nContext":5206,"../../../../../../selectors":5751,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("react-redux"),s=e("../../../../../../components/app/confirm/info/row"),i=e("../../../../../../hooks/useI18nContext"),l=e("../../../../../../selectors"),c=e("../../../../../../components/component-library"),u=e("../../../../../../helpers/constants/design-system"),d=e("../../../../../../helpers/utils/util");n.default=()=>{var e;const t=(0,i.useI18nContext)(),n=(0,o.useSelector)(l.currentConfirmationSelector);return null!=n&&n.msgParams?r.default.createElement(r.default.Fragment,null,r.default.createElement(c.Box,{backgroundColor:u.BackgroundColor.backgroundDefault,borderRadius:u.BorderRadius.MD,padding:2,marginBottom:4},r.default.createElement(s.ConfirmInfoRow,{label:t("requestFrom"),tooltip:t("requestFromInfo")},r.default.createElement(s.ConfirmInfoRowUrl,{url:n.msgParams.origin}))),r.default.createElement(c.Box,{backgroundColor:u.BackgroundColor.backgroundDefault,borderRadius:u.BorderRadius.MD,padding:2,marginBottom:4},r.default.createElement(s.ConfirmInfoRow,{label:t("message")},r.default.createElement(s.ConfirmInfoRowText,{text:(0,d.sanitizeString)((0,d.hexToText)(null===(e=n.msgParams)||void 0===e?void 0:e.data))})))):null}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/personal-sign/personal-sign.tsx"}],[5307,{"../../../../../../components/app/confirm/info/row":4431,"../../../../../../components/component-library":4775,"../../../../../../helpers/constants/design-system":5143,"../../../../../../hooks/useI18nContext":5206,"../../../../../../selectors":5751,"../../row/typed-sign-data-v1/typedSignDataV1":5314,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("react-redux"),s=e("../../../../../../components/app/confirm/info/row"),i=e("../../../../../../hooks/useI18nContext"),l=e("../../../../../../selectors"),c=e("../../../../../../components/component-library"),u=e("../../../../../../helpers/constants/design-system"),d=e("../../row/typed-sign-data-v1/typedSignDataV1");n.default=()=>{var e;const t=(0,i.useI18nContext)(),n=(0,o.useSelector)(l.currentConfirmationSelector);return null!=n&&n.msgParams?r.default.createElement(r.default.Fragment,null,r.default.createElement(c.Box,{backgroundColor:u.BackgroundColor.backgroundDefault,borderRadius:u.BorderRadius.MD,padding:2,marginBottom:4},r.default.createElement(s.ConfirmInfoRow,{label:t("requestFrom"),tooltip:t("requestFromInfo")},r.default.createElement(s.ConfirmInfoRowUrl,{url:n.msgParams.origin}))),r.default.createElement(c.Box,{backgroundColor:u.BackgroundColor.backgroundDefault,borderRadius:u.BorderRadius.MD,padding:2,marginBottom:4},r.default.createElement(s.ConfirmInfoRow,{label:t("message")},r.default.createElement(d.ConfirmInfoRowTypedSignDataV1,{data:null===(e=n.msgParams)||void 0===e?void 0:e.data})))):null}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/typed-sign-v1/typed-sign-v1.tsx"}],[5308,{"../../../../../../components/app/confirm/info/row":4431,"../../../../../../components/component-library":4775,"../../../../../../helpers/constants/design-system":5143,"../../../../../../hooks/useI18nContext":5206,"../../../../../../selectors":5751,"../../row/typed-sign-data/typedSignData":5315,"ethereumjs-util":3057,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("react-redux"),s=e("ethereumjs-util"),i=e("../../../../../../components/app/confirm/info/row"),l=e("../../../../../../hooks/useI18nContext"),c=e("../../../../../../selectors"),u=e("../../../../../../components/component-library"),d=e("../../../../../../helpers/constants/design-system"),p=e("../../row/typed-sign-data/typedSignData");n.default=()=>{var e;const t=(0,l.useI18nContext)(),n=(0,o.useSelector)(c.currentConfirmationSelector);if(null==n||!n.msgParams)return null;const{domain:a={}}=JSON.parse(n.msgParams.data);return r.default.createElement(r.default.Fragment,null,r.default.createElement(u.Box,{backgroundColor:d.BackgroundColor.backgroundDefault,borderRadius:d.BorderRadius.MD,padding:2,marginBottom:4},r.default.createElement(i.ConfirmInfoRow,{label:t("requestFrom"),tooltip:t("requestFromInfo")},r.default.createElement(i.ConfirmInfoRowUrl,{url:n.msgParams.origin})),(0,s.isValidAddress)(a.verifyingContract)&&r.default.createElement(i.ConfirmInfoRow,{label:t("interactingWith")},r.default.createElement(i.ConfirmInfoRowAddress,{address:a.verifyingContract}))),r.default.createElement(u.Box,{backgroundColor:d.BackgroundColor.backgroundDefault,borderRadius:d.BorderRadius.MD,padding:2,marginBottom:4},r.default.createElement(i.ConfirmInfoRow,{label:t("message")},r.default.createElement(p.ConfirmInfoRowTypedSignData,{data:null===(e=n.msgParams)||void 0===e?void 0:e.data}))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/info/typed-sign/typed-sign.tsx"}],[5309,{"./ledger-info":5310},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"LedgerInfo",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./ledger-info"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/ledger-info/index.ts"}],[5310,{"../../../../../../app/scripts/lib/util":97,"../../../../../../shared/constants/app":4343,"../../../../../../shared/constants/hardware-wallets":4349,"../../../../../components/component-library":4775,"../../../../../ducks/app/app":5126,"../../../../../ducks/metamask/metamask":5135,"../../../../../helpers/constants/design-system":5143,"../../../../../hooks/useI18nContext":5206,"../../../hooks/useLedgerConnection":5478,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=m(e("react")),r=e("react-redux"),o=e("../../../../../../app/scripts/lib/util"),s=e("../../../../../../shared/constants/app"),i=e("../../../../../../shared/constants/hardware-wallets"),l=e("../../../../../components/component-library"),c=e("../../../../../ducks/app/app"),u=e("../../../../../ducks/metamask/metamask"),d=e("../../../../../helpers/constants/design-system"),p=e("../../../../../hooks/useI18nContext"),f=m(e("../../../hooks/useLedgerConnection"));function m(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const{isLedgerWallet:e}=(0,f.default)(),t=(0,p.useI18nContext)(),n=(0,r.useDispatch)(),m=(0,r.useSelector)(c.getLedgerWebHidConnectedStatus),g=(0,r.useSelector)(u.getLedgerTransportType),h=(0,r.useSelector)(c.getLedgerTransportStatus),y=(0,o.getEnvironmentType)()===s.ENVIRONMENT_TYPE_FULLSCREEN;if(!e)return null;const v=g===i.LedgerTransportTypes.webhid;return a.default.createElement(l.BannerAlert,{severity:l.BannerAlertSeverity.Info,style:{marginTop:16}},a.default.createElement(l.Text,{variant:d.TextVariant.headingSm,fontWeight:d.FontWeight.Medium},t("ledgerConnectionInstructionHeader")),a.default.createElement("ul",{style:{listStyle:"disc"}},a.default.createElement("li",null,a.default.createElement(l.Text,{variant:d.TextVariant.bodyMd},t("ledgerConnectionInstructionStepThree"))),a.default.createElement("li",null,a.default.createElement(l.Text,{variant:d.TextVariant.bodyMd},t("ledgerConnectionInstructionStepFour")))),h===i.HardwareTransportStates.deviceOpenFailure&&a.default.createElement(l.Button,{variant:l.ButtonVariant.Link,textAlign:d.TextAlign.Left,fontWeight:d.FontWeight.Normal,onClick:async()=>{var e,t;y?window.location.reload():null===(e=(t=global.platform).openExtensionInBrowser)||void 0===e||e.call(t,null,null,!0)}},t("ledgerConnectionInstructionCloseOtherApps")),v&&m===i.WebHIDConnectedStatuses.notConnected&&a.default.createElement(l.Button,{variant:l.ButtonVariant.Link,textAlign:d.TextAlign.Left,fontWeight:d.FontWeight.Normal,onClick:async()=>{if(y){const e=(await window.navigator.hid.requestDevice({filters:[{vendorId:Number(i.LEDGER_USB_VENDOR_ID)}]})).some((e=>e.vendorId===Number(i.LEDGER_USB_VENDOR_ID)));n((0,c.setLedgerWebHidConnectedStatus)(e?i.WebHIDConnectedStatuses.connected:i.WebHIDConnectedStatuses.notConnected))}else{var e,t;null===(e=(t=global.platform).openExtensionInBrowser)||void 0===e||e.call(t,null,null,!0)}}},t(y?"clickToConnectLedgerViaWebHID":"openFullScreenForLedgerWebHid")))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/ledger-info/ledger-info.tsx"}],[5311,{"./nav":5312},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Nav",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./nav"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/nav/index.tsx"}],[5312,{"../../../../../components/component-library":4775,"../../../../../helpers/constants/design-system":5143,"../../../../../helpers/constants/routes":5148,"../../../../../hooks/useI18nContext":5206,"../../../../../selectors":5751,"../../../../../store/actions":5759,"../../../utils":5532,"eth-rpc-errors":3026,react:4037,"react-redux":4002,"react-router-dom":4022},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=e("eth-rpc-errors"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("react-redux"),s=e("react-router-dom"),i=e("../../../../../components/component-library"),l=e("../../../../../helpers/constants/design-system"),c=e("../../../../../helpers/constants/routes"),u=e("../../../../../hooks/useI18nContext"),d=e("../../../../../selectors"),p=e("../../../../../store/actions"),f=e("../../../utils");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,s.useHistory)(),t=(0,u.useI18nContext)(),n=(0,o.useSelector)(d.currentConfirmationSelector),m=(0,o.useSelector)(d.pendingConfirmationsSortedSelector),g=(0,o.useDispatch)(),h=(0,r.useMemo)((()=>(null==m?void 0:m.length)<=0||!n?0:m.findIndex((({id:e})=>e===n.id))),[n,m]),y=(0,r.useCallback)((t=>{const n=m[h+t];e.replace(`${c.CONFIRM_TRANSACTION_ROUTE}/${n.id}${(0,f.isSignatureApprovalRequest)(n)?c.SIGNATURE_REQUEST_PATH:""}`)}),[h,m]),v=(0,r.useCallback)((()=>{m.forEach((e=>{g((0,p.rejectPendingApproval)(e.id,(0,a.serializeError)(a.ethErrors.provider.userRejectedRequest())))}))}),[m]);return m.length<=1?null:r.default.createElement(i.Box,{alignItems:l.AlignItems.center,backgroundColor:l.BackgroundColor.backgroundDefault,display:l.Display.Flex,flexDirection:l.FlexDirection.Row,justifyContent:l.JustifyContent.spaceBetween,padding:3,style:{zIndex:2}},r.default.createElement(i.Box,{alignItems:l.AlignItems.center,display:l.Display.Flex},r.default.createElement(i.ButtonIcon,{ariaLabel:"Previous Confirmation",backgroundColor:l.BackgroundColor.backgroundAlternative,borderRadius:l.BorderRadius.full,className:"confirm_nav__left_btn",color:l.IconColor.iconAlternative,disabled:0===h,iconName:i.IconName.ArrowLeft,onClick:()=>y(-1),size:i.ButtonIconSize.Sm}),r.default.createElement(i.Text,{color:l.TextColor.textAlternative,marginInline:2,variant:l.TextVariant.bodySm},h+1," of ",m.length),r.default.createElement(i.ButtonIcon,{ariaLabel:"Next Confirmation",backgroundColor:l.BackgroundColor.backgroundAlternative,borderRadius:l.BorderRadius.full,className:"confirm_nav__right_btn",color:l.IconColor.iconAlternative,disabled:h===m.length-1,iconName:i.IconName.ArrowRight,onClick:()=>y(1),size:i.ButtonIconSize.Sm})),r.default.createElement(i.Button,{borderRadius:l.BorderRadius.XL,className:"confirm_nav__reject_all",fontWeight:l.FontWeight.Normal,onClick:v,paddingLeft:3,paddingRight:3,startIconName:i.IconName.Close,type:i.ButtonVariant.Secondary},t("rejectAll")))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/nav/nav.tsx"}],[5313,{"../../../../../../shared/modules/hexstring-utils":4390,"../../../../../components/app/confirm/info/row":4431,"../../../../../components/component-library":4775,"../../../../../helpers/constants/design-system":5143,"../../../../../helpers/utils/util":5185,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.DataTree=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../../../shared/modules/hexstring-utils"),s=e("../../../../../helpers/utils/util"),i=e("../../../../../components/component-library"),l=e("../../../../../helpers/constants/design-system"),c=e("../../../../../components/app/confirm/info/row");const u=({data:e})=>r.default.createElement(i.Box,{width:l.BlockSize.Full},Object.entries(e).map((([e,{value:t,type:n}],a)=>r.default.createElement(c.ConfirmInfoRow,{label:`${(0,s.sanitizeString)(e.charAt(0).toUpperCase()+e.slice(1))}:`,style:{paddingRight:0},key:`tree-data-${e}-index-${a}`},r.default.createElement(d,{value:t,type:n})))));n.DataTree=u;const d=({value:e,type:t})=>"object"==typeof e&&null!==e?r.default.createElement(u,{data:e}):"address"===t&&(0,o.isValidHexAddress)(e,{mixedCaseUseChecksum:!0})?r.default.createElement(c.ConfirmInfoRowAddress,{address:e}):r.default.createElement(c.ConfirmInfoRowText,{text:(0,s.sanitizeString)(e)})}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/row/dataTree.tsx"}],[5314,{"../../../../../../components/component-library":4775,"../../../../../../helpers/constants/design-system":5143,"../dataTree":5313,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowTypedSignDataV1=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../../../components/component-library"),s=e("../../../../../../helpers/constants/design-system"),i=e("../dataTree");n.ConfirmInfoRowTypedSignDataV1=({data:e})=>{if(!e)return null;const t=e.reduce(((e,{name:t,value:n,type:a})=>({...e,[t]:{type:a,value:n}})),{});return r.default.createElement(o.Box,{width:s.BlockSize.Full},r.default.createElement(o.Box,{style:{marginLeft:-8}},r.default.createElement(i.DataTree,{data:t})))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/row/typed-sign-data-v1/typedSignDataV1.tsx"}],[5315,{"../../../../../../components/app/confirm/info/row":4431,"../../../../../../components/component-library":4775,"../../../../../../helpers/constants/design-system":5143,"../../../../../../helpers/utils/util":5185,"../../../../../../hooks/useI18nContext":5206,"../dataTree":5313,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.ConfirmInfoRowTypedSignData=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../../../helpers/utils/util"),s=e("../../../../../../hooks/useI18nContext"),i=e("../../../../../../components/component-library"),l=e("../../../../../../helpers/constants/design-system"),c=e("../../../../../../components/app/confirm/info/row"),u=e("../dataTree");n.ConfirmInfoRowTypedSignData=({data:e})=>{const t=(0,s.useI18nContext)();if(!e)return null;const{sanitizedMessage:n,primaryType:a}=(e=>{const{message:t,primaryType:n,types:a}=JSON.parse(e);return{sanitizedMessage:(0,o.sanitizeMessage)(t,n,a),primaryType:n}})(e);return r.default.createElement(i.Box,{width:l.BlockSize.Full},r.default.createElement(c.ConfirmInfoRow,{label:`${t("primaryType")}:`,style:{paddingLeft:0,paddingRight:0}},r.default.createElement(c.ConfirmInfoRowText,{text:a})),r.default.createElement(i.Box,{style:{marginLeft:-8}},r.default.createElement(u.DataTree,{data:n.value})))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/row/typed-sign-data/typedSignData.tsx"}],[5316,{"./scroll-to-bottom":5317},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./scroll-to-bottom"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/scroll-to-bottom/index.ts"}],[5317,{"../../../../../components/component-library":4775,"../../../../../contexts/i18n":5116,"../../../../../ducks/confirm/confirm":5128,"../../../../../helpers/constants/design-system":5143,"../../../../../hooks/useScrollRequired":5216,"../../../selectors":5490,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("../../../../../contexts/i18n"),s=e("../../../../../components/component-library"),i=e("../../../../../helpers/constants/design-system"),l=e("../../../../../hooks/useScrollRequired"),c=e("../../../../../ducks/confirm/confirm"),u=e("../../../selectors");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}n.default=({children:e})=>{const t=(0,a.useContext)(o.I18nContext),n=(0,r.useDispatch)(),d=(0,r.useSelector)(u.currentConfirmationSelector),{hasScrolledToBottom:p,isScrollable:f,isScrolledToBottom:m,onScroll:g,scrollToBottom:h,ref:y}=(0,l.useScrollRequired)([null==d?void 0:d.id]);return(0,a.useEffect)((()=>{n((0,c.updateConfirm)({isScrollToBottomNeeded:f&&!p}))}),[f,p]),a.default.createElement(s.Box,{backgroundColor:i.BackgroundColor.backgroundAlternative,width:i.BlockSize.Full,height:i.BlockSize.Full,style:{minHeight:"0",overflow:"hidden",position:"relative"}},a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Column,width:i.BlockSize.Full,height:i.BlockSize.Full,paddingLeft:4,paddingRight:4,onScroll:g,ref:y,style:{overflow:"auto"}},e,f&&!m&&a.default.createElement(s.ButtonIcon,{className:"confirm-scroll-to-bottom__button",onClick:h,iconName:s.IconName.Arrow2Down,ariaLabel:t("scrollDown"),backgroundColor:i.BackgroundColor.backgroundDefault,borderRadius:i.BorderRadius.full,color:i.IconColor.primaryDefault,display:i.Display.Flex,size:s.ButtonIconSize.Md})))}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/scroll-to-bottom/scroll-to-bottom.tsx"}],[5318,{"./title":5319},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Title",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./title"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/title/index.ts"}],[5319,{"../../../../../components/component-library":4775,"../../../../../helpers/constants/design-system":5143,"../../../../../hooks/useI18nContext":5206,"../../../../../selectors":5751,"@metamask/transaction-controller":2025,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("@metamask/transaction-controller"),s=e("../../../../../components/component-library"),i=e("../../../../../helpers/constants/design-system"),l=e("../../../../../hooks/useI18nContext"),c=e("../../../../../selectors");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const d=(0,a.memo)((()=>{const e=(0,l.useI18nContext)(),t=(0,r.useSelector)(c.currentConfirmationSelector),n=(0,a.useMemo)((()=>({[o.TransactionType.personalSign]:e("confirmTitleSignature"),[o.TransactionType.signTypedData]:e("confirmTitleSignature")})),[]),u=(0,a.useMemo)((()=>({[o.TransactionType.personalSign]:e("confirmTitleDescPersonalSignature"),[o.TransactionType.signTypedData]:e("confirmTitleDescTypedDataSignature")})),[]);if(!t)return null;const d=n[t.type],p=u[t.type];return a.default.createElement(a.default.Fragment,null,a.default.createElement(s.Text,{variant:i.TextVariant.headingLg,paddingTop:4,paddingBottom:2,textAlign:i.TextAlign.Center},d),a.default.createElement(s.Text,{paddingBottom:4,color:i.TextColor.textAlternative,textAlign:i.TextAlign.Center},p))}));n.default=d}}},{package:"$root$",file:"ui/pages/confirmations/components/confirm/title/title.tsx"}],[5320,{"../../../../components/component-library":4775,"../../../../components/component-library/modal-content/deprecated":4783,"../../../../components/component-library/modal-header/deprecated":4792,"../../../../helpers/constants/design-system":5143,"../../../../hooks/useI18nContext":5206,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e("react")),r=u(e("prop-types")),o=e("../../../../hooks/useI18nContext"),s=e("../../../../helpers/constants/design-system"),i=e("../../../../components/component-library"),l=e("../../../../components/component-library/modal-content/deprecated"),c=e("../../../../components/component-library/modal-header/deprecated");function u(e){return e&&e.__esModule?e:{default:e}}const d=({onSubmit:e,onCancel:t})=>{const n=(0,o.useI18nContext)();return a.default.createElement(i.Modal,{isOpen:!0,onClose:t,className:"confirmation-warning-modal__content"},a.default.createElement(i.ModalOverlay,null),a.default.createElement(l.ModalContent,null,a.default.createElement(c.ModalHeader,{childrenWrapperProps:{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,alignItems:s.AlignItems.center,gap:4}},a.default.createElement(i.Icon,{name:i.IconName.Danger,color:s.IconColor.errorDefault,size:i.IconSize.Xl}),a.default.createElement(i.Text,{variant:s.TextVariant.headingSm,as:"h4",fontWeight:s.FontWeight.Bold,textAlign:s.TextAlign.Center},n("addEthereumChainWarningModalTitle"))),a.default.createElement(i.Box,{marginBottom:4},a.default.createElement(i.Text,{marginTop:4,variant:s.TextVariant.bodySm},n("addEthereumChainWarningModalHeader",[a.default.createElement("strong",{key:"part-2"},n("addEthereumChainWarningModalHeaderPartTwo"))])),a.default.createElement(i.Text,{marginTop:4,variant:s.TextVariant.bodySm},n("addEthereumChainWarningModalListHeader")),a.default.createElement("ul",null,a.default.createElement(i.Text,{as:"li",marginTop:2,variant:s.TextVariant.bodySm},n("addEthereumChainWarningModalListPointOne")),a.default.createElement(i.Text,{as:"li",marginTop:2,variant:s.TextVariant.bodySm},n("addEthereumChainWarningModalListPointTwo")),a.default.createElement(i.Text,{as:"li",marginTop:2,variant:s.TextVariant.bodySm},n("addEthereumChainWarningModalListPointThree")))),a.default.createElement(i.Box,{display:s.Display.Flex,gap:4},a.default.createElement(i.Button,{variant:i.BUTTON_VARIANT.SECONDARY,onClick:t,block:!0,size:i.BUTTON_SIZES.LG},n("reject")),a.default.createElement(i.Button,{variant:i.BUTTON_VARIANT.PRIMARY,onClick:e,danger:!0,block:!0,size:i.BUTTON_SIZES.LG},n("approveButtonText")))))};d.propTypes={onSubmit:r.default.func,onCancel:r.default.func};n.default=d}}},{package:"$root$",file:"ui/pages/confirmations/components/confirmation-warning-modal/confirmation-warning-modal.js"}],[5321,{"./confirmation-warning-modal":5320},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./confirmation-warning-modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/confirmation-warning-modal/index.js"}],[5322,{"../../../../../shared/constants/transaction":4368,"../../../../components/app/name/name":4535,"../../../../components/component-library":4775,"../../../../components/ui/box":4984,"../../../../components/ui/button/button.component":4987,"../../../../components/ui/identicon":5036,"../../../../components/ui/nft-collection-image/nft-collection-image":5060,"../../../../components/ui/popover":5071,"../../../../components/ui/tooltip/tooltip":5104,"../../../../helpers/constants/design-system":5143,"../../../../hooks/useCopyToClipboard":5196,"../../../../hooks/useI18nContext":5206,"../../../../hooks/usePetnamesEnabled":5213,"../../../../selectors":5751,"../../send/send.utils":5529,"@metamask/etherscan-link":1285,"@metamask/name-controller":1444,"prop-types":3794,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=M;var a=E(e("react")),r=E(e("prop-types")),o=e("@metamask/etherscan-link"),s=e("react-redux"),i=e("@metamask/name-controller"),l=E(e("../../../../components/ui/box")),c=E(e("../../../../components/ui/button/button.component")),u=E(e("../../../../components/ui/tooltip/tooltip")),d=e("../../../../hooks/useI18nContext"),p=E(e("../../../../components/ui/identicon")),f=e("../../send/send.utils"),m=E(e("../../../../components/ui/popover")),g=e("../../../../helpers/constants/design-system"),h=e("../../../../hooks/useCopyToClipboard"),y=e("../../../../selectors"),v=e("../../../../../shared/constants/transaction"),b=E(e("../../../../components/ui/nft-collection-image/nft-collection-image")),T=e("../../../../components/component-library"),_=E(e("../../../../components/app/name/name")),x=e("../../../../hooks/usePetnamesEnabled");function E(e){return e&&e.__esModule?e:{default:e}}function M({onClose:e,tokenName:t,tokenAddress:n,toAddress:r,chainId:E,rpcPrefs:M,tokenId:k,assetName:C,assetStandard:w,isContractRequestingSignature:A}){var S,P;const O=(0,d.useI18nContext)(),[L,D]=(0,h.useCopyToClipboard)(),[j,I]=(0,h.useCopyToClipboard)(),F=(0,x.usePetnamesEnabled)(),N=(0,s.useSelector)((e=>({data:(0,y.getAddressBookEntry)(e,r)}))),R=w===v.TokenStandard.ERC721||w===v.TokenStandard.ERC1155||C&&k||t&&k;return a.default.createElement(m.default,{className:"contract-details-modal"},a.default.createElement(l.default,{paddingTop:6,paddingRight:4,paddingBottom:8,paddingLeft:4,className:"contract-details-modal__content"},a.default.createElement(T.Text,{fontWeight:g.FontWeight.Bold,variant:g.TextVariant.bodyMd,as:"h5",display:g.Display.Flex},O("contractTitle")),a.default.createElement(T.Text,{variant:g.TextVariant.bodySm,as:"h6",display:g.Display.Flex,color:g.TextColor.textAlternative,marginTop:2},O("contractDescription")),!A&&a.default.createElement(a.default.Fragment,null,a.default.createElement(T.Text,{variant:g.TextVariant.bodySm,as:"h6",display:g.Display.Flex,marginTop:4,marginBottom:2},O(R?"contractNFT":"contractToken")),a.default.createElement(l.default,{display:g.Display.Flex,borderRadius:g.Size.SM,borderStyle:g.BorderStyle.solid,borderColor:g.BorderColor.borderDefault,className:"contract-details-modal__content__contract"},R?a.default.createElement(l.default,{margin:4},a.default.createElement(b.default,{assetName:C,tokenAddress:n})):a.default.createElement(p.default,{className:"contract-details-modal__content__contract__identicon",address:n,diameter:24}),a.default.createElement(l.default,{"data-testid":"recipient"},a.default.createElement(T.Text,{fontWeight:g.FontWeight.Bold,variant:g.TextVariant.bodyMd,as:"h5",marginTop:4},t||(0,f.ellipsify)(n)),t&&a.default.createElement(T.Text,{variant:g.TextVariant.bodySm,as:"h6",display:g.Display.Flex,color:g.TextColor.textAlternative,marginBottom:4},(0,f.ellipsify)(n))),a.default.createElement(l.default,{alignItems:g.AlignItems.center,marginLeft:"auto",marginRight:4,gap:2},a.default.createElement(u.default,{position:"top",title:O(L?"copiedExclamation":"copyToClipboard")},a.default.createElement(T.ButtonIcon,{display:g.Display.Flex,iconName:L?T.IconName.CopySuccess:T.IconName.Copy,onClick:()=>D(n),color:g.Color.iconMuted,ariaLabel:O(L?"copiedExclamation":"copyToClipboard")})),a.default.createElement(u.default,{position:"top",title:O("openInBlockExplorer")},a.default.createElement(T.ButtonIcon,{display:g.Display.Flex,iconName:T.IconName.Export,color:g.Color.iconMuted,onClick:()=>{const e=(0,o.getAccountLink)(n,E,{blockExplorerUrl:(null==M?void 0:M.blockExplorerUrl)??null},null);global.platform.openTab({url:e})},ariaLabel:O("openInBlockExplorer")}))))),a.default.createElement(T.Text,{variant:g.TextVariant.bodySm,as:"h6",display:g.Display.Flex,marginTop:4,marginBottom:2},R&&O("contractRequestingAccess"),A&&O("contractRequestingSignature"),!R&&!A&&O("contractRequestingSpendingCap")),a.default.createElement(l.default,{display:g.Display.Flex,borderRadius:g.Size.SM,borderStyle:g.BorderStyle.solid,borderColor:g.BorderColor.borderDefault,alignItems:g.AlignItems.center,className:"contract-details-modal__content__contract"},!F&&a.default.createElement(p.default,{className:"contract-details-modal__content__contract__identicon",diameter:24,address:r}),a.default.createElement(l.default,{"data-testid":"recipient"},F?a.default.createElement(T.Text,{variant:g.TextVariant.bodyMd,as:"h5"},a.default.createElement(_.default,{value:r,type:i.NameType.ETHEREUM_ADDRESS})):a.default.createElement(T.Text,{fontWeight:g.FontWeight.Bold,variant:g.TextVariant.bodyMd,as:"h5"},(null==N||null===(S=N.data)||void 0===S?void 0:S.name)||(0,f.ellipsify)(r)),!F&&(null==N||null===(P=N.data)||void 0===P?void 0:P.name)&&a.default.createElement(T.Text,{variant:g.TextVariant.bodySm,as:"h6",display:g.Display.Flex,color:g.TextColor.textAlternative,marginBottom:4},(0,f.ellipsify)(r))),a.default.createElement(l.default,{alignItems:g.AlignItems.center,marginLeft:"auto",marginRight:4,gap:2},a.default.createElement(u.default,{position:"top",title:O(j?"copiedExclamation":"copyToClipboard")},a.default.createElement(T.ButtonIcon,{display:g.Display.Flex,iconName:j?T.IconName.CopySuccess:T.IconName.Copy,onClick:()=>I(r),color:g.Color.iconMuted,ariaLabel:O(L?"copiedExclamation":"copyToClipboard")})),a.default.createElement(u.default,{position:"top",title:O("openInBlockExplorer")},a.default.createElement(T.ButtonIcon,{display:g.Display.Flex,iconName:T.IconName.Export,color:g.Color.iconMuted,onClick:()=>{const e=(0,o.getAccountLink)(r,E,{blockExplorerUrl:(null==M?void 0:M.blockExplorerUrl)??null},null);global.platform.openTab({url:e})},ariaLabel:O("openInBlockExplorer")}))))),a.default.createElement(l.default,{display:g.Display.Flex,paddingTop:6,paddingRight:4,paddingBottom:6,paddingLeft:4},a.default.createElement(c.default,{type:"primary",onClick:()=>e()},O("recoveryPhraseReminderConfirm"))))}M.propTypes={onClose:r.default.func,tokenName:r.default.string,tokenAddress:r.default.string,toAddress:r.default.string,chainId:r.default.string,rpcPrefs:r.default.object,tokenId:r.default.string,assetStandard:r.default.string,assetName:r.default.string,isContractRequestingSignature:r.default.bool}}}},{package:"$root$",file:"ui/pages/confirmations/components/contract-details-modal/contract-details-modal.js"}],[5323,{"./contract-details-modal":5322},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./contract-details-modal"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/contract-details-modal/index.js"}],[5324,{"../../../../components/component-library":4775,"../../../../components/ui/box/box":4983,"../../../../components/ui/identicon":5036,"../../../../components/ui/tooltip/tooltip":5104,"../../../../components/ui/typography/typography":5108,"../../../../helpers/constants/design-system":5143,"../../../../hooks/useCopyToClipboard":5196,"../../../../hooks/useI18nContext":5206,"@metamask/etherscan-link":1285,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var a=m(e("react")),r=m(e("prop-types")),o=e("@metamask/etherscan-link"),s=m(e("../../../../components/ui/box/box")),i=m(e("../../../../components/ui/tooltip/tooltip")),l=e("../../../../hooks/useI18nContext"),c=m(e("../../../../components/ui/identicon")),u=m(e("../../../../components/ui/typography/typography")),d=e("../../../../helpers/constants/design-system"),p=e("../../../../hooks/useCopyToClipboard"),f=e("../../../../components/component-library");function m(e){return e&&e.__esModule?e:{default:e}}function g({address:e,tokenName:t,chainId:n,rpcPrefs:r}){const m=(0,l.useI18nContext)(),[g,h]=(0,p.useCopyToClipboard)();return a.default.createElement(s.default,{className:"contract-token-values",display:d.DISPLAY.FLEX,alignItems:d.AlignItems.center,justifyContent:d.JustifyContent.center,gap:2},a.default.createElement(c.default,{address:e,diameter:24}),a.default.createElement(u.default,{variant:d.TypographyVariant.H2,fontWeight:d.FONT_WEIGHT.BOLD,color:d.TextColor.textAlternative,marginTop:0,marginBottom:0},t),a.default.createElement(i.default,{position:"top",title:m(g?"copiedExclamation":"copyToClipboard")},a.default.createElement(f.ButtonIcon,{iconName:g?f.IconName.CopySuccess:f.IconName.Copy,color:d.Color.iconMuted,onClick:()=>h(e),ariaLabel:m(g?"copiedExclamation":"copyToClipboard")})),a.default.createElement(i.default,{position:"top",title:m("openInBlockExplorer")},a.default.createElement(f.ButtonIcon,{display:d.DISPLAY.FLEX,iconName:f.IconName.Export,color:d.Color.iconMuted,onClick:()=>{const t=(0,o.getAccountLink)(e,n,{blockExplorerUrl:(null==r?void 0:r.blockExplorerUrl)??null},null);global.platform.openTab({url:t})},ariaLabel:m("openInBlockExplorer")})))}g.propTypes={address:r.default.string,tokenName:r.default.string,chainId:r.default.string,rpcPrefs:r.default.object}}}},{package:"$root$",file:"ui/pages/confirmations/components/contract-token-values/contract-token-values.js"}],[5325,{"../../../../../.storybook/i18n":1,"../../../../components/component-library":4775,"../../../../helpers/constants/design-system":5143,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=u;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("../../../../../.storybook/i18n"),i=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}function u({nextNonce:e,customNonceValue:t,showCustomizeNonceModal:n}){const a=(0,r.useContext)(s.I18nContext);return r.default.createElement(i.Box,{display:l.Display.Flex,marginBottom:4,paddingTop:3,paddingRight:3,paddingBottom:4,paddingLeft:3,borderRadius:l.BorderRadius.MD,alignItems:l.AlignItems.center,className:"custom-nonce__content"},r.default.createElement(i.Box,{className:"custom-nonce__header",display:l.Display.InlineFlex,justifyContent:l.JustifyContent.flexStart,alignItems:l.AlignItems.center},r.default.createElement(i.Text,{variant:l.TextVariant.bodySm,as:"h6"},a("nonce")),r.default.createElement(i.ButtonLink,{key:"editCustomNonce",size:l.Size.auto,marginLeft:3,onClick:()=>n()},a("edit"))),r.default.createElement(i.Text,{className:"custom-nonce__value",variant:l.TextVariant.bodySmBold,as:"h6"},t||e))}u.propTypes={nextNonce:o.default.number,customNonceValue:o.default.string,showCustomizeNonceModal:o.default.func}}}},{package:"$root$",file:"ui/pages/confirmations/components/custom-nonce/custom-nonce.js"}],[5326,{"./custom-nonce":5325},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./custom-nonce"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/custom-nonce/index.js"}],[5327,{"../../../../components/component-library":4775,"../../../../components/ui/tooltip":5103,"../../../../helpers/constants/design-system":5143,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.CustomSpendingCapTooltip=void 0;var a=l(e("react")),r=l(e("prop-types")),o=l(e("../../../../components/ui/tooltip")),s=e("../../../../helpers/constants/design-system"),i=e("../../../../components/component-library");function l(e){return e&&e.__esModule?e:{default:e}}const c=({tooltipContentText:e,tooltipIcon:t})=>a.default.createElement(i.Box,{display:s.Display.InlineFlex,alignItems:s.AlignItems.center},a.default.createElement(o.default,{interactive:!0,position:"top",html:a.default.createElement(i.Text,{variant:s.TextVariant.bodySm,color:s.TextColor.textAlternative},e)},t?a.default.createElement(i.Icon,{name:i.IconName.Danger,size:i.IconSize.Inherit,color:s.IconColor.errorDefault}):""!==t&&a.default.createElement(i.Icon,{name:i.IconName.Question,size:i.IconSize.Inherit,color:s.IconColor.iconAlternative})));n.CustomSpendingCapTooltip=c,c.propTypes={tooltipContentText:r.default.oneOfType([r.default.string,r.default.node]),tooltipIcon:r.default.oneOfType([r.default.string,r.default.bool])}}}},{package:"$root$",file:"ui/pages/confirmations/components/custom-spending-cap/custom-spending-cap-tooltip.js"}],[5328,{"../../../../../shared/constants/tokens":4367,"../../../../../shared/lib/transactions-controller-utils":4377,"../../../../../shared/modules/Numeric":4379,"../../../../../shared/modules/conversion.utils":4383,"../../../../components/component-library":4775,"../../../../contexts/gasFee":5115,"../../../../contexts/i18n":5116,"../../../../ducks/app/app":5126,"../../../../helpers/constants/design-system":5143,"../../../../helpers/constants/zendesk-url":5155,"../../../../store/actions":5759,"../../confirm-approve/confirm-approve.util":5420,"./custom-spending-cap-tooltip":5327,"bignumber.js":2700,"ethereumjs-util":3057,"prop-types":3794,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=E;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=x(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=_(e("prop-types")),s=_(e("bignumber.js")),i=e("ethereumjs-util"),l=e("../../../../contexts/i18n"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../components/component-library"),d=e("../../../../ducks/app/app"),p=e("../../../../../shared/lib/transactions-controller-utils"),f=e("../../../../../shared/modules/conversion.utils"),m=e("../../../../../shared/constants/tokens"),g=e("../../../../../shared/modules/Numeric"),h=e("../../../../store/actions"),y=e("../../confirm-approve/confirm-approve.util"),v=e("../../../../contexts/gasFee"),b=_(e("../../../../helpers/constants/zendesk-url")),T=e("./custom-spending-cap-tooltip");function _(e){return e&&e.__esModule?e:{default:e}}function x(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(x=function(e){return e?n:t})(e)}function E({txParams:e,tokenName:t,currentTokenBalance:n,dappProposedValue:o,siteOrigin:_,passTheErrorText:x,decimals:E,setInputChangeInProgress:M,customSpendingCap:k,setCustomSpendingCap:C}){const w=(0,a.useContext)(l.I18nContext),A=(0,r.useDispatch)(),{updateTransaction:S}=(0,v.useGasFeeContext)(),P=(0,a.useRef)(null),[O,L]=(0,a.useState)(""),[D,j]=(0,a.useState)(k!==String(o)&&!0),I=w("inputLogicEmptyState"),F=e=>e.replace(/,/gu,"."),N=(e,t)=>new g.Numeric(Number(F(e)),10).greaterThan(Number(t),10),R=e=>new g.Numeric(Number(F(e)),10).lessThanOrEqualTo(new g.Numeric(Number(n),10))?{className:"custom-spending-cap__lowerValue",description:w("inputLogicEqualOrSmallerNumber",[a.default.createElement(u.Text,{key:"custom-spending-cap",variant:c.TextVariant.bodySmBold,as:"span"},F(e)," ",t)])}:N(e,n)?{className:"custom-spending-cap__higherValue",description:w("inputLogicHigherNumber")}:{className:"custom-spending-cap__emptyState",description:w("inputLogicEmptyState")},[G,J]=(0,a.useState)(R(k).description),B=async t=>{var n;if(!e)return;M(!0);let a="";const r=R(t).description,o=m.DECIMAL_REGEX.exec(F(t));if((null==o||null===(n=o[1])||void 0===n?void 0:n.length)>E)return void M(!1);t&&!m.NUM_W_OPT_DECIMAL_COMMA_OR_DOT_REGEX.test(t)?(a=w("spendingCapError"),J(w("spendingCapErrorDescription",[_])),L(a)):(J(r),L(""));const l=(0,p.calcTokenAmount)(m.MAX_TOKEN_ALLOWANCE_AMOUNT,E);if(Number(t.length)>1&&Number(t)){new s.default(t).greaterThan(l)&&(a=w("spendLimitTooLarge"),L(a))}if(C(String(t)),A((0,d.setCustomTokenAmount)(String(t))),""!==String(t))try{const n=(0,y.getCustomTxParamsData)(e.data,{customPermissionAmount:t,decimals:E}),{from:a,to:r,value:o}=e,s=await(0,h.estimateGas)({from:a,to:r,value:o,data:n});s&&await S({gasLimit:(0,f.hexToDecimal)((0,i.addHexPrefix)(s))})}catch(e){console.error("Error in trying to update gas limit",e)}M(!1)};(0,a.useEffect)((()=>{k===String(o)?j(!1):j(!0)}),[k,o]),(0,a.useEffect)((()=>{x(O)}),[O,x]),(0,a.useEffect)((()=>{P.current&&P.current.focus({preventScroll:!0})}),[P.current]);const H=N(k,n)?w("warningTooltipText",[a.default.createElement(u.Text,{key:"tooltip-text",variant:c.TextVariant.bodySmBold,as:"span",color:c.TextColor.errorDefault},a.default.createElement(u.Icon,{name:u.IconName.Danger,size:u.IconSize.Inherit})," ",w("beCareful"))]):w("inputLogicEmptyState");return a.default.createElement(a.default.Fragment,null,a.default.createElement(u.Box,{className:"custom-spending-cap",display:c.Display.Flex,alignItems:c.AlignItems.flexStart,flexDirection:c.FlexDirection.Column,gap:2,padding:4,backgroundColor:c.BackgroundColor.backgroundAlternative,borderRadius:c.Size.SM},a.default.createElement(u.Box,{display:c.Display.Flex,alignItems:c.AlignItems.center,gap:1,width:c.BlockSize.Full},a.default.createElement("div",null,a.default.createElement(u.Label,{htmlFor:"custom-spending-cap",display:c.Display.Inline,marginRight:1},w("customSpendingCap")),a.default.createElement(T.CustomSpendingCapTooltip,{tooltipContentText:F(k)?H:"",tooltipIcon:F(k)?N(k,n):""})),D&&a.default.createElement(u.ButtonLink,{marginLeft:"auto",size:c.Size.auto,onClick:e=>{e.preventDefault(),j(!1),B(o)}},w("useSiteSuggestion"))),a.default.createElement(u.TextField,{inputRef:P,inputProps:{"data-testid":"custom-spending-cap-input",color:N(k,n)?c.TextColor.errorDefault:c.TextColor.textDefault,paddingInlineEnd:4},id:"custom-spending-cap",onChange:e=>B(e.target.value),placeholder:w("enterANumber"),value:k,endAccessory:a.default.createElement(u.ButtonLink,{onClick:e=>{e.preventDefault(),B(n)},"data-testid":"custom-spending-cap-max-button"},w("max")),width:c.BlockSize.Full}),a.default.createElement(u.HelpText,{color:O?c.TextColor.errorDefault:c.TextColor.textDefault,variant:c.TextVariant.bodySm},O||(F(k)?G:I)),a.default.createElement(u.ButtonLink,{size:c.Size.SM,href:b.default.TOKEN_ALLOWANCE_WITH_SPENDING_CAP,externalLink:!0},w("learnMoreUpperCase"))))}E.propTypes={txParams:o.default.object.isRequired,tokenName:o.default.string,currentTokenBalance:o.default.string,dappProposedValue:o.default.string,siteOrigin:o.default.string,passTheErrorText:o.default.func,decimals:o.default.string,setInputChangeInProgress:o.default.func.isRequired,customSpendingCap:o.default.string,setCustomSpendingCap:o.default.func.isRequired}}}},{package:"$root$",file:"ui/pages/confirmations/components/custom-spending-cap/custom-spending-cap.js"}],[5329,{"../../../../../shared/constants/gas":4348,"../../../../components/component-library":4775,"../../../../components/ui/button":4988,"../../../../components/ui/info-tooltip":5037,"../../../../contexts/i18n":5116,"../../../../helpers/constants/design-system":5143,"../../../../helpers/utils/confirm-tx.util":5168,"../advanced-gas-controls/advanced-gas-controls.component":5249,"bignumber.js":2700,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=m(e("prop-types")),o=m(e("bignumber.js")),s=e("../../../../../shared/constants/gas"),i=m(e("../../../../components/ui/button")),l=e("../../../../helpers/constants/design-system"),c=e("../../../../components/component-library"),u=e("../../../../helpers/utils/confirm-tx.util"),d=m(e("../../../../components/ui/info-tooltip")),p=m(e("../advanced-gas-controls/advanced-gas-controls.component")),f=e("../../../../contexts/i18n");function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h({mode:e=s.EditGasModes.modifyInPlace,estimatedMinimumNative:t,transaction:n,gasPrice:r,setGasPrice:m,gasLimit:g,setGasLimit:h,properGasLimit:y,dappSuggestedGasFeeAcknowledged:v,setDappSuggestedGasFeeAcknowledged:b,onManualChange:T,minimumGasLimit:_,balanceError:x,gasErrors:E,txParamsHaveBeenCustomized:M}){const k=(0,a.useContext)(f.I18nContext),C=(0,a.useRef)(null),w=(0,u.areDappSuggestedAndTxParamGasFeesTheSame)(n),A=Boolean((null==n?void 0:n.dappSuggestedGasFees)&&!v&&w);let S;g!==undefined&&y!==undefined&&new o.default(g).lessThan(new o.default(y))&&(S=k("gasLimitRecommended",[y]));const P=x&&M;return a.default.createElement("div",{className:"edit-gas-display"},a.default.createElement("div",{className:"edit-gas-display__content"},P&&a.default.createElement(c.BannerAlert,{severity:l.Severity.Danger,description:k("insufficientFunds"),marginBottom:6}),S&&a.default.createElement(c.BannerAlert,{severity:l.Severity.Warning,description:S,marginBottom:6}),A&&a.default.createElement(c.BannerAlert,{severity:l.Severity.Warning,className:"banner-alert--warning",description:k("gasDisplayDappWarning",[n.origin]),marginBottom:6}),e===s.EditGasModes.speedUp&&a.default.createElement("div",{className:"edit-gas-display__top-tooltip"},a.default.createElement(c.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.bodySm,as:"h6",fontWeight:l.FontWeight.Bold},k("speedUpTooltipText")," ",a.default.createElement(d.default,{position:"top",contentText:k("speedUpExplanation")}))),a.default.createElement(c.Text,{color:l.TextColor.textDefault,variant:l.TextVariant.headingLg,as:"h1",textAlign:l.TextAlign.Center},t),A&&a.default.createElement(i.default,{className:"edit-gas-display__dapp-acknowledgement-button",onClick:()=>b(!0)},k("gasDisplayAcknowledgeDappButtonText")),!A&&a.default.createElement(p.default,{gasLimit:g,setGasLimit:h,gasPrice:r,setGasPrice:m,onManualChange:T,minimumGasLimit:_,gasErrors:E})),a.default.createElement("div",{ref:C,className:"edit-gas-display__scroll-bottom"}))}h.propTypes={mode:r.default.oneOf(Object.values(s.EditGasModes)),estimatedMinimumNative:r.default.string,gasPrice:r.default.string,setGasPrice:r.default.func,gasLimit:r.default.number,setGasLimit:r.default.func,properGasLimit:r.default.number,dappSuggestedGasFeeAcknowledged:r.default.bool,setDappSuggestedGasFeeAcknowledged:r.default.func,transaction:r.default.object,onManualChange:r.default.func,minimumGasLimit:r.default.string,balanceError:r.default.bool,gasErrors:r.default.object,txParamsHaveBeenCustomized:r.default.bool}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-display/edit-gas-display.component.js"}],[5330,{"./edit-gas-display.component":5329},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-display.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-display/index.js"}],[5331,{"../../../../../shared/constants/gas":4348,"../../../../components/component-library":4775,"../../../../components/ui/info-tooltip/info-tooltip":5039,"../../../../contexts/gasFee":5115,"../../../../contexts/transaction-modal":5121,"../../../../helpers/constants/design-system":5143,"../../../../helpers/constants/gas":5145,"../../../../hooks/useI18nContext":5206,"../../hooks/useTransactionEventFragment":5484,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=g;var a=m(e("react")),r=m(e("prop-types")),o=e("../../../../../shared/constants/gas"),s=e("../../../../helpers/constants/design-system"),i=e("../../../../helpers/constants/gas"),l=e("../../../../contexts/gasFee"),c=e("../../../../hooks/useI18nContext"),u=e("../../hooks/useTransactionEventFragment"),d=e("../../../../contexts/transaction-modal"),p=m(e("../../../../components/ui/info-tooltip/info-tooltip")),f=e("../../../../components/component-library");function m(e){return e&&e.__esModule?e:{default:e}}function g({userAcknowledgedGasMissing:e}){const t=(0,c.useI18nContext)(),{editGasMode:n,gasLimit:r,hasSimulationError:m,estimateUsed:g,maxFeePerGas:h,maxPriorityFeePerGas:y,supportsEIP1559:v,transaction:b}=(0,l.useGasFeeContext)(),{updateTransactionEventFragment:T}=(0,u.useTransactionEventFragment)(),{openModal:_}=(0,d.useTransactionModalContext)();if(!v||!g||!(!m||!0===e))return null;let x=g,E=g;g===o.PriorityLevels.high&&n===o.EditGasModes.swaps?(x="swapSuggested",E="swapSuggested"):g===o.PriorityLevels.tenPercentIncreased&&(x=undefined,E="tenPercentIncreased");return a.default.createElement("div",{className:"edit-gas-fee-button"},a.default.createElement("button",{onClick:()=>{T({gas_edit_attempted:"basic"}),_("editGasFee")},"data-testid":"edit-gas-fee-button"},x&&a.default.createElement("span",{className:"edit-gas-fee-button__icon"},i.PRIORITY_LEVEL_ICON_MAP[x]),a.default.createElement("span",{className:"edit-gas-fee-button__label"},t(E)),a.default.createElement(f.Icon,{name:f.IconName.ArrowRight,color:s.Color.primaryDefault,size:f.IconSize.Xs})),"custom"===g&&a.default.createElement("button",{onClick:()=>{T({gas_edit_attempted:"advanced"}),_("advancedGasFee")}},t("edit")),"dappSuggested"===g&&a.default.createElement(p.default,{contentText:a.default.createElement("div",{className:"edit-gas-fee-button__tooltip"},(null==b?void 0:b.origin)&&a.default.createElement(f.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.TextColor.textAlternative},t("dappSuggestedTooltip",[b.origin])),a.default.createElement(f.Text,{variant:s.TextVariant.bodySm,as:"h6"},a.default.createElement("b",null,t("maxBaseFee"))," ",h),a.default.createElement(f.Text,{variant:s.TextVariant.bodySm,as:"h6"},a.default.createElement("b",null,t("maxPriorityFee"))," ",y),a.default.createElement(f.Text,{variant:s.TextVariant.bodySm,as:"h6"},a.default.createElement("b",null,t("gasLimit"))," ",r)),position:"top"}))}g.propTypes={userAcknowledgedGasMissing:r.default.bool}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-button/edit-gas-fee-button.js"}],[5332,{"./edit-gas-fee-button":5331},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-fee-button"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-button/index.js"}],[5333,{"../../../../components/component-library":4775,"../../../../contexts/gasFee":5115,"../../../../contexts/transaction-modal":5121,"../../../../helpers/constants/design-system":5143,"../../hooks/useTransactionEventFragment":5484,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a=u(e("react")),r=u(e("prop-types")),o=e("../../../../contexts/gasFee"),s=e("../../hooks/useTransactionEventFragment"),i=e("../../../../contexts/transaction-modal"),l=e("../../../../components/component-library"),c=e("../../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d({userAcknowledgedGasMissing:e=!1}){const{hasSimulationError:t,estimateUsed:n,supportsEIP1559:r}=(0,o.useGasFeeContext)(),{updateTransactionEventFragment:u}=(0,s.useTransactionEventFragment)(),{openModal:d}=(0,i.useTransactionModalContext)();if(!r||!n||!(!t||e))return null;return a.default.createElement(l.Button,{style:{textDecoration:"none"},size:c.Size.SM,variant:l.BUTTON_VARIANT.LINK,startIconName:l.IconName.Edit,color:c.IconColor.primaryDefault,"data-testid":"edit-gas-fee-icon",onClick:()=>{u({gas_edit_attempted:"basic"}),d("editGasFee")}})}d.propTypes={userAcknowledgedGasMissing:r.default.bool}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-icon/edit-gas-fee-icon.js"}],[5334,{"../../../../../shared/constants/gas":4348,"../../../../components/app/app-loading-spinner":4418,"../../../../components/component-library":4775,"../../../../components/ui/box":4984,"../../../../components/ui/error-message":5013,"../../../../components/ui/popover":5071,"../../../../contexts/gasFee":5115,"../../../../contexts/transaction-modal":5121,"../../../../helpers/constants/design-system":5143,"../../../../helpers/constants/error-keys":5144,"../../../../helpers/constants/zendesk-url":5155,"../../../../hooks/useI18nContext":5206,"./edit-gas-item":5336,"./network-statistics":5341,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=v(e("react")),r=e("../../../../../shared/constants/gas"),o=e("../../../../hooks/useI18nContext"),s=e("../../../../contexts/transaction-modal"),i=v(e("../../../../components/ui/box")),l=v(e("../../../../components/ui/error-message")),c=v(e("../../../../components/ui/popover")),u=e("../../../../helpers/constants/design-system"),d=e("../../../../helpers/constants/error-keys"),p=e("../../../../contexts/gasFee"),f=v(e("../../../../components/app/app-loading-spinner")),m=v(e("../../../../helpers/constants/zendesk-url")),g=e("../../../../components/component-library"),h=v(e("./edit-gas-item")),y=v(e("./network-statistics"));function v(e){return e&&e.__esModule?e:{default:e}}n.default=()=>{const{balanceError:e,editGasMode:t}=(0,p.useGasFeeContext)(),n=(0,o.useI18nContext)(),{closeAllModals:v,closeModal:b,currentModal:T,openModalCount:_}=(0,s.useTransactionModalContext)();if("editGasFee"!==T)return null;let x="editGasFeeModalTitle";return t===r.EditGasModes.cancel?x="editCancellationGasFeeModalTitle":t===r.EditGasModes.speedUp&&(x="editSpeedUpEditGasFeeModalTitle"),a.default.createElement(c.default,{title:n(x),onBack:1===_?undefined:()=>b(["editGasFee"]),onClose:v,className:"edit-gas-fee-popover"},a.default.createElement(a.default.Fragment,null,a.default.createElement(f.default,null),a.default.createElement("div",{className:"edit-gas-fee-popover__wrapper"},a.default.createElement("div",{className:"edit-gas-fee-popover__content"},a.default.createElement(i.default,null,e&&a.default.createElement(l.default,{errorKey:d.INSUFFICIENT_FUNDS_ERROR_KEY}),a.default.createElement("div",{className:"edit-gas-fee-popover__content__header"},a.default.createElement("span",{className:"edit-gas-fee-popover__content__header-option"},n("gasOption")),a.default.createElement("span",{className:"edit-gas-fee-popover__content__header-time"},t!==r.EditGasModes.swaps&&n("time")),a.default.createElement("span",{className:"edit-gas-fee-popover__content__header-max-fee"},n("maxFee"))),(t===r.EditGasModes.cancel||t===r.EditGasModes.speedUp)&&a.default.createElement(h.default,{priorityLevel:r.PriorityLevels.tenPercentIncreased}),t===r.EditGasModes.modifyInPlace&&a.default.createElement(h.default,{priorityLevel:r.PriorityLevels.low}),a.default.createElement(h.default,{priorityLevel:r.PriorityLevels.medium}),a.default.createElement(h.default,{priorityLevel:r.PriorityLevels.high}),a.default.createElement("div",{className:"edit-gas-fee-popover__content__separator"}),t===r.EditGasModes.modifyInPlace&&a.default.createElement(h.default,{priorityLevel:r.PriorityLevels.dAppSuggested}),a.default.createElement(h.default,{priorityLevel:r.PriorityLevels.custom})),a.default.createElement(i.default,null,a.default.createElement(y.default,null),a.default.createElement(g.Text,{className:"edit-gas-fee-popover__know-more",align:"center",color:u.TextColor.textAlternative,tag:u.TextVariant.bodyMd,variant:u.TextVariant.bodySm,as:"h6"},n("learnMoreAboutGas",[a.default.createElement("a",{key:"learnMoreLink",target:"_blank",rel:"noopener noreferrer",href:m.default.USER_GUIDE_GAS},n("learnMore"))])))))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-popover/edit-gas-fee-popover.js"}],[5335,{"../../../../../../shared/constants/gas":4348,"../../../../../components/app/user-preferenced-currency-display":4694,"../../../../../components/ui/info-tooltip":5037,"../../../../../components/ui/loading-heartbeat":5042,"../../../../../contexts/gasFee":5115,"../../../../../contexts/transaction-modal":5121,"../../../../../helpers/constants/common":5141,"../../../../../helpers/constants/gas":5145,"../../../../../helpers/utils/util":5185,"../../../../../hooks/useI18nContext":5206,"../../../hooks/useTransactionEventFragment":5484,"../edit-gas-tooltip/edit-gas-tooltip":5339,"./useGasItemFeeDetails":5338,classnames:2816,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=b(e("classnames")),r=b(e("prop-types")),o=b(e("react")),s=e("../../../../../../shared/constants/gas"),i=e("../../../../../helpers/constants/gas"),l=e("../../../../../helpers/constants/common"),c=e("../../../../../helpers/utils/util"),u=e("../../../../../contexts/gasFee"),d=e("../../../../../hooks/useI18nContext"),p=e("../../../hooks/useTransactionEventFragment"),f=e("../../../../../contexts/transaction-modal"),m=b(e("../../../../../components/ui/info-tooltip")),g=b(e("../../../../../components/ui/loading-heartbeat")),h=b(e("../../../../../components/app/user-preferenced-currency-display")),y=b(e("../edit-gas-tooltip/edit-gas-tooltip")),v=e("./useGasItemFeeDetails");function b(e){return e&&e.__esModule?e:{default:e}}const T=({priorityLevel:e})=>{const{editGasMode:t,estimateUsed:n,gasLimit:r,updateTransactionToTenPercentIncreasedGasFee:b,updateTransactionUsingDAPPSuggestedValues:T,updateTransactionUsingEstimate:_,transaction:x}=(0,u.useGasFeeContext)(),{updateTransactionEventFragment:E}=(0,p.useTransactionEventFragment)(),M=(0,d.useI18nContext)(),{closeModal:k,openModal:C}=(0,f.useTransactionModalContext)(),{dappSuggestedGasFees:w}=x,{estimateGreaterThanGasUse:A,hexMaximumTransactionFee:S,maxFeePerGas:P,maxPriorityFeePerGas:O,minWaitTime:L}=(0,v.useGasItemFeeDetails)(e);if(!(e!==s.PriorityLevels.dAppSuggested||null!=w&&w.maxFeePerGas||null!=w&&w.gasPrice))return null;const{title:D,icon:j}=((e,t)=>{let n=e,a=e;return e===s.PriorityLevels.dAppSuggested?a="dappSuggestedShortLabel":e===s.PriorityLevels.dappSuggestedHigh?a="dappSuggestedHighShortLabel":e===s.PriorityLevels.tenPercentIncreased?(n=null,a="tenPercentIncreased"):e===s.PriorityLevels.high&&t===s.EditGasModes.swaps&&(n="swapSuggested",a="swapSuggested"),{title:a,icon:n}})(e,t);return o.default.createElement("button",{className:(0,a.default)("edit-gas-item",{"edit-gas-item--selected":e===n,"edit-gas-item--disabled":A}),onClick:()=>{e===s.PriorityLevels.custom?(E({properties:{gas_edit_attempted:"advanced"}}),C("advancedGasFee")):(E({properties:{gas_edit_type:"basic"}}),k(["editGasFee"]),e===s.PriorityLevels.tenPercentIncreased?b():e===s.PriorityLevels.dAppSuggested?T():_(e))},"aria-label":e,autoFocus:e===n,disabled:A,"data-testid":`edit-gas-fee-item-${e}`},o.default.createElement("span",{className:"edit-gas-item__name"},j&&o.default.createElement("span",{className:`edit-gas-item__icon edit-gas-item__icon-${e}`},i.PRIORITY_LEVEL_ICON_MAP[j]),M(D)),o.default.createElement("span",{className:`edit-gas-item__time-estimate edit-gas-item__time-estimate-${e}`},t!==s.EditGasModes.swaps&&(L?(0,c.toHumanReadableTime)(M,L):"--")),o.default.createElement("span",{className:`edit-gas-item__fee-estimate edit-gas-item__fee-estimate-${e}`},S?o.default.createElement("div",{className:"edit-gas-item__maxfee"},o.default.createElement(g.default,{backgroundColor:e===n?"var(--color-background-alternative)":"var(--color-background-default)",estimateUsed:e}),o.default.createElement(h.default,{key:"editGasSubTextFeeAmount",type:l.PRIMARY,value:S})):"--"),o.default.createElement("span",{className:"edit-gas-item__tooltip","data-testid":"gas-tooltip"},o.default.createElement(m.default,{contentText:o.default.createElement(y.default,{t:M,priorityLevel:e,maxFeePerGas:P,maxPriorityFeePerGas:O,editGasMode:t,gasLimit:r,transaction:x,estimateGreaterThanGasUse:A}),position:"top"})))};T.propTypes={priorityLevel:r.default.string};n.default=T}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-popover/edit-gas-item/edit-gas-item.js"}],[5336,{"./edit-gas-item":5335},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-item"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-popover/edit-gas-item/index.js"}],[5337,{"../../../../../../shared/constants/gas":4348,"../../../../../ducks/metamask/metamask":5135,"../../../../../store/actions":5759,"bignumber.js":2700,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useCustomTimeEstimate=void 0;var a,r=e("react"),o=e("react-redux"),s=(a=e("bignumber.js"))&&a.__esModule?a:{default:a},i=e("../../../../../../shared/constants/gas"),l=e("../../../../../ducks/metamask/metamask"),c=e("../../../../../store/actions");n.useCustomTimeEstimate=({gasFeeEstimates:e,maxFeePerGas:t,maxPriorityFeePerGas:n})=>{var a;const u=(0,o.useSelector)(l.getGasEstimateType),d=(0,o.useSelector)(l.getIsGasEstimatesLoading),[p,f]=(0,r.useState)(null),m=d||u!==i.GasEstimateTypes.feeMarket||!n,g=(null==e?void 0:e.low)&&Number(n)<Number(e.low.suggestedMaxPriorityFeePerGas);if((0,r.useEffect)((()=>{!d&&u===i.GasEstimateTypes.feeMarket&&n&&g&&(0,c.getGasFeeTimeEstimate)(new s.default(n,10).toString(10),new s.default(t,10).toString(10)).then((e=>{f(e)}))}),[u,g,d,t,n,m]),m)return{};let h="";if(g&&p&&"unknown"!==p&&"unknown"!==(null==p?void 0:p.upperTimeBound))h=Number(null==p?void 0:p.upperTimeBound);else if(Number(n)>=Number(null==e||null===(a=e.medium)||void 0===a?void 0:a.suggestedMaxPriorityFeePerGas)){var y;h=null==e||null===(y=e.high)||void 0===y?void 0:y.minWaitTimeEstimate}else{var v;h=null==e||null===(v=e.low)||void 0===v?void 0:v.maxWaitTimeEstimate}return{waitTimeEstimate:h}}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-popover/edit-gas-item/useCustomTimeEstimate.js"}],[5338,{"../../../../../../shared/constants/gas":4348,"../../../../../../shared/modules/conversion.utils":4383,"../../../../../../shared/modules/gas.utils":4389,"../../../../../contexts/gasFee":5115,"../../../../../helpers/utils/gas":5171,"../../../../../selectors":5751,"./useCustomTimeEstimate":5337,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useGasItemFeeDetails=void 0;var a=e("react"),r=e("react-redux"),o=e("../../../../../../shared/constants/gas"),s=e("../../../../../../shared/modules/gas.utils"),i=e("../../../../../helpers/utils/gas"),l=e("../../../../../selectors"),c=e("../../../../../contexts/gasFee"),u=e("../../../../../../shared/modules/conversion.utils"),d=e("./useCustomTimeEstimate");n.useGasItemFeeDetails=e=>{const{editGasMode:t,estimateUsed:n,gasFeeEstimates:p,gasLimit:f,maxFeePerGas:m,maxPriorityFeePerGas:g,transaction:h}=(0,c.useGasFeeContext)(),[y,v]=(0,a.useState)(!1),b=(0,r.useSelector)(l.getAdvancedGasFeeValues);let T,_,x;const{dappSuggestedGasFees:E}=h;if(null!=p&&p[e])T=p[e].suggestedMaxFeePerGas,_=p[e].suggestedMaxPriorityFeePerGas;else if(e===o.PriorityLevels.dAppSuggested&&E)T=(0,u.hexWEIToDecGWEI)(E.maxFeePerGas||E.gasPrice),_=(0,u.hexWEIToDecGWEI)(E.maxPriorityFeePerGas||T);else if(e===o.PriorityLevels.custom)n===o.PriorityLevels.custom?(T=m,_=g):b&&t!==o.EditGasModes.swaps&&(T=b.maxBaseFee,_=b.priorityFee);else if(e===o.PriorityLevels.tenPercentIncreased&&h.previousGas){var M,k;T=(0,u.hexWEIToDecGWEI)((0,i.addTenPercentAndRound)(null===(M=h.previousGas)||void 0===M?void 0:M.maxFeePerGas)),_=(0,u.hexWEIToDecGWEI)((0,i.addTenPercentAndRound)(null===(k=h.previousGas)||void 0===k?void 0:k.maxPriorityFeePerGas))}const{waitTimeEstimate:C}=(0,d.useCustomTimeEstimate)({gasFeeEstimates:p,maxFeePerGas:T,maxPriorityFeePerGas:_});x=null!=p&&p[e]?e===o.PriorityLevels.high?null==p?void 0:p.high.minWaitTimeEstimate:null==p?void 0:p.low.maxWaitTimeEstimate:C;const w=T?(0,s.getMaximumGasTotalInHexWei)({gasLimit:(0,u.decimalToHex)(f),maxFeePerGas:(0,u.decGWEIToHexWEI)(T)}):null;return(0,a.useEffect)((()=>{if(!(t!==o.EditGasModes.cancel&&t!==o.EditGasModes.speedUp||e!==o.PriorityLevels.medium&&e!==o.PriorityLevels.high)){const t=!(0,i.gasEstimateGreaterThanGasUsedPlusTenPercent)(h.previousGas||h.txParams,p,e);v(t)}}),[t,p,e,h]),{estimateGreaterThanGasUse:y,maxFeePerGas:T,maxPriorityFeePerGas:_,minWaitTime:x,hexMaximumTransactionFee:w}}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-popover/edit-gas-item/useGasItemFeeDetails.js"}],[5339,{"../../../../../../shared/constants/gas":4348,"../../../../../components/component-library":4775,"../../../../../helpers/constants/design-system":5143,"../../../../../helpers/utils/gas":5171,"../../../../../helpers/utils/util":5185,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("../../../../../../shared/constants/gas"),i=e("../../../../../helpers/constants/design-system"),l=e("../../../../../helpers/utils/gas"),c=e("../../../../../helpers/utils/util"),u=e("../../../../../components/component-library");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=({editGasMode:e,estimateGreaterThanGasUse:t,gasLimit:n,priorityLevel:a,maxFeePerGas:o,maxPriorityFeePerGas:d,transaction:p,t:f})=>{const m=(0,r.useMemo)((()=>{switch(a){case s.PriorityLevels.low:return f("lowGasSettingToolTipMessage",[r.default.createElement("span",{key:a},r.default.createElement("b",null,f("low")))]);case s.PriorityLevels.medium:return t?f("disabledGasOptionToolTipMessage",[r.default.createElement("span",{key:`disabled-priority-level-${a}`},f(a))]):f("mediumGasSettingToolTipMessage",[r.default.createElement("span",{key:a},r.default.createElement("b",null,f("medium")))]);case s.PriorityLevels.high:return t?f("disabledGasOptionToolTipMessage",[r.default.createElement("span",{key:`disabled-priority-level-${a}`},f(a))]):e===s.EditGasModes.swaps?f("swapSuggestedGasSettingToolTipMessage"):f("highGasSettingToolTipMessage",[r.default.createElement("span",{key:a},r.default.createElement("b",null,f("high")))]);case s.PriorityLevels.custom:return f("customGasSettingToolTipMessage",[r.default.createElement("span",{key:a},r.default.createElement("b",null,f("custom")))]);case s.PriorityLevels.dAppSuggested:return null!=p&&p.origin?f("dappSuggestedGasSettingToolTipMessage",[r.default.createElement("span",{key:null==p?void 0:p.origin},null==p?void 0:p.origin)]):null;default:return""}}),[e,t,a,p,f]);let g;a===s.PriorityLevels.low?g=f("curveLowGasEstimate"):a===s.PriorityLevels.medium?g=f("curveMediumGasEstimate"):a===s.PriorityLevels.high&&(g=f("curveHighGasEstimate"));const h=(0,l.isMetamaskSuggestedGasEstimate)(a)&&!(a===s.PriorityLevels.high&&e===s.EditGasModes.swaps)&&!t;return r.default.createElement("div",{className:"edit-gas-tooltip__container"},h?r.default.createElement("img",{alt:g,src:`./images/curve-${a}.svg`}):null,m&&r.default.createElement("div",{className:"edit-gas-tooltip__container__message"},r.default.createElement(u.Text,{variant:i.TextVariant.bodySm,as:"h6"},m)),a===s.PriorityLevels.custom||t?null:r.default.createElement("div",{className:"edit-gas-tooltip__container__values"},r.default.createElement("div",null,r.default.createElement(u.Text,{variant:i.TextVariant.bodySm,as:"h6",fontWeight:i.FontWeight.Bold,className:"edit-gas-tooltip__container__label"},f("maxBaseFee")),o&&r.default.createElement(u.Text,{variant:i.TextVariant.bodySm,as:"h6",color:i.TextColor.textAlternative,className:"edit-gas-tooltip__container__value"},(0,c.roundToDecimalPlacesRemovingExtraZeroes)(o,4))),r.default.createElement("div",null,r.default.createElement(u.Text,{variant:i.TextVariant.bodySm,as:"h6",fontWeight:i.FontWeight.Bold,className:"edit-gas-tooltip__container__label"},f("priorityFeeProperCase")),d&&r.default.createElement(u.Text,{variant:i.TextVariant.bodySm,as:"h6",color:i.TextColor.textAlternative,className:"edit-gas-tooltip__container__value"},(0,c.roundToDecimalPlacesRemovingExtraZeroes)(d,4))),r.default.createElement("div",null,r.default.createElement(u.Text,{variant:i.TextVariant.bodySm,as:"h6",fontWeight:i.FontWeight.Bold,className:"edit-gas-tooltip__container__label"},f("gasLimit")),n&&r.default.createElement(u.Text,{variant:i.TextVariant.bodySm,as:"h6",color:i.TextColor.textAlternative,className:"edit-gas-tooltip__container__value"},(0,c.roundToDecimalPlacesRemovingExtraZeroes)(n,4)))))};p.propTypes={estimateGreaterThanGasUse:o.default.bool,priorityLevel:o.default.string,maxFeePerGas:o.default.oneOfType([o.default.number,o.default.string]),maxPriorityFeePerGas:o.default.oneOfType([o.default.number,o.default.string]),t:o.default.func,editGasMode:o.default.string,gasLimit:o.default.number,transaction:o.default.object};n.default=p}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-popover/edit-gas-tooltip/edit-gas-tooltip.js"}],[5340,{"./edit-gas-fee-popover":5334},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-fee-popover"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-popover/index.js"}],[5341,{"./network-statistics":5342},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./network-statistics"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-popover/network-statistics/index.js"}],[5342,{"../../../../../components/component-library":4775,"../../../../../contexts/gasFee":5115,"../../../../../contexts/i18n":5116,"../../../../../helpers/constants/design-system":5143,"../../../../../helpers/utils/gas":5171,"../../../../../helpers/utils/util":5185,"./status-slider":5343,"./tooltips":5345,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=e("../../../../../helpers/constants/design-system"),s=e("../../../../../helpers/utils/util"),i=e("../../../../../helpers/utils/gas"),l=e("../../../../../contexts/i18n"),c=e("../../../../../contexts/gasFee"),u=e("../../../../../components/component-library"),d=e("./tooltips"),p=(a=e("./status-slider"))&&a.__esModule?a:{default:a};function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n.default=()=>{const e=(0,r.useContext)(l.I18nContext),{gasFeeEstimates:t}=(0,c.useGasFeeContext)(),n=(0,i.formatGasFeeOrFeeRange)(null==t?void 0:t.estimatedBaseFee,{precision:0}),a=(0,i.formatGasFeeOrFeeRange)(null==t?void 0:t.latestPriorityFeeRange,{precision:[1,0]}),f=null==t?void 0:t.networkCongestion;return r.default.createElement("div",{className:"network-statistics"},r.default.createElement(u.Text,{color:o.TextColor.textAlternative,fontWeight:o.FontWeight.Bold,marginTop:3,marginBottom:3,variant:o.TextVariant.bodyXs,as:"h6"},e("networkStatus")),r.default.createElement("div",{className:"network-statistics__info"},(0,s.isNullish)(n)?null:r.default.createElement("div",{className:"network-statistics__field","data-testid":"formatted-latest-base-fee"},r.default.createElement(d.BaseFeeTooltip,null,r.default.createElement("span",{className:"network-statistics__field-data"},n),r.default.createElement("span",{className:"network-statistics__field-label"},e("baseFee")))),(0,s.isNullish)(a)?null:r.default.createElement("div",{className:"network-statistics__field","data-testid":"formatted-latest-priority-fee-range"},r.default.createElement(d.PriorityFeeTooltip,null,r.default.createElement("span",{className:"network-statistics__field-data"},a),r.default.createElement("span",{className:"network-statistics__field-label"},e("priorityFee")))),(0,s.isNullish)(f)?null:r.default.createElement("div",{className:"network-statistics__field"},r.default.createElement(p.default,null))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-popover/network-statistics/network-statistics.js"}],[5343,{"./status-slider":5344},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./status-slider"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-popover/network-statistics/status-slider/index.js"}],[5344,{"../../../../../../../shared/constants/gas":4348,"../../../../../../contexts/gasFee":5115,"../../../../../../hooks/useI18nContext":5206,"../tooltips":5345,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../../../../shared/constants/gas"),s=e("../../../../../../contexts/gasFee"),i=e("../../../../../../hooks/useI18nContext"),l=e("../tooltips");const c=["#037DD6","#1876C8","#2D70BA","#4369AB","#57629E","#6A5D92","#805683","#9A4D71","#B44561","#C54055","#D73A49"];n.default=()=>{const e=(0,i.useI18nContext)(),{gasFeeEstimates:t}=(0,s.useGasFeeContext)(),n=(e=>{const t=e??.5,n=Math.round(10*t),a=c[n],r=10*n;return t>=o.NetworkCongestionThresholds.busy?{statusLabel:"busy",tooltipLabel:"highLowercase",color:a,sliderTickValue:r}:t>=o.NetworkCongestionThresholds.stable?{statusLabel:"stable",tooltipLabel:"stableLowercase",color:a,sliderTickValue:r}:{statusLabel:"notBusy",tooltipLabel:"lowLowercase",color:a,sliderTickValue:r}})(t.networkCongestion);return r.default.createElement(l.NetworkStabilityTooltip,{color:n.color,tooltipLabel:n.tooltipLabel},r.default.createElement("div",{className:"status-slider"},r.default.createElement("div",{className:"status-slider__arrow-container"},r.default.createElement("div",{className:"status-slider__arrow-border",style:{marginLeft:`${n.sliderTickValue}%`},"data-testid":"status-slider-arrow-border"},r.default.createElement("div",{className:"status-slider__arrow",style:{borderTopColor:n.color},"data-testid":"status-slider-arrow"}))),r.default.createElement("div",{className:"status-slider__line"}),r.default.createElement("div",{className:"status-slider__label",style:{color:n.color},"data-testid":"status-slider-label"},e(n.statusLabel))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-popover/network-statistics/status-slider/status-slider.js"}],[5345,{"../../../../../components/ui/box":4984,"../../../../../components/ui/tooltip":5103,"../../../../../helpers/constants/design-system":5143,"../../../../../hooks/useI18nContext":5206,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.PriorityFeeTooltip=n.NetworkStabilityTooltip=n.BaseFeeTooltip=void 0;var a=c(e("react")),r=c(e("prop-types")),o=e("../../../../../hooks/useI18nContext"),s=c(e("../../../../../components/ui/box")),i=c(e("../../../../../components/ui/tooltip")),l=e("../../../../../helpers/constants/design-system");function c(e){return e&&e.__esModule?e:{default:e}}const u=({children:e,html:t,title:n})=>a.default.createElement(i.default,{position:"top",html:t,title:n},a.default.createElement(s.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.COLUMN},e));u.propTypes={children:r.default.node.isRequired,html:r.default.node,title:r.default.string};const d=({children:e})=>{const t=(0,o.useI18nContext)();return a.default.createElement(u,{html:t("networkStatusBaseFeeTooltip",[a.default.createElement("strong",{key:"base_fee_medium_estimate",className:"network-status__tooltip-label"},t("medium")),a.default.createElement("strong",{key:"base_fee_high_estimate",className:"network-status__tooltip-label"},t("high"))])},e)};n.BaseFeeTooltip=d,d.propTypes={children:r.default.node.isRequired};const p=({children:e})=>{const t=(0,o.useI18nContext)();return a.default.createElement(u,{title:t("networkStatusPriorityFeeTooltip")},e)};n.PriorityFeeTooltip=p,p.propTypes={children:r.default.node.isRequired};const f=({children:e,color:t,tooltipLabel:n})=>{const r=(0,o.useI18nContext)();return a.default.createElement(u,{html:r("networkStatusStabilityFeeTooltip",[a.default.createElement("strong",{key:"network-status__tooltip",className:"network-status__tooltip-label",style:{color:t}},r(n))])},e)};n.NetworkStabilityTooltip=f,f.propTypes={children:r.default.node.isRequired,color:r.default.string.isRequired,tooltipLabel:r.default.string.isRequired}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-fee-popover/network-statistics/tooltips.js"}],[5346,{"../../../../../shared/constants/gas":4348,"../../../../../shared/modules/conversion.utils":4383,"../../../../../shared/modules/transaction.utils":4405,"../../../../components/component-library":4775,"../../../../components/component-library/modal-content/deprecated":4783,"../../../../components/component-library/modal-header/deprecated":4792,"../../../../components/ui/loading-heartbeat":5042,"../../../../contexts/i18n":5116,"../../../../store/actions":5759,"../../hooks/useGasFeeInputs":5475,"../../hooks/useIncrementedGasFees":5477,"../edit-gas-display":5330,"prop-types":3794,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=_;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=v(e("prop-types")),o=e("react-redux"),s=e("../../hooks/useGasFeeInputs"),i=e("../../../../../shared/modules/transaction.utils"),l=e("../../../../../shared/constants/gas"),c=e("../../../../components/component-library"),u=e("../../../../components/component-library/modal-content/deprecated"),d=e("../../../../components/component-library/modal-header/deprecated"),p=v(e("../edit-gas-display")),f=e("../../../../contexts/i18n"),m=e("../../../../store/actions"),g=v(e("../../../../components/ui/loading-heartbeat")),h=e("../../hooks/useIncrementedGasFees"),y=e("../../../../../shared/modules/conversion.utils");function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},T.apply(this,arguments)}function _({popoverTitle:e="",confirmButtonText:t="",editGasDisplayProps:n={},transaction:r,mode:v,onClose:b,minimumGasLimit:_=l.GAS_LIMITS.SIMPLE}){const x=(0,a.useContext)(f.I18nContext),E=(0,o.useDispatch)(),[M,k]=(0,a.useState)(!1),C=(0,y.hexToDecimal)(_),w=(0,h.useIncrementedGasFees)(r);let A=r;v!==l.EditGasModes.speedUp&&v!==l.EditGasModes.cancel||(A={...r,userFeeLevel:l.CUSTOM_GAS_ESTIMATE,txParams:{...r.txParams,...w}});const{estimatedMinimumNative:S,gasPrice:P,setGasPrice:O,gasLimit:L,setGasLimit:D,properGasLimit:j,estimateToUse:I,hasGasErrors:F,gasErrors:N,onManualChange:R,balanceError:G}=(0,s.useGasFeeInputs)(l.GasRecommendations.medium,A,_,v),J=I===l.CUSTOM_GAS_ESTIMATE||(0,i.txParamsAreDappSuggested)(A),B=(0,a.useCallback)((()=>{b?b():E((0,m.hideModal)())}),[b,E]),H=(0,a.useCallback)((async()=>{A&&v||B();const e={gas:(0,y.decimalToHex)(L),gasLimit:(0,y.decimalToHex)(L),estimateUsed:I,gasPrice:(0,y.decGWEIToHexWEI)(P)},t={...A.txParams},n={...A,userEditedGasLimit:L!==Number(r.originalGasEstimate),userFeeLevel:I||l.CUSTOM_GAS_ESTIMATE,txParams:{...t,...e}};switch(v){case l.EditGasModes.cancel:E((0,m.createCancelTransaction)(A.id,e));break;case l.EditGasModes.speedUp:E((0,m.createSpeedUpTransaction)(A.id,e));break;case l.EditGasModes.modifyInPlace:e.userEditedGasLimit=n.userEditedGasLimit,e.userFeeLevel=n.userFeeLevel,E((0,m.showLoadingIndication)()),await E((0,m.updateTransactionGasFees)(n.id,e)),E((0,m.hideLoadingIndication)())}B()}),[A,v,E,B,L,P,r.originalGasEstimate,I]);let X=x("editGasTitle");e?X=e:v===l.EditGasModes.speedUp?X=x("speedUpPopoverTitle"):v===l.EditGasModes.cancel&&(X=x("cancelPopoverTitle"));const U=t||x("save");return a.default.createElement(c.Modal,{isOpen:!0,onClose:B},a.default.createElement(c.ModalOverlay,null),a.default.createElement(u.ModalContent,{autoFocus:!1,className:"edit-gas-popover"},a.default.createElement(d.ModalHeader,{onClose:B,marginBottom:4},X),a.default.createElement("div",{className:"edit-gas-popover__edit-gas-display"},a.default.createElement(g.default,null),a.default.createElement(p.default,T({dappSuggestedGasFeeAcknowledged:M,setDappSuggestedGasFeeAcknowledged:k,estimatedMinimumNative:S,gasPrice:P,setGasPrice:O,gasLimit:L,setGasLimit:D,properGasLimit:j,mode:v,transaction:A,onManualChange:R,minimumGasLimit:C,balanceError:G,txParamsHaveBeenCustomized:J,gasErrors:N},n))),a.default.createElement(c.Button,{block:!0,variant:c.ButtonVariant.Primary,size:c.ButtonSize.LG,marginTop:4,onClick:H,disabled:F||G||!J},U)))}_.propTypes={popoverTitle:r.default.string,editGasDisplayProps:r.default.object,confirmButtonText:r.default.string,onClose:r.default.func,transaction:r.default.object,mode:r.default.oneOf(Object.values(l.EditGasModes)),minimumGasLimit:r.default.string}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-popover/edit-gas-popover.component.js"}],[5347,{"./edit-gas-popover.component":5346},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./edit-gas-popover.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/edit-gas-popover/index.js"}],[5348,{"../../../../../shared/modules/conversion.utils":4383,"../../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component":4695,"../../../../components/component-library":4775,"../../../../components/ui/loading-heartbeat":5042,"../../../../contexts/gasFee":5115,"../../../../helpers/constants/common":5141,"../../../../helpers/constants/design-system":5143,"../../../../hooks/useI18nContext":5206,"../../../../selectors":5751,"../transaction-detail-item/transaction-detail-item.component":5414,"prop-types":3794,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=h(e("prop-types")),s=e("../../../../helpers/constants/design-system"),i=e("../../../../components/component-library"),l=h(e("../transaction-detail-item/transaction-detail-item.component")),c=e("../../../../selectors"),u=e("../../../../hooks/useI18nContext"),d=h(e("../../../../components/ui/loading-heartbeat")),p=h(e("../../../../components/app/user-preferenced-currency-display/user-preferenced-currency-display.component")),f=e("../../../../helpers/constants/common"),m=e("../../../../../shared/modules/conversion.utils"),g=e("../../../../contexts/gasFee");function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function v({txData:e,useCurrencyRateCheck:t,hideGasDetails:n=!1}){const o=(null==e?void 0:e.layer1GasFee)??null,[h,y]=(0,a.useState)(!1),{useNativeCurrencyAsPrimaryCurrency:v}=(0,r.useSelector)(c.getPreferences),b=(0,u.useI18nContext)(),{minimumCostInHexWei:T}=(0,g.useGasFeeContext)(),_=(0,a.useMemo)((()=>(0,m.addHexes)(T,o??0)),[T,o]),x=(0,a.useCallback)((t=>a.default.createElement("div",{className:"confirm-page-container-content__total-value"},a.default.createElement(d.default,{estimateUsed:null==e?void 0:e.userFeeLevel}),a.default.createElement(p.default,{type:f.SECONDARY,key:"total-detail-text",value:t,hideLabel:Boolean(v)}))),[e,v]),E=(0,a.useCallback)((t=>a.default.createElement("div",{className:"confirm-page-container-content__total-value"},a.default.createElement(d.default,{estimateUsed:null==e?void 0:e.userFeeLevel}),a.default.createElement(p.default,{type:f.PRIMARY,key:"total-detail-value",value:t,hideLabel:!v}))),[e,v]),M=null!==o;return a.default.createElement(a.default.Fragment,null,a.default.createElement(i.Box,{display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,flexDirection:s.FlexDirection.Column},!n&&M&&a.default.createElement(i.Box,{padding:4,display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center},a.default.createElement(i.Button,{style:{textDecoration:"none"},size:s.Size.Xs,variant:i.BUTTON_VARIANT.LINK,endIconName:h?i.IconName.ArrowUp:i.IconName.ArrowDown,color:s.IconColor.primaryDefault,"data-testid":"expand-fee-details-button",onClick:()=>y(!h)},a.default.createElement(i.Text,{variant:s.TextVariant.bodySm,color:s.IconColor.primaryDefault},b("feeDetails"))))),!n&&h&&a.default.createElement(i.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column},M&&a.default.createElement(l.default,{detailTitle:b("layer2Fees"),detailText:t&&x(T),detailTotal:E(T),boldHeadings:!1}),o&&a.default.createElement(l.default,{detailTitle:b("layer1Fees"),detailText:t&&x(o),detailTotal:E(o),boldHeadings:!1}),!M&&a.default.createElement(l.default,{detailTitle:b("total"),detailText:t&&x(_),detailTotal:E(_)})))}v.propTypes={txData:o.default.object,useCurrencyRateCheck:o.default.bool,hideGasDetails:o.default.bool}}}},{package:"$root$",file:"ui/pages/confirmations/components/fee-details-component/fee-details-component.js"}],[5349,{"../../../../../shared/constants/gas":4348,"../../../../../shared/modules/conversion.utils":4383,"../../../../components/app/user-preferenced-currency-display":4694,"../../../../components/component-library":4775,"../../../../components/ui/box":4984,"../../../../components/ui/loading-heartbeat":5042,"../../../../components/ui/tooltip":5103,"../../../../contexts/gasFee":5115,"../../../../ducks/send":5137,"../../../../helpers/constants/common":5141,"../../../../helpers/constants/design-system":5143,"../../../../hooks/useI18nContext":5206,"../../../../selectors":5751,"../../hooks/useDraftTransactionWithTxParams":5472,"../edit-gas-fee-icon/edit-gas-fee-icon":5333,"../gas-timing/gas-timing.component":5351,"../transaction-detail-item/transaction-detail-item.component":5414,classnames:2816,"prop-types":3794,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=M(e("prop-types")),o=M(e("classnames")),s=e("react-redux"),i=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../helpers/constants/common"),u=e("../../../../../shared/constants/gas"),d=e("../../../../selectors"),p=e("../../../../ducks/send"),f=e("../../../../../shared/modules/conversion.utils"),m=e("../../hooks/useDraftTransactionWithTxParams"),g=e("../../../../contexts/gasFee"),h=e("../../../../hooks/useI18nContext"),y=M(e("../../../../components/ui/box")),v=M(e("../../../../components/ui/loading-heartbeat")),b=M(e("../edit-gas-fee-icon/edit-gas-fee-icon")),T=M(e("../gas-timing/gas-timing.component")),_=M(e("../transaction-detail-item/transaction-detail-item.component")),x=M(e("../../../../components/app/user-preferenced-currency-display")),E=M(e("../../../../components/ui/tooltip"));function M(e){return e&&e.__esModule?e:{default:e}}function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}const C=({"data-testid":e,userAcknowledgedGasMissing:t=!1})=>{var n,r;const M=(0,h.useI18nContext)(),k=(0,s.useSelector)(d.getTxData),{layer1GasFee:C}=k,w=(0,s.useSelector)(p.getCurrentDraftTransaction),A=(0,m.useDraftTransactionWithTxParams)(),{hexMinimumTransactionFee:S,hexMaximumTransactionFee:P}=(0,s.useSelector)((e=>(0,d.transactionFeeSelector)(e,A))),{estimateUsed:O,hasSimulationError:L,isNetworkBusy:D,maximumCostInHexWei:j,minimumCostInHexWei:I,maxPriorityFeePerGas:F,maxFeePerGas:N,supportsEIP1559:R}=(0,g.useGasFeeContext)(),{useNativeCurrencyAsPrimaryCurrency:G}=(0,s.useSelector)(d.getPreferences),J=(0,s.useSelector)(d.getUseCurrencyRateCheck),B=(0,a.useMemo)((()=>C?(0,f.sumHexes)(I,C):I),[I,C]),H=(0,a.useMemo)((()=>C?(0,f.sumHexes)(j,C):j),[j,C]);if(L&&!t)return null;const X=(F??(0,f.hexWEIToDecGWEI)((null===(n=A.txParams)||void 0===n?void 0:n.maxPriorityFeePerGas)??"0x0")).toString(),U=(N??(0,f.hexWEIToDecGWEI)((null===(r=A.txParams)||void 0===r?void 0:r.maxFeePerGas)??"0x0")).toString();return a.default.createElement(_.default,{key:"gas-details-item","data-testid":e,detailTitle:R&&D?a.default.createElement(a.default.Fragment,null,a.default.createElement(i.Text,null,M("estimatedFee")),a.default.createElement(E.default,{interactive:!0,position:"top",html:M("networkIsBusy")},"  ",a.default.createElement(i.Icon,{"data-testid":"network-busy-tooltip",name:i.IconName.Danger,size:i.IconSize.Sm,color:l.IconColor.errorDefault,marginTop:2}))):a.default.createElement(i.Text,null,M("estimatedFee")),detailTitleColor:l.TextColor.textDefault,detailText:0===Object.keys(w).length&&a.default.createElement("div",{className:"gas-details-item__currency-container"},a.default.createElement(v.default,{estimateUsed:O}),a.default.createElement(b.default,{userAcknowledgedGasMissing:t}),J&&a.default.createElement(x.default,{type:c.SECONDARY,value:B,hideLabel:Boolean(G)})),detailTotal:a.default.createElement("div",{className:"gas-details-item__currency-container"},a.default.createElement(v.default,{estimateUsed:O}),a.default.createElement(x.default,{type:c.PRIMARY,value:B||S,hideLabel:!G})),subText:a.default.createElement(a.default.Fragment,null,a.default.createElement(y.default,{key:"editGasSubTextFeeLabel",display:"inline-flex",className:(0,o.default)("gas-details-item__gasfee-label",{"gas-details-item__gas-fee-warning":O===u.PriorityLevels.high||O===u.PriorityLevels.dappSuggestedHigh})},a.default.createElement(v.default,{estimateUsed:O}),a.default.createElement(y.default,{marginRight:1},a.default.createElement("strong",null,(O===u.PriorityLevels.high||O===u.PriorityLevels.dappSuggestedHigh)&&"⚠ ",M("editGasSubTextFeeLabel"))),a.default.createElement("div",{key:"editGasSubTextFeeValue",className:"gas-details-item__currency-container"},a.default.createElement(v.default,{estimateUsed:O}),a.default.createElement(x.default,{key:"editGasSubTextFeeAmount",type:c.PRIMARY,value:H||P,hideLabel:!G})))),subTitle:a.default.createElement(T.default,{maxPriorityFeePerGas:X,maxFeePerGas:U})})};C.propTypes={"data-testid":r.default.string,userAcknowledgedGasMissing:r.default.bool};n.default=C}}},{package:"$root$",file:"ui/pages/confirmations/components/gas-details-item/gas-details-item.js"}],[5350,{"./gas-details-item":5349},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./gas-details-item"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/gas-details-item/index.js"}],[5351,{"../../../../../shared/constants/gas":4348,"../../../../components/component-library":4775,"../../../../components/ui/typography/typography":5108,"../../../../contexts/gasFee":5115,"../../../../contexts/i18n":5116,"../../../../ducks/metamask/metamask":5135,"../../../../helpers/constants/design-system":5143,"../../../../helpers/constants/gas":5145,"../../../../hooks/usePrevious":5215,"../../../../store/actions":5759,"../../hooks/useDraftTransactionWithTxParams":5472,"bignumber.js":2700,classnames:2816,"prop-types":3794,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=x;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=b(e("bignumber.js")),o=b(e("prop-types")),s=b(e("classnames")),i=e("react-redux"),l=e("../../../../components/component-library"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../ducks/metamask/metamask"),d=e("../../../../helpers/constants/gas"),p=e("../../../../../shared/constants/gas"),f=e("../../../../contexts/i18n"),m=b(e("../../../../components/ui/typography/typography")),g=e("../../../../store/actions"),h=e("../../../../contexts/gasFee"),y=e("../../../../hooks/usePrevious"),v=e("../../hooks/useDraftTransactionWithTxParams");function b(e){return e&&e.__esModule?e:{default:e}}function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}const _=(e=1,t)=>{const n=Math.ceil(e/1e3);return n<=90?t("gasTimingSecondsShort",[n]):t("gasTimingMinutesShort",[Math.ceil(n/60)])};function x({maxFeePerGas:e=0,maxPriorityFeePerGas:t=0,gasWarnings:n}){const o=(0,i.useSelector)(u.getGasEstimateType),b=(0,i.useSelector)(u.getGasFeeEstimates),T=(0,i.useSelector)(u.getIsGasEstimatesLoading),[x,E]=(0,a.useState)(null),M=(0,a.useContext)(f.I18nContext),{estimateUsed:k}=(0,h.useGasFeeContext)(),C=(0,v.useDraftTransactionWithTxParams)(),w=(null==b?void 0:b.low)&&Number(t)<Number(b.low.suggestedMaxPriorityFeePerGas),A=(0,y.usePrevious)(e),S=(0,y.usePrevious)(t),P=(0,y.usePrevious)(w);if((0,a.useEffect)((()=>{let n=!0;const a=t,o=e;return(w||a&&a!==S||o&&o!==A)&&(0,g.getGasFeeTimeEstimate)(new r.default(a,10).toString(10),new r.default(o,10).toString(10)).then((r=>{e===o&&t===a&&n&&E(r)})),!1!==w&&!0===P&&E(null),()=>{n=!1}}),[t,e,w,A,S,P]),(null==n?void 0:n.maxPriorityFee)===d.GAS_FORM_ERRORS.MAX_PRIORITY_FEE_TOO_LOW||(null==n?void 0:n.maxFee)===d.GAS_FORM_ERRORS.MAX_FEE_TOO_LOW)return a.default.createElement(m.default,{variant:c.TypographyVariant.H7,fontWeight:c.FONT_WEIGHT.BOLD,className:(0,s.default)("gas-timing","gas-timing--negative")},M("editGasTooLow"));if(T||o!==p.GasEstimateTypes.feeMarket)return null;const{low:O={},medium:L={},high:D={}}=b,j=k||C.userFeeLevel||"medium";let I=M(j),F="",N="positive";"low"===j&&(I=M("gasTimingLow")),Number(t)>=Number(L.suggestedMaxPriorityFeePerGas)?F=Number(t)<Number(D.suggestedMaxPriorityFeePerGas)?_(O.maxWaitTimeEstimate,M):_(D.minWaitTimeEstimate,M):w?("low"===j&&(N="negative"),x&&"unknown"!==x&&"unknown"!==(null==x?void 0:x.upperTimeBound)?F=_(Number(null==x?void 0:x.upperTimeBound),M):(I=M("editGasTooLow"),N="negative")):F=_(O.maxWaitTimeEstimate,M);return a.default.createElement(l.Box,{display:c.Display.Flex},a.default.createElement(l.Text,{color:c.TextColor.textMuted,variant:c.TextVariant.bodyXs},I),a.default.createElement(l.Text,{variant:c.TextVariant.bodyXs,marginLeft:1,color:(()=>{switch(N){case"positive":default:return c.TextColor.successDefault;case"warning":return c.TextColor.warningDefault;case"negative":return c.TextColor.errorDefault}})()},a.default.createElement("span",{"data-testid":"gas-timing-time"},"~",F)))}x.propTypes={maxPriorityFeePerGas:o.default.string,maxFeePerGas:o.default.string,gasWarnings:o.default.object}}}},{package:"$root$",file:"ui/pages/confirmations/components/gas-timing/gas-timing.component.js"}],[5352,{"./ledger-instruction-field":5353},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./ledger-instruction-field"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/ledger-instruction-field/index.js"}],[5353,{"../../../../../app/scripts/lib/util":97,"../../../../../shared/constants/app":4343,"../../../../../shared/constants/hardware-wallets":4349,"../../../../components/component-library":4775,"../../../../ducks/app/app":5126,"../../../../ducks/metamask/metamask":5135,"../../../../helpers/constants/design-system":5143,"../../../../hooks/useI18nContext":5206,"../../../../store/actions":5759,"prop-types":3794,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=v;var a,r=(a=e("prop-types"))&&a.__esModule?a:{default:a},o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),s=e("react-redux"),i=e("../../../../../app/scripts/lib/util"),l=e("../../../../../shared/constants/app"),c=e("../../../../../shared/constants/hardware-wallets"),u=e("../../../../ducks/app/app"),d=e("../../../../ducks/metamask/metamask"),p=e("../../../../helpers/constants/design-system"),f=e("../../../../hooks/useI18nContext"),m=e("../../../../store/actions"),g=e("../../../../components/component-library");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const y=(e,t=!0,n=p.TextColor.textDefault)=>t&&o.default.createElement(g.Text,{color:n,as:"h6"},e);function v({showDataInstruction:e}){const t=(0,f.useI18nContext)(),n=(0,s.useDispatch)(),a=(0,s.useSelector)(u.getLedgerWebHidConnectedStatus),r=(0,s.useSelector)(d.getLedgerTransportType),h=(0,s.useSelector)(u.getLedgerTransportStatus),v=(0,i.getEnvironmentType)()===l.ENVIRONMENT_TYPE_FULLSCREEN;(0,o.useEffect)((()=>{(async()=>{if(r===c.LedgerTransportTypes.webhid&&a===c.WebHIDConnectedStatuses.connected&&h===c.HardwareTransportStates.none)try{const e=await(0,m.attemptLedgerTransportCreation)();n((0,u.setLedgerTransportStatus)(e?c.HardwareTransportStates.verified:c.HardwareTransportStates.unknownFailure))}catch(e){e.message.match("Failed to open the device")?n((0,u.setLedgerTransportStatus)(c.HardwareTransportStates.deviceOpenFailure)):e.message.match("the device is already open")?n((0,u.setLedgerTransportStatus)(c.HardwareTransportStates.verified)):n((0,u.setLedgerTransportStatus)(c.HardwareTransportStates.unknownFailure))}})(),(async()=>{if(r===c.LedgerTransportTypes.webhid&&a!==c.WebHIDConnectedStatuses.connected){var e;const t=await(null===(e=window.navigator)||void 0===e||null===(e=e.hid)||void 0===e?void 0:e.getDevices()),a=null==t?void 0:t.some((e=>e.vendorId===Number(c.LEDGER_USB_VENDOR_ID)));n((0,u.setLedgerWebHidConnectedStatus)(a?c.WebHIDConnectedStatuses.connected:c.WebHIDConnectedStatuses.notConnected))}})()}),[n,r,a,h]),(0,o.useEffect)((()=>()=>{n((0,u.setLedgerTransportStatus)(c.HardwareTransportStates.none))}),[n]);const b=r===c.LedgerTransportTypes.webhid;return o.default.createElement("div",null,o.default.createElement("div",{className:"confirm-detail-row"},o.default.createElement(g.BannerAlert,{severity:p.SEVERITIES.INFO},o.default.createElement("div",{className:"ledger-live-dialog"},y(t("ledgerConnectionInstructionHeader")),y(`• ${t("ledgerConnectionInstructionStepThree")}`),y(`• ${t("ledgerConnectionInstructionStepFour")}`,e),y(o.default.createElement("span",null,o.default.createElement(g.ButtonLink,{textAlign:p.TextAlign.Left,onClick:async()=>{v?window.location.reload():global.platform.openExtensionInBrowser(null,null,!0)}},t("ledgerConnectionInstructionCloseOtherApps"))),h===c.HardwareTransportStates.deviceOpenFailure),y(o.default.createElement("span",null,o.default.createElement(g.ButtonLink,{textAlign:p.TextAlign.Left,onClick:async()=>{if(v){const e=(await window.navigator.hid.requestDevice({filters:[{vendorId:c.LEDGER_USB_VENDOR_ID}]})).some((e=>e.vendorId===Number(c.LEDGER_USB_VENDOR_ID)));n((0,u.setLedgerWebHidConnectedStatus)({webHidConnectedStatus:e?c.WebHIDConnectedStatuses.connected:c.WebHIDConnectedStatuses.notConnected}))}else global.platform.openExtensionInBrowser(null,null,!0)}},t(v?"clickToConnectLedgerViaWebHID":"openFullScreenForLedgerWebHid"))),b&&a===c.WebHIDConnectedStatuses.notConnected,p.TextColor.warningDefault)))))}v.propTypes={showDataInstruction:r.default.bool}}}},{package:"$root$",file:"ui/pages/confirmations/components/ledger-instruction-field/ledger-instruction-field.js"}],[5354,{"./multi-layer-fee-message":5355},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./multi-layer-fee-message"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/multilayer-fee-message/index.js"}],[5355,{"../../../../../shared/constants/common":4345,"../../../../../shared/modules/Numeric":4379,"../../../../../shared/modules/conversion.utils":4383,"../../../../components/app/user-preferenced-currency-display":4694,"../../../../contexts/i18n":5116,"../../../../helpers/constants/common":5141,"../../../../selectors":5751,"../transaction-detail-item/transaction-detail-item.component":5414,"prop-types":3794,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=h;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=m(e("prop-types")),s=m(e("../transaction-detail-item/transaction-detail-item.component")),i=m(e("../../../../components/app/user-preferenced-currency-display")),l=e("../../../../helpers/constants/common"),c=e("../../../../contexts/i18n"),u=e("../../../../../shared/modules/conversion.utils"),d=e("../../../../../shared/constants/common"),p=e("../../../../../shared/modules/Numeric"),f=e("../../../../selectors");function m(e){return e&&e.__esModule?e:{default:e}}function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function h({transaction:e,layer2fee:t,nativeCurrency:n,plainStyle:o}){var m;const g=(0,a.useContext)(c.I18nContext),{layer1GasFee:h}=e,y=(0,r.useSelector)(f.getUseCurrencyRateCheck);if(null==e||!e.txParams)return null;let v=g("unknown"),b=g("unknown");if(h){v=`${new p.Numeric(h,16,d.EtherDenomination.WEI).toDenomination(d.EtherDenomination.ETH).toFixed(12)} ${n}`,b=y?a.default.createElement(i.default,{type:l.SECONDARY,value:h,showFiat:!0,hideLabel:!0}):null}const T=(0,u.sumHexes)(t||"0x0",h||"0x0",(null==e||null===(m=e.txParams)||void 0===m?void 0:m.value)||"0x0"),_=`${new p.Numeric(T,16,d.EtherDenomination.WEI).toDenomination(d.EtherDenomination.ETH).toFixed(12)} ${n}`,x=y?a.default.createElement(i.default,{type:l.SECONDARY,value:T,showFiat:!0,hideLabel:!0}):null;return a.default.createElement("div",{className:"multi-layer-fee-message"},a.default.createElement(s.default,{key:"multi-layer-fee-message-total-item-gas-fee",detailTitle:g("layer1Fees"),detailTotal:v,detailText:y&&b,noBold:o,flexWidthValues:o}),a.default.createElement(s.default,{key:"multi-layer-fee-message-total-item-total",detailTitle:g("total"),detailTotal:_,detailText:x,subTitle:g("transactionDetailMultiLayerTotalSubtitle"),noBold:o,flexWidthValues:o}))}h.propTypes={transaction:o.default.object,layer2fee:o.default.string,nativeCurrency:o.default.string,plainStyle:o.default.bool}}}},{package:"$root$",file:"ui/pages/confirmations/components/multilayer-fee-message/multi-layer-fee-message.js"}],[5356,{"../../../../../shared/modules/Numeric":4379,"../../../../components/component-library":4775,"../../../../components/ui/tooltip":5103,"../../../../contexts/i18n":5116,"../../../../helpers/constants/design-system":5143,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=u(e("prop-types")),o=e("../../../../contexts/i18n"),s=u(e("../../../../components/ui/tooltip")),i=e("../../../../components/component-library"),l=e("../../../../helpers/constants/design-system"),c=e("../../../../../shared/modules/Numeric");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p({tokenName:e,currentTokenBalance:t,tokenValue:n,onEdit:r}){const u=(0,a.useContext)(o.I18nContext),d=new c.Numeric(Number(n),10).greaterThan(Number(t),10);return a.default.createElement(i.Box,{className:"review-spending-cap",borderRadius:l.Size.SM,paddingTop:4,paddingRight:4,paddingLeft:4,display:l.Display.Flex,alignItems:l.AlignItems.flexStart,flexDirection:l.FlexDirection.Column,backgroundColor:l.BackgroundColor.backgroundAlternative,gap:1},a.default.createElement(i.Box,{flexDirection:l.FlexDirection.Row,display:l.Display.Flex,alignItems:l.AlignItems.center,className:"review-spending-cap__heading"},a.default.createElement(i.Box,{flexDirection:l.FlexDirection.Row,className:"review-spending-cap__heading-title"},a.default.createElement(i.Text,{variant:l.TextVariant.bodySmBold,as:"h6",display:l.Display.InlineBlock},u("dappRequestedSpendingCap")),a.default.createElement(i.Box,{marginLeft:2,display:l.Display.InlineBlock},a.default.createElement(s.default,{interactive:!0,position:"top",html:a.default.createElement(i.Text,{variant:l.TextVariant.bodySmBold,as:"h6",color:l.TextColor.textAlternative,className:"review-spending-cap__heading-title__tooltip"},d&&u("warningTooltipText",[a.default.createElement(i.Text,{key:"tooltip-text",variant:l.TextVariant.bodySmBold,as:"h6",color:l.TextColor.errorDefault},a.default.createElement(i.Icon,{name:i.IconName.Warning,style:{verticalAlign:"middle"}}),u("beCareful"))]),0===Number(n)&&u("revokeSpendingCapTooltipText"))},d&&a.default.createElement(i.Icon,{className:"review-spending-cap__heading-title__tooltip__warning-icon",name:i.IconName.Danger,color:l.IconColor.errorDefault,size:i.IconSize.Sm,style:{verticalAlign:"middle"}}),0===Number(n)&&a.default.createElement(i.Icon,{className:"review-spending-cap__heading-title__tooltip__question-icon",name:i.IconName.Question,color:l.IconColor.iconDefault})))),a.default.createElement(i.Box,{className:"review-spending-cap__heading-detail",textAlign:l.TextAlign.End},a.default.createElement(i.ButtonLink,{size:l.Size.auto,onClick:e=>{e.preventDefault(),r()}},u("edit")))),a.default.createElement(i.Box,{className:"review-spending-cap__value"},a.default.createElement(i.Text,{color:d?l.TextColor.errorDefault:l.TextColor.textDefault,variant:l.TextVariant.bodySmBold,as:"h6",marginBottom:3},n," ",e)))}p.propTypes={tokenName:r.default.string,currentTokenBalance:r.default.string,tokenValue:r.default.string,onEdit:r.default.func}}}},{package:"$root$",file:"ui/pages/confirmations/components/review-spending-cap/review-spending-cap.js"}],[5357,{"../../../../../../shared/constants/network":4355,"../../../../../../shared/constants/security-provider":4361,"../../../../../components/component-library":4775,"../../../../../components/ui/loading-indicator":5043,"../../../../../contexts/i18n":5116,"../../../../../helpers/constants/design-system":5143,"../../../../../selectors":5751,"../../../hooks/useTransactionEventFragment":5484,"../security-provider-banner-alert":5360,"./blockaid-banner-utils":5358,"@blockaid/ppom_release/package.json":261,"@sentry/browser":2179,"prop-types":3794,react:4037,"react-redux":4002,zlib:2789},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=v(e("prop-types")),o=e("@sentry/browser"),s=v(e("@blockaid/ppom_release/package.json")),i=e("react-redux"),l=e("../../../../../../shared/constants/network"),c=e("../../../../../helpers/constants/design-system"),u=e("../../../../../contexts/i18n"),d=e("../../../../../../shared/constants/security-provider"),p=e("../../../../../components/component-library"),f=e("../../../hooks/useTransactionEventFragment"),m=v(e("../security-provider-banner-alert")),g=v(e("../../../../../components/ui/loading-indicator")),h=e("../../../../../selectors"),y=e("./blockaid-banner-utils");function v(e){return e&&e.__esModule?e:{default:e}}function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},T.apply(this,arguments)}const _=e("zlib"),x=Object.freeze({[d.BlockaidReason.approvalFarming]:"blockaidDescriptionApproveFarming",[d.BlockaidReason.permitFarming]:"blockaidDescriptionApproveFarming",[d.BlockaidReason.setApprovalForAll]:"blockaidDescriptionApproveFarming",[d.BlockaidReason.blurFarming]:"blockaidDescriptionBlurFarming",[d.BlockaidReason.errored]:"blockaidDescriptionErrored",[d.BlockaidReason.seaportFarming]:"blockaidDescriptionSeaportFarming",[d.BlockaidReason.maliciousDomain]:"blockaidDescriptionMaliciousDomain",[d.BlockaidReason.rawSignatureFarming]:"blockaidDescriptionMightLoseAssets",[d.BlockaidReason.tradeOrderFarming]:"blockaidDescriptionMightLoseAssets",[d.BlockaidReason.rawNativeTokenTransfer]:"blockaidDescriptionTransferFarming",[d.BlockaidReason.transferFarming]:"blockaidDescriptionTransferFarming",[d.BlockaidReason.transferFromFarming]:"blockaidDescriptionTransferFarming",[d.BlockaidReason.other]:"blockaidDescriptionMightLoseAssets"}),E=Object.freeze({[d.BlockaidReason.errored]:"blockaidTitleMayNotBeSafe",[d.BlockaidReason.rawSignatureFarming]:"blockaidTitleSuspicious"});function M({txData:e,...t}){const{securityAlertResponse:n,origin:r,msgParams:v,type:b,txParams:M,chainId:k}=e,C=(0,i.useSelector)(h.getCurrentChainId),w=(0,a.useContext)(u.I18nContext),{updateTransactionEventFragment:A}=(0,f.useTransactionEventFragment)();if(!n||0===Object.keys(n).length)return null;if("loading"===n.reason)return a.default.createElement(g.default,{isLoading:!0,style:{position:"relative",flex:"0 0 auto",margin:"8px auto 0"}});const{block:S,features:P,reason:O,result_type:L}=n;if(L===d.BlockaidResultType.Benign)return null;x[O]||(0,o.captureException)(`BlockaidBannerAlert: Unidentified reason '${O}'`);const D=w(x[O]||x.other),j=null!=P&&P.length?a.default.createElement(p.Text,{as:"ul",overflowWrap:c.OverflowWrap.BreakWord},P.map(((e,t)=>a.default.createElement("li",{key:`blockaid-detail-${t}`},"• ",e)))):null,I=L===d.BlockaidResultType.Errored,F=L===d.BlockaidResultType.Malicious?p.BannerAlertSeverity.Danger:p.BannerAlertSeverity.Warning,N=w(E[O]||"blockaidTitleDeceptive"),R=(e=>{const t={blockNumber:S,blockaidVersion:s.default.version,chain:l.NETWORK_TO_NAME_MAP[k??C],classification:I?"error":O,domain:r??(null==v?void 0:v.origin)??(null==M?void 0:M.origin),jsonRpcMethod:b,jsonRpcParams:JSON.stringify(M??v),resultType:I?d.BlockaidResultType.Errored:L,reproduce:JSON.stringify(P)},n=JSON.stringify(t),a=(null==_||null===(e=_.gzipSync)||void 0===e?void 0:e.call(_,n))??n;return(0,y.getReportUrl)(a)})();return a.default.createElement(m.default,T({description:D,details:j,provider:d.SecurityProvider.Blockaid,reportUrl:R,severity:F,title:N,onClickSupportLink:()=>{A({properties:{external_link_clicked:"security_alert_support_link"}},e.id)}},t))}M.propTypes={txData:r.default.object};n.default=M}}},{package:"$root$",file:"ui/pages/confirmations/components/security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert.js"}],[5358,{"../../../../../../shared/constants/security-provider":4361},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.getReportUrl=void 0;var a=e("../../../../../../shared/constants/security-provider");n.getReportUrl=e=>`${a.FALSE_POSITIVE_REPORT_BASE_URL}?data=${encodeURIComponent(e.toString("base64"))}&utm_source=${a.SECURITY_PROVIDER_UTM_SOURCE}`}}},{package:"$root$",file:"ui/pages/confirmations/components/security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-utils.js"}],[5359,{"./blockaid-banner-alert":5357},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./blockaid-banner-alert"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/security-provider-banner-alert/blockaid-banner-alert/index.js"}],[5360,{"../../../../../shared/constants/security-provider":4361,"../../../../components/component-library":4775,"../../../../components/ui/disclosure":5008,"../../../../components/ui/disclosure/disclosure.constants":5006,"../../../../contexts/i18n":5116,"../../../../helpers/constants/design-system":5143,"../../../../helpers/constants/zendesk-url":5155,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=p(e("prop-types")),o=e("../../../../components/component-library"),s=p(e("../../../../components/ui/disclosure")),i=e("../../../../components/ui/disclosure/disclosure.constants"),l=e("../../../../contexts/i18n"),c=e("../../../../helpers/constants/design-system"),u=e("../../../../../shared/constants/security-provider"),d=p(e("../../../../helpers/constants/zendesk-url"));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m.apply(this,arguments)}function g({description:e,details:t,onClickSupportLink:n,provider:r,severity:p,title:f,reportUrl:g,...h}){const y=(0,a.useContext)(l.I18nContext);return a.default.createElement(o.BannerAlert,m({"data-testid":"security-provider-banner-alert",title:f,severity:p},h),a.default.createElement(o.Text,{marginTop:2},e),a.default.createElement(o.Box,{marginTop:3},a.default.createElement(s.default,{title:y("seeDetails"),variant:i.DisclosureVariant.Arrow},t,a.default.createElement(o.Text,{marginTop:3,display:c.Display.Flex},y("somethingDoesntLookRight",[a.default.createElement(o.ButtonLink,{key:`security-provider-button-supporturl-${r}`,size:c.Size.inherit,href:g||d.default.SUPPORT_URL,externalLink:!0,onClick:n},y("reportIssue"))])))),r&&a.default.createElement(o.Text,{marginTop:3,display:c.Display.Flex,alignItems:c.AlignItems.center,color:c.Color.textAlternative,variant:c.TextVariant.bodySm},a.default.createElement(o.Icon,{className:"disclosure__summary--icon",color:c.IconColor.primaryDefault,name:o.IconName.SecurityTick,size:o.IconSize.Sm,marginInlineEnd:1}),y("securityProviderPoweredBy",[a.default.createElement(o.ButtonLink,{key:`security-provider-button-link-${r}`,size:c.Size.inherit,href:u.SECURITY_PROVIDER_CONFIG[r].url,externalLink:!0},y(u.SECURITY_PROVIDER_CONFIG[r].tKeyName))])))}g.propTypes={description:r.default.oneOfType([r.default.string,r.default.element]).isRequired,severity:r.default.oneOf([c.Severity.Danger,c.Severity.Warning]).isRequired,title:r.default.string.isRequired,details:r.default.oneOfType([r.default.string,r.default.element]),provider:r.default.oneOf(Object.values(u.SecurityProvider)),onClickSupportLink:r.default.func,reportUrl:r.default.string};n.default=g}}},{package:"$root$",file:"ui/pages/confirmations/components/security-provider-banner-alert/security-provider-banner-alert.js"}],[5361,{"./security-provider-banner-message":5362},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./security-provider-banner-message"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/security-provider-banner-message/index.js"}],[5362,{"../../../../../.storybook/i18n":1,"../../../../../shared/constants/security-provider":4361,"../../../../components/component-library":4775,"../../../../helpers/constants/design-system":5143,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("../../../../helpers/constants/design-system"),i=e("../../../../../shared/constants/security-provider"),l=e("../../../../../.storybook/i18n"),c=e("../../../../components/component-library");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function d({securityProviderResponse:e}){const t=(0,r.useContext)(l.I18nContext);let n,a,o;return e.flagAsDangerous===i.SECURITY_PROVIDER_MESSAGE_SEVERITY.MALICIOUS?(n=""===e.reason_header?t("requestFlaggedAsMaliciousFallbackCopyReasonTitle"):e.reason_header,a=""===e.reason?t("requestFlaggedAsMaliciousFallbackCopyReason"):e.reason,o=s.SEVERITIES.DANGER):e.flagAsDangerous===i.SECURITY_PROVIDER_MESSAGE_SEVERITY.NOT_SAFE?(n=t("requestMayNotBeSafe"),a=t("requestMayNotBeSafeError"),o=s.SEVERITIES.WARNING):(n=t("requestNotVerified"),a=t("requestNotVerifiedError"),o=s.SEVERITIES.WARNING),r.default.createElement(c.BannerAlert,{className:"security-provider-banner-message",marginTop:4,marginRight:4,marginLeft:4,title:n,severity:o},r.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6"},a),r.default.createElement(c.Text,{variant:s.TextVariant.bodySm,as:"h6",color:s.Color.textAlternative},t("securityAlert",[r.default.createElement(c.ButtonLink,{key:"opensea_link",size:s.Size.inherit,href:"https://opensea.io/",target:"_blank"},t("openSeaNew")),r.default.createElement(c.ButtonLink,{key:"blockaid_link",size:s.Size.inherit,href:"https://blockaid.io/",target:"_blank"},t("blockaid"))])))}d.propTypes={securityProviderResponse:o.default.object}}}},{package:"$root$",file:"ui/pages/confirmations/components/security-provider-banner-message/security-provider-banner-message.js"}],[5363,{"./set-approval-for-all-warning":5364},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./set-approval-for-all-warning"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/set-approval-for-all-warning/index.js"}],[5364,{"../../../../components/component-library":4775,"../../../../components/ui/box":4984,"../../../../components/ui/identicon":5036,"../../../../components/ui/popover":5071,"../../../../helpers/constants/design-system":5143,"../../../../helpers/utils/util":5185,"../../../../hooks/useI18nContext":5206,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=p(e("react")),r=p(e("prop-types")),o=e("../../../../hooks/useI18nContext"),s=p(e("../../../../components/ui/popover")),i=p(e("../../../../components/ui/box")),l=e("../../../../helpers/constants/design-system"),c=p(e("../../../../components/ui/identicon")),u=e("../../../../helpers/utils/util"),d=e("../../../../components/component-library");function p(e){return e&&e.__esModule?e:{default:e}}const f=({collectionName:e,senderAddress:t,name:n,total:r,isERC721:p,onSubmit:f,onCancel:m})=>{const g=(0,o.useI18nContext)(),h=a.default.createElement(i.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.COLUMN,justifyContent:l.JustifyContent.SPACE_BETWEEN,className:"set-approval-for-all-warning__footer",gap:4},a.default.createElement(d.Button,{className:"set-approval-for-all-warning__footer__approve-button",variant:d.BUTTON_VARIANT.PRIMARY,danger:!0,onClick:f},g("approveButtonText")),a.default.createElement(d.Button,{className:"set-approval-for-all-warning__footer__cancel-button",variant:d.BUTTON_VARIANT.SECONDARY,onClick:m},g("reject")));return a.default.createElement(s.default,{className:"set-approval-for-all-warning__content",footer:h},a.default.createElement(i.default,{display:l.DISPLAY.FLEX,flexDirection:l.FLEX_DIRECTION.ROW,padding:4,className:"set-approval-for-all-warning__content__header"},a.default.createElement(d.Icon,{name:d.IconName.Danger,className:"set-approval-for-all-warning__content__header__warning-icon"}),a.default.createElement(d.Text,{variant:l.TextVariant.headingSm,as:"h4"},g("yourNFTmayBeAtRisk"))),a.default.createElement(i.default,{display:l.DISPLAY.FLEX,padding:4,justifyContent:l.JustifyContent.spaceBetween,className:"set-approval-for-all-warning__content__account"},a.default.createElement(i.default,{display:l.DISPLAY.FLEX},a.default.createElement(c.default,{address:t,diameter:32}),a.default.createElement(d.Text,{variant:l.TextVariant.bodyMd,as:"h5",marginLeft:2,className:"set-approval-for-all-warning__content__account-name"},a.default.createElement("strong",null,n)," ",` (${(0,u.shortenAddress)(t)})`)),p&&r&&a.default.createElement(d.Text,null,`${g("total")}: ${r}`)),a.default.createElement(d.Text,{margin:4,marginTop:4,marginBottom:4,variant:l.TextVariant.bodySm,as:"h6"},g("nftWarningContent",[a.default.createElement("strong",{key:"non_custodial_bold"},g("nftWarningContentBold",[e||""])),a.default.createElement("strong",{key:"non_custodial_grey"},g("nftWarningContentGrey"))])))};f.propTypes={collectionName:r.default.string,senderAddress:r.default.string,name:r.default.string,total:r.default.string,isERC721:r.default.bool,onSubmit:r.default.func,onCancel:r.default.func};n.default=f}}},{package:"$root$",file:"ui/pages/confirmations/components/set-approval-for-all-warning/set-approval-for-all-warning.js"}],[5365,{"./signature-request-header":5366},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-header"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-header/index.js"}],[5366,{"../../../../../shared/constants/common":4345,"../../../../../shared/modules/Numeric":4379,"../../../../../shared/modules/conversion.utils":4383,"../../../../components/app/network-account-balance-header":4536,"../../../../ducks/metamask/metamask":5135,"../../../../helpers/utils/confirm-tx.util":5168,"../../../../helpers/utils/util":5185,"../../../../hooks/useI18nContext":5206,"../../../../selectors":5751,"prop-types":3794,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=g(e("react")),r=g(e("prop-types")),o=e("react-redux"),s=e("../../../../hooks/useI18nContext"),i=e("../../../../ducks/metamask/metamask"),l=e("../../../../selectors"),c=e("../../../../helpers/utils/confirm-tx.util"),u=e("../../../../helpers/utils/util"),d=e("../../../../../shared/constants/common"),p=e("../../../../../shared/modules/conversion.utils"),f=e("../../../../../shared/modules/Numeric"),m=g(e("../../../../components/app/network-account-balance-header"));function g(e){return e&&e.__esModule?e:{default:e}}const h=({txData:e})=>{const t=(0,s.useI18nContext)(),{msgParams:{from:n}}=e,r=(0,o.useSelector)(l.accountsWithSendEtherInfoSelector),g=(0,u.getAccountByAddress)(r,n),h=(0,o.useSelector)(i.getNativeCurrency),y=(0,o.useSelector)(l.getCurrentCurrency),v=(0,o.useSelector)(l.getCurrentChainId),b=(0,o.useSelector)(i.getProviderConfig),T=(0,u.getNetworkNameFromProviderType)(b.type),{useNativeCurrencyAsPrimaryCurrency:_}=(0,o.useSelector)(l.getPreferences),x=(0,o.useSelector)(l.conversionRateSelector),E=_?null:x,M=""===T?b.nickname||t("unknownNetwork"):t(T),k=E?(0,c.formatCurrency)((0,p.getValueFromWeiHex)({value:g.balance,fromCurrency:h,toCurrency:y,conversionRate:E,numberOfDecimals:6,toDenomination:d.EtherDenomination.ETH}),y):new f.Numeric(g.balance,16,d.EtherDenomination.WEI).toDenomination(d.EtherDenomination.ETH).round(6).toBase(10).toString();return a.default.createElement(m.default,{networkName:M,accountName:g.metadata.name,accountBalance:k,tokenName:E?null==y?void 0:y.toUpperCase():h,accountAddress:g.address,chainId:v})};h.propTypes={txData:r.default.object.isRequired};n.default=h}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-header/signature-request-header.js"}],[5367,{"./signature-request-original.container":5371},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-original.container"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-original/index.js"}],[5368,{"./signature-request-original-warning":5369},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-original-warning"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-original/signature-request-original-warning/index.js"}],[5369,{"../../../../../components/component-library":4775,"../../../../../helpers/constants/design-system":5143,"../../../../../helpers/utils/util":5185,"../../../../../hooks/useI18nContext":5206,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=c(e("react")),r=c(e("prop-types")),o=e("../../../../../hooks/useI18nContext"),s=e("../../../../../helpers/constants/design-system"),i=e("../../../../../helpers/utils/util"),l=e("../../../../../components/component-library");function c(e){return e&&e.__esModule?e:{default:e}}const u=({senderAddress:e,name:t,onSubmit:n,onCancel:r})=>{const c=(0,o.useI18nContext)();return a.default.createElement(l.Modal,{isOpen:!0,className:"signature-request-warning__content"},a.default.createElement(l.ModalOverlay,null),a.default.createElement(l.ModalContent,null,a.default.createElement(l.ModalHeader,{display:s.Display.Flex,childrenWrapperProps:{display:s.Display.Flex,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center,flexDirection:s.FlexDirection.Column,gap:4,width:s.BlockSize.Full}},a.default.createElement(l.Icon,{name:l.IconName.Danger,color:s.IconColor.errorDefault,size:l.IconSize.Xl}),a.default.createElement(l.Text,{variant:s.TextVariant.headingSm,textAlign:s.TextAlign.Center},c("yourFundsMayBeAtRisk"))),a.default.createElement(l.ModalBody,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,gap:4},a.default.createElement(l.Box,{display:s.Display.Flex,gap:4,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.center},a.default.createElement(l.AvatarAccount,{address:e,size:l.AvatarAccountSize.Lg}),a.default.createElement(l.Text,{variant:s.TextVariant.bodyMd,className:"signature-request-warning__content__account-name"},a.default.createElement("b",null,t)," ",` (${(0,i.shortenAddress)(e)})`)),a.default.createElement(l.Text,{color:s.TextColor.textAlternative},c("signatureRequestWarning",[a.default.createElement("a",{href:"https://consensys.io/blog/the-seal-of-approval-know-what-youre-consenting-to-with-permissions-and-approvals-in-metamask",target:"_blank",type:"link",key:"non_custodial_link",rel:"noopener noreferrer",style:{color:"var(--color-primary-default)"}},c("learnMoreUpperCase"))]))),a.default.createElement(l.ModalFooter,{onSubmit:n,submitButtonProps:{danger:!0,children:c("sign"),"data-testid":"signature-warning-sign-button"},onCancel:r,cancelButtonProps:{variant:l.ButtonVariant.Secondary,children:c("reject")}})))};u.propTypes={senderAddress:r.default.string,name:r.default.string,onSubmit:r.default.func,onCancel:r.default.func};n.default=u}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-original/signature-request-original-warning/signature-request-original-warning.js"}],[5370,{"../../../../../shared/constants/app":4343,"../../../../../shared/constants/security-provider":4361,"../../../../../shared/modules/security-provider.utils":4398,"../../../../components/app/snaps/insight-warnings":4584,"../../../../components/app/snaps/snap-legacy-authorship-header":4606,"../../../../components/component-library":4775,"../../../../components/ui/page-container":5064,"../../../../components/ui/site-origin":5082,"../../../../components/ui/typography/typography":5108,"../../../../helpers/constants/design-system":5143,"../../../../helpers/utils/util":5185,"../blockaid-unavailable-banner-alert/blockaid-unavailable-banner-alert":5272,"../confirm-page-container/confirm-page-container-navigation":5290,"../ledger-instruction-field":5352,"../security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert":5357,"../security-provider-banner-message/security-provider-banner-message":5362,"../signature-request-header":5365,"./signature-request-original-warning":5368,"@metamask/permission-controller":1539,classnames:2816,"eth-rpc-errors":3026,"prop-types":3794,react:4037,"react-inspector":3895},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=A(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=w(e("prop-types")),o=w(e("classnames")),s=e("react-inspector"),i=e("eth-rpc-errors"),l=e("@metamask/permission-controller"),c=w(e("../ledger-instruction-field")),u=e("../../../../../shared/constants/app"),d=e("../../../../helpers/utils/util"),p=e("../../../../../shared/modules/security-provider.utils"),f=w(e("../../../../components/ui/site-origin")),m=w(e("../../../../components/ui/typography/typography")),g=e("../../../../components/ui/page-container"),h=e("../../../../helpers/constants/design-system"),y=e("../../../../components/component-library"),v=w(e("../security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert")),b=w(e("../confirm-page-container/confirm-page-container-navigation")),T=w(e("../security-provider-banner-message/security-provider-banner-message")),_=w(e("../signature-request-header")),x=w(e("../../../../components/app/snaps/snap-legacy-authorship-header")),E=w(e("../../../../components/app/snaps/insight-warnings")),M=e("../../../../../shared/constants/security-provider"),k=e("../blockaid-unavailable-banner-alert/blockaid-unavailable-banner-alert"),C=w(e("./signature-request-original-warning"));function w(e){return e&&e.__esModule?e:{default:e}}function A(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(A=function(e){return e?n:t})(e)}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class P extends a.Component{constructor(...e){super(...e),S(this,"state",{showSignatureRequestWarning:!1,showSignatureInsights:!1}),S(this,"renderTypedData",(e=>{const{t:t}=this.context,{domain:n,message:r}=JSON.parse(e);return a.default.createElement("div",{className:"request-signature__typed-container"},n?a.default.createElement("div",null,a.default.createElement("h1",null,t("domain")),a.default.createElement(s.ObjectInspector,{data:n,expandLevel:1,name:"domain"})):"",r?a.default.createElement("div",null,a.default.createElement("h1",null,t("message")),a.default.createElement(s.ObjectInspector,{data:r,expandLevel:1,name:"message"})):"")})),S(this,"renderBody",(()=>{let e;const t=`${this.context.t("youSign")}:`,{txData:n,subjectMetadata:r}=this.props,{type:s,msgParams:{data:i}}=n;s===u.MESSAGE_TYPE.PERSONAL_SIGN?e=[{name:this.context.t("message"),value:(0,d.hexToText)(i)}]:s===u.MESSAGE_TYPE.ETH_SIGN_TYPED_DATA?e=i:s===u.MESSAGE_TYPE.ETH_SIGN&&(e=[{name:this.context.t("message"),value:i}]);const c=n.msgParams.origin?null==r?void 0:r[n.msgParams.origin]:null;return a.default.createElement("div",{className:"request-signature__body"},a.default.createElement(v.default,{txData:n,marginTop:4,marginLeft:4,marginRight:4}),(0,p.isSuspiciousResponse)(null==n?void 0:n.securityProviderResponse)&&a.default.createElement(T.default,{securityProviderResponse:n.securityProviderResponse}),a.default.createElement(k.BlockaidUnavailableBannerAlert,null),a.default.createElement("div",{className:"request-signature__origin"},(null==c?void 0:c.subjectType)===l.SubjectType.Snap?a.default.createElement(x.default,{snapId:c.origin,marginLeft:4,marginRight:4}):a.default.createElement(f.default,{title:n.msgParams.origin,siteOrigin:n.msgParams.origin,iconSrc:null==c?void 0:c.iconUrl,iconName:(0,d.getURLHostName)(null==c?void 0:c.origin)||(null==c?void 0:c.origin),chip:!0})),a.default.createElement(m.default,{className:"request-signature__content__title",variant:h.TypographyVariant.H3,fontWeight:h.FontWeight.Bold},this.context.t("sigRequest")),a.default.createElement(m.default,{className:"request-signature__content__subtitle",variant:h.TypographyVariant.H7,color:h.TextColor.textAlternative,align:h.TextAlign.Center,margin:12,marginTop:3},this.context.t("signatureRequestGuidance")),a.default.createElement("div",{className:(0,o.default)("request-signature__notice")},t),a.default.createElement("div",{className:"request-signature__rows"},e.map((({name:e,value:t},n)=>("boolean"==typeof t&&(t=t.toString()),a.default.createElement("div",{className:"request-signature__row",key:`request-signature-row-${n}`},a.default.createElement("div",{className:"request-signature__row-title"},(0,d.sanitizeString)(`${e}:`)),a.default.createElement("div",{className:"request-signature__row-value"},(0,d.sanitizeString)(t))))))))})),S(this,"onSubmit",(async()=>{const{resolvePendingApproval:e,completedTx:t,clearConfirmTransaction:n,history:a,mostRecentOverviewPage:r,txData:o}=this.props;await e(o.id),t(o.id),n(),a.push(r)})),S(this,"onCancel",(async()=>{const{clearConfirmTransaction:e,history:t,mostRecentOverviewPage:n,rejectPendingApproval:a,txData:{id:r}}=this.props;await a(r,(0,i.serializeError)(i.ethErrors.provider.userRejectedRequest())),e(),t.push(n)})),S(this,"renderFooter",(()=>{var e;const{clearConfirmTransaction:t,history:n,mostRecentOverviewPage:r,txData:o,hardwareWalletRequiresConnection:s,rejectPendingApproval:l,warnings:c}=this.props,{t:d}=this.context,p=(null===(e=o.securityAlertResponse)||void 0===e?void 0:e.result_type)===M.BlockaidResultType.Malicious?"danger-primary":"primary";return a.default.createElement(g.PageContainerFooter,{cancelText:d("reject"),submitText:d("sign"),onCancel:async()=>{await l(o.id,(0,i.serializeError)(i.ethErrors.provider.userRejectedRequest())),t(),n.push(r)},onSubmit:async()=>o.type===u.MESSAGE_TYPE.ETH_SIGN?this.setState({showSignatureRequestWarning:!0}):(null==c?void 0:c.length)>=1?this.setState({showSignatureInsights:!0}):await this.onSubmit(),disabled:s,submitButtonType:p})})),S(this,"handleCancelAll",(()=>{const{clearConfirmTransaction:e,history:t,mostRecentOverviewPage:n,showRejectTransactionsConfirmationModal:a,messagesCount:r,cancelAllApprovals:o}=this.props;a({unapprovedTxCount:r,onSubmit:async()=>{await o(),e(),t.push(n)}})})),S(this,"render",(()=>{const{messagesCount:e,fromAccount:{address:t,name:n},txData:r,warnings:o}=this.props,{showSignatureRequestWarning:s}=this.state,{t:i}=this.context,l=i("rejectRequestsN",[e]);return a.default.createElement("div",{className:"request-signature__container"},a.default.createElement("div",{className:"request-signature__navigation"},a.default.createElement(b.default,null)),a.default.createElement("div",{className:"request-signature__account"},a.default.createElement(_.default,{txData:r})),this.renderBody(),this.props.isLedgerWallet?a.default.createElement("div",{className:"confirm-approve-content__ledger-instruction-wrapper"},a.default.createElement(c.default,{showDataInstruction:!0})):null,s&&a.default.createElement(C.default,{senderAddress:t,name:n,onSubmit:async()=>(null==o?void 0:o.length)>=1?this.setState({showSignatureInsights:!0,showSignatureRequestWarning:!1}):await this.onSubmit(),onCancel:async e=>await this.onCancel(e)}),this.state.showSignatureInsights&&a.default.createElement(E.default,{warnings:o,action:"signing",origin:r.msgParams.origin,onCancel:()=>{this.setState({showSignatureInsights:!1})},onSubmit:async()=>{await this.onSubmit(),this.setState({showSignatureInsights:!1})}}),this.renderFooter(),e>1?a.default.createElement(y.ButtonLink,{size:h.Size.inherit,className:"request-signature__container__reject",onClick:()=>this.handleCancelAll()},l):null)}))}}n.default=P,S(P,"contextTypes",{t:r.default.func.isRequired,trackEvent:r.default.func}),S(P,"propTypes",{fromAccount:r.default.shape({address:r.default.string.isRequired,name:r.default.string}).isRequired,txData:r.default.object.isRequired,subjectMetadata:r.default.object,hardwareWalletRequiresConnection:r.default.bool,isLedgerWallet:r.default.bool,messagesCount:r.default.number,showRejectTransactionsConfirmationModal:r.default.func.isRequired,cancelAllApprovals:r.default.func.isRequired,rejectPendingApproval:r.default.func.isRequired,clearConfirmTransaction:r.default.func.isRequired,history:r.default.object.isRequired,mostRecentOverviewPage:r.default.string.isRequired,resolvePendingApproval:r.default.func.isRequired,completedTx:r.default.func.isRequired,warnings:r.default.array})}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-original/signature-request-original.component.js"}],[5371,{"../../../../ducks/confirm-transaction/confirm-transaction.duck":5127,"../../../../ducks/history/history":5132,"../../../../ducks/metamask/metamask":5135,"../../../../helpers/utils/util":5185,"../../../../selectors":5751,"../../../../store/actions":5759,"./signature-request-original.component":5370,"react-redux":4002,"react-router-dom":4022,redux:4067},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=e("react-redux"),o=e("redux"),s=e("react-router-dom"),i=e("../../../../store/actions"),l=e("../../../../selectors"),c=e("../../../../helpers/utils/util"),u=e("../../../../ducks/confirm-transaction/confirm-transaction.duck"),d=e("../../../../ducks/history/history"),p=e("../../../../ducks/metamask/metamask"),f=(a=e("./signature-request-original.component"))&&a.__esModule?a:{default:a};let m=null;m=function(e){return{goHome:()=>e((0,i.goHome)()),clearConfirmTransaction:()=>e((0,u.clearConfirmTransaction)()),showRejectTransactionsConfirmationModal:({onSubmit:t,unapprovedTxCount:n})=>e((0,i.showModal)({name:"REJECT_TRANSACTIONS",onSubmit:t,unapprovedTxCount:n,isRequestType:!0})),completedTx:t=>e((0,i.completedTx)(t)),resolvePendingApproval:t=>{e((0,i.resolvePendingApproval)(t))},rejectPendingApproval:(t,n)=>e((0,i.rejectPendingApproval)(t,n)),cancelAllApprovals:t=>{e((0,i.rejectAllMessages)(t))}}};n.default=(0,o.compose)(s.withRouter,(0,r.connect)((function(e,t){const{msgParams:{from:n}}=t.txData,a=(0,l.doesAddressRequireLedgerHidConnection)(e,n),r=(0,p.isAddressLedger)(e,n),o=(0,l.unconfirmedMessagesHashSelector)(e),s=(0,l.getTotalUnapprovedMessagesCount)(e);return{requester:null,requesterAddress:null,mostRecentOverviewPage:(0,d.getMostRecentOverviewPage)(e),hardwareWalletRequiresConnection:a,isLedgerWallet:r,allAccounts:(0,l.accountsWithSendEtherInfoSelector)(e),subjectMetadata:(0,l.getSubjectMetadata)(e),messagesList:o,messagesCount:s}}),m,(function(e,t,n){const{txData:a}=n,{allAccounts:r,messagesList:o,...s}=e,{msgParams:{from:i}}=a,l=(0,c.getAccountByAddress)(r,i),{cancelAllApprovals:u}=t;return{...n,...s,...t,fromAccount:l,txData:a,cancelAllApprovals:()=>u((0,c.valuesFor)(o))}})))(f.default)}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-original/signature-request-original.container.js"}],[5372,{"./signature-request-siwe":5379},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-siwe"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-siwe/index.js"}],[5373,{"./signature-request-siwe-header":5374},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-siwe-header"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-siwe/signature-request-siwe-header/index.js"}],[5374,{"../../../../../components/app/account-list-item":4409,"../../../../../components/app/permissions-connect-header":4563,"../../../../../components/ui/tooltip":5103,"../../../../../contexts/i18n":5116,"../signature-request-siwe-icon":5375,"../signature-request-siwe-tag":5378,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=d(e("prop-types")),o=d(e("../../../../../components/app/account-list-item")),s=e("../../../../../contexts/i18n"),i=d(e("../../../../../components/app/permissions-connect-header")),l=d(e("../signature-request-siwe-icon")),c=d(e("../signature-request-siwe-tag")),u=d(e("../../../../../components/ui/tooltip"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f({fromAccount:e,domain:t,isSIWEDomainValid:n,subjectMetadata:r}){const d=(0,a.useContext)(s.I18nContext);return a.default.createElement("div",{className:"signature-request-siwe-header"},a.default.createElement(i.default,{iconUrl:r.iconUrl,iconName:r.name,headerTitle:d("SIWESiteRequestTitle"),headerText:d("SIWESiteRequestSubtitle"),siteOrigin:t,className:n?"":"bad-domain",leftIcon:!n&&a.default.createElement(u.default,{position:"bottom",html:a.default.createElement("p",null,d("SIWEDomainWarningBody",[t]))},a.default.createElement(l.default,null)),rightIcon:!n&&a.default.createElement(u.default,{position:"bottom",html:a.default.createElement("p",null,d("SIWEDomainWarningBody",[t]))},a.default.createElement(c.default,{text:d("SIWEDomainWarningLabel")}))}),e&&a.default.createElement(o.default,{account:e,hideDefaultMismatchWarning:!0,className:"signature-request-siwe-header__account-list-item"}))}f.propTypes={fromAccount:r.default.object,domain:r.default.string,isSIWEDomainValid:r.default.bool,subjectMetadata:r.default.object}}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-siwe/signature-request-siwe-header/signature-request-siwe-header.js"}],[5375,{"../../../../../components/component-library":4775,"../../../../../helpers/constants/design-system":5143,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../../helpers/constants/design-system"),s=e("../../../../../components/component-library");n.default=()=>r.default.createElement(s.Box,{className:"signature-request-siwe-icon",display:o.Display.InlineFlex,alignItems:o.AlignItems.center,backgroundColor:o.Color.errorDefault,justifyContent:o.JustifyContent.center},r.default.createElement(s.Icon,{name:s.IconName.Danger,color:o.Color.errorInverse}))}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-siwe/signature-request-siwe-icon/index.js"}],[5376,{"./signature-request-siwe-message":5377},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-siwe-message"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-siwe/signature-request-siwe-message/index.js"}],[5377,{"../../../../../components/component-library":4775,"../../../../../components/ui/box":4984,"../../../../../helpers/constants/design-system":5143,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=l(e("prop-types")),o=l(e("../../../../../components/ui/box")),s=e("../../../../../components/component-library"),i=e("../../../../../helpers/constants/design-system");function l(e){return e&&e.__esModule?e:{default:e}}const c=({data:e})=>a.default.createElement(o.default,{className:"signature-request-siwe-message"},a.default.createElement(o.default,{flexDirection:i.FLEX_DIRECTION.COLUMN},e.map((({label:e,value:t},n)=>a.default.createElement(o.default,{key:n.toString(),marginTop:2,marginBottom:2},a.default.createElement(s.Text,{as:"h4",variant:i.TextVariant.bodyLgMedium,marginTop:2,marginBottom:2},e),a.default.createElement(s.Text,{className:"signature-request-siwe-message__sub-text",overflowWrap:i.OVERFLOW_WRAP.BREAK_WORD,marginTop:2,marginBottom:2},t))))));c.propTypes={data:r.default.arrayOf(r.default.shape({label:r.default.string,value:r.default.oneOfType([r.default.string,r.default.number])}))};n.default=a.default.memo(c)}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-siwe/signature-request-siwe-message/signature-request-siwe-message.js"}],[5378,{"../../../../../components/component-library":4775,"../../../../../components/ui/box":4984,"../../../../../helpers/constants/design-system":5143,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=l(e("react")),r=l(e("prop-types")),o=e("../../../../../helpers/constants/design-system"),s=l(e("../../../../../components/ui/box")),i=e("../../../../../components/component-library");function l(e){return e&&e.__esModule?e:{default:e}}const c=({text:e})=>a.default.createElement(s.default,{className:"signature-request-siwe-tag",marginRight:1,display:o.Display.InlineFlex,alignItems:o.AlignItems.center,backgroundColor:o.BackgroundColor.errorDefault,borderRadius:o.Size.XL,paddingLeft:4,paddingRight:4},a.default.createElement(i.Text,{margin:0,variant:o.TextVariant.bodySmBold,as:"h6",color:o.TextColor.errorInverse},e));n.default=c;c.propTypes={text:r.default.string}}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-siwe/signature-request-siwe-tag/index.js"}],[5379,{"../../../../../shared/constants/security-provider":4361,"../../../../../shared/modules/security-provider.utils":4398,"../../../../../shared/modules/siwe":4402,"../../../../components/app/snaps/insight-warnings":4584,"../../../../components/component-library":4775,"../../../../components/ui/button":4988,"../../../../components/ui/check-box":4992,"../../../../components/ui/page-container":5064,"../../../../components/ui/popover":5071,"../../../../contexts/i18n":5116,"../../../../ducks/confirm-transaction/confirm-transaction.duck":5127,"../../../../ducks/history/history":5132,"../../../../ducks/metamask/metamask":5135,"../../../../helpers/constants/design-system":5143,"../../../../helpers/utils/util":5185,"../../../../selectors":5751,"../../../../store/actions":5759,"../confirm-page-container/confirm-page-container-navigation":5290,"../ledger-instruction-field":5352,"../security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert":5357,"../security-provider-banner-message/security-provider-banner-message":5362,"../signature-request-header":5365,"./signature-request-siwe-header":5373,"./signature-request-siwe-message":5376,"@metamask/controller-utils":1094,"eth-rpc-errors":3026,loglevel:3644,"prop-types":3794,react:4037,"react-redux":4002,"react-router-dom":4022},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=F;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=j(e("prop-types")),o=e("react-redux"),s=e("react-router-dom"),i=j(e("loglevel")),l=e("@metamask/controller-utils"),c=e("eth-rpc-errors"),u=e("../../../../components/component-library"),d=j(e("../../../../components/ui/popover")),p=j(e("../../../../components/ui/check-box")),f=j(e("../../../../components/ui/button")),m=e("../../../../contexts/i18n"),g=e("../../../../components/ui/page-container"),h=e("../../../../ducks/metamask/metamask"),y=e("../../../../selectors"),v=e("../../../../helpers/utils/util"),b=e("../../../../../shared/modules/security-provider.utils"),T=e("../../../../../shared/modules/siwe"),_=e("../../../../ducks/confirm-transaction/confirm-transaction.duck"),x=e("../../../../helpers/constants/design-system"),E=e("../../../../store/actions"),M=j(e("../security-provider-banner-message/security-provider-banner-message")),k=j(e("../confirm-page-container/confirm-page-container-navigation")),C=e("../../../../ducks/history/history"),w=j(e("../security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert")),A=j(e("../ledger-instruction-field")),S=j(e("../signature-request-header")),P=j(e("../../../../components/app/snaps/insight-warnings")),O=e("../../../../../shared/constants/security-provider"),L=j(e("./signature-request-siwe-header")),D=j(e("./signature-request-siwe-message"));function j(e){return e&&e.__esModule?e:{default:e}}function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function F({txData:e,warnings:t}){var n;const r=(0,o.useDispatch)(),j=(0,s.useHistory)(),I=(0,a.useContext)(m.I18nContext),F=(0,o.useSelector)(y.accountsWithSendEtherInfoSelector),N=(0,o.useSelector)(y.getSubjectMetadata),R=(0,o.useSelector)(y.getTotalUnapprovedMessagesCount),G=(0,o.useSelector)(y.unconfirmedMessagesHashSelector),J=(0,o.useSelector)(C.getMostRecentOverviewPage),{msgParams:{from:B,origin:H,siwe:{parsedMessage:X}},id:U}=e,W=(0,o.useSelector)((e=>(0,h.isAddressLedger)(e,B))),$=(0,v.getAccountByAddress)(F,B),q=N[H],Z=B.toLowerCase()===X.address.toLowerCase(),V=(0,l.isValidSIWEOrigin)(e.msgParams),[Y,z]=(0,a.useState)(!1),[Q,K]=(0,a.useState)(!1),ee=(0,b.isSuspiciousResponse)(null==e?void 0:e.securityProviderResponse),[te,ne]=(0,a.useState)(!1),ae=(0,a.useCallback)((async()=>{try{await r((0,E.resolvePendingApproval)(U,null)),r((0,E.completedTx)(U))}catch(e){i.default.error(e)}}),[U,r]),re=(0,a.useCallback)((async()=>{try{await r((0,E.rejectPendingApproval)(U,(0,c.serializeError)(c.ethErrors.provider.userRejectedRequest())))}catch(e){i.default.error(e)}}),[r,U]),oe=I("rejectRequestsN",[R]),se=(null===(n=e.securityAlertResponse)||void 0===n?void 0:n.result_type)!==O.BlockaidResultType.Malicious&&V?"primary":"danger-primary";return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"signature-request-siwe"},a.default.createElement("div",{className:"request-signature__navigation"},a.default.createElement(k.default,null)),a.default.createElement(S.default,{txData:e}),a.default.createElement(w.default,{txData:e,marginTop:4,marginLeft:4,marginRight:4}),ee&&a.default.createElement(M.default,{securityProviderResponse:e.securityProviderResponse}),a.default.createElement(L.default,{fromAccount:$,domain:H,isSIWEDomainValid:V,subjectMetadata:q}),a.default.createElement(D.default,{data:(0,T.formatMessageParams)(X,I)}),!Z&&a.default.createElement(u.BannerAlert,{severity:x.SEVERITIES.WARNING,marginLeft:4,marginRight:4,marginBottom:4},I("SIWEAddressInvalid",[X.address,$.address])),W&&a.default.createElement("div",{className:"confirm-approve-content__ledger-instruction-wrapper"},a.default.createElement(A.default,{showDataInstruction:!0})),!V&&a.default.createElement(u.BannerAlert,{severity:x.SEVERITIES.DANGER,marginLeft:4,marginRight:4,marginBottom:4},a.default.createElement(u.Text,{variant:x.TextVariant.bodyMdBold},I("SIWEDomainInvalidTitle"))," ",a.default.createElement(u.Text,null,I("SIWEDomainInvalidText"))),a.default.createElement(g.PageContainerFooter,{footerClassName:"signature-request-siwe__page-container-footer",onCancel:re,onSubmit:()=>(null==t?void 0:t.length)>=1?V?ne(!0):z(!0):V?ae():z(!0),cancelText:I("cancel"),submitText:I("signin"),submitButtonType:se}),R>1?a.default.createElement(f.default,{type:"link",className:"request-signature__container__reject",onClick:e=>{e.preventDefault(),(()=>{const e=R;r((0,E.showModal)({name:"REJECT_TRANSACTIONS",unapprovedTxCount:e,onSubmit:async()=>{await r((0,E.rejectAllMessages)((0,v.valuesFor)(G))),r((0,_.clearConfirmTransaction)()),j.push(J)}}))})()}},oe):null,Y&&a.default.createElement(d.default,{onClose:()=>z(!1),title:I("SIWEWarningTitle"),subtitle:I("SIWEWarningSubtitle"),className:"signature-request-siwe__warning-popover",footerClassName:"signature-request-siwe__warning-popover__footer",footer:a.default.createElement(g.PageContainerFooter,{footerClassName:"signature-request-siwe__warning-popover__footer__warning-footer",onCancel:()=>z(!1),cancelText:I("cancel"),cancelButtonType:"default",onSubmit:()=>(null==t?void 0:t.length)>=1?ne(!0):(ae(),z(!1)),submitText:I("confirm"),submitButtonType:"danger-primary",disabled:!Q})},a.default.createElement("div",{className:"signature-request-siwe__warning-popover__checkbox-wrapper"},a.default.createElement(p.default,{id:"signature-request-siwe_domain-checkbox",checked:Q,className:"signature-request-siwe__warning-popover__checkbox-wrapper__checkbox",onClick:()=>K((e=>!e))}),a.default.createElement("label",{className:"signature-request-siwe__warning-popover__checkbox-wrapper__label",htmlFor:"signature-request-siwe_domain-checkbox"},I("SIWEDomainWarningBody",[X.domain]))))),te&&a.default.createElement(P.default,{warnings:t,action:"signing",origin:H,onCancel:()=>ne(!1),onSubmit:()=>{ae(),ne(!1)}}))}F.propTypes={txData:r.default.object.isRequired,warnings:r.default.array}}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request-siwe/signature-request-siwe.js"}],[5380,{"./signature-request":5387},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request/index.js"}],[5381,{"./signature-request-data":5382},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-data"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request/signature-request-data/index.js"}],[5382,{"../../../../../../shared/modules/hexstring-utils":4390,"../../../../../components/app/name/name":4535,"../../../../../components/component-library":4775,"../../../../../helpers/constants/design-system":5143,"../../../../../helpers/utils/util":5185,"../../../../../hooks/usePetnamesEnabled":5213,"../../../../../selectors":5751,"../../transaction-decoding/components/decoding/address":5410,"@metamask/name-controller":1444,lodash:3638,"prop-types":3794,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=e("lodash"),s=h(e("prop-types")),i=e("@metamask/name-controller"),l=e("../../../../../selectors"),c=h(e("../../transaction-decoding/components/decoding/address")),u=e("../../../../../../shared/modules/hexstring-utils"),d=e("../../../../../helpers/constants/design-system"),p=e("../../../../../helpers/utils/util"),f=e("../../../../../components/component-library"),m=e("../../../../../hooks/usePetnamesEnabled"),g=h(e("../../../../../components/app/name/name"));function h(e){return e&&e.__esModule?e:{default:e}}function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function v({data:e}){const t=(0,r.useSelector)(l.getMemoizedMetaMaskInternalAccounts),n=(0,m.usePetnamesEnabled)();return a.default.createElement(f.Box,{as:"ul",className:"signature-request-data__node"},Object.entries(e).map((([e,{value:r,type:o}],s)=>a.default.createElement(f.Box,{as:"li",className:"signature-request-data__node",marginBottom:2,key:`${e}-${s}`,paddingLeft:2,display:"object"!=typeof r||null===r?d.Display.Flex:null},a.default.createElement(f.Text,{as:"div",color:d.TextColor.textDefault,marginLeft:4,fontWeight:"object"==typeof r?d.FontWeight.Bold:d.FontWeight.Normal},(0,p.sanitizeString)(e.charAt(0).toUpperCase()+e.slice(1)),":"," "),"object"==typeof r&&null!==r?a.default.createElement(v,{data:r}):a.default.createElement(f.Text,{as:"div",color:d.TextColor.textDefault,marginLeft:4,className:"signature-request-data__node__value"},"address"===o&&(0,u.isValidHexAddress)(r,{mixedCaseUseChecksum:!0})?a.default.createElement(f.Text,{variant:d.TextVariant.bodySm,as:"div",color:d.TextColor.infoDefault,className:"signature-request-data__node__value__address"},n?a.default.createElement(g.default,{value:r,type:i.NameType.ETHEREUM_ADDRESS}):a.default.createElement(c.default,{addressOnly:!0,checksummedRecipientAddress:(0,u.toChecksumHexAddress)(r),recipientName:(0,l.getAccountName)(t,r)})):(0,p.sanitizeString)(`${r}`))))))}v.propTypes={data:s.default.oneOfType([s.default.object,s.default.array]).isRequired};n.default=(0,a.memo)(v,((e,t)=>(0,o.isEqual)(e.data,t.data)))}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request/signature-request-data/signature-request-data.js"}],[5383,{"./signature-request-footer.component":5384},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-footer.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request/signature-request-footer/index.js"}],[5384,{"../../../../../components/ui/page-container":5064,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("../../../../../components/ui/page-container");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var a=n.call(e,t||"default");if("object"!=typeof a)return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends r.PureComponent{render(){const{submitButtonType:e,cancelAction:t,signAction:n,disabled:a=!1}=this.props;return r.default.createElement(s.PageContainerFooter,{cancelText:this.context.t("reject"),submitText:this.context.t("sign"),onCancel:t,onSubmit:n,disabled:a,submitButtonType:e})}}n.default=c,l(c,"propTypes",{cancelAction:o.default.func.isRequired,signAction:o.default.func.isRequired,disabled:o.default.bool,submitButtonType:o.default.string}),l(c,"contextTypes",{t:o.default.func})}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request/signature-request-footer/signature-request-footer.component.js"}],[5385,{"./signature-request-message":5386},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./signature-request-message"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request/signature-request-message/index.js"}],[5386,{"../../../../../components/component-library":4775,"../../../../../components/ui/box":4984,"../../../../../contexts/i18n":5116,"../../../../../helpers/constants/design-system":5143,"../signature-request-data":5381,lodash:3638,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=f;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=d(e("prop-types")),o=e("lodash"),s=e("../../../../../contexts/i18n"),i=d(e("../../../../../components/ui/box")),l=e("../../../../../components/component-library"),c=e("../../../../../helpers/constants/design-system"),u=d(e("../signature-request-data"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function f({data:e,onMessageScrolled:t,setMessageRootRef:n,messageRootRef:r,messageIsScrollable:d,primaryType:p}){const f=(0,a.useContext)(s.I18nContext),[m,g]=(0,a.useState)(!1);return a.default.createElement(i.default,{display:c.Display.Flex,flexDirection:c.FlexDirection.Column,onScroll:(0,o.debounce)((()=>{if(!r||m)return;const{scrollTop:e,offsetHeight:n,scrollHeight:a}=r;Math.round(e)+n>=a&&(g(!0),t())}),25),className:"signature-request-message"},d?a.default.createElement(i.default,{display:c.Display.Flex,alignItems:c.AlignItems.center,justifyContent:c.JustifyContent.center,borderColor:c.BorderColor.borderDefault,backgroundColor:c.BackgroundColor.backgroundDefault,color:c.Color.iconDefault,onClick:()=>{g(!0),t(),null==r||r.scrollTo(0,null==r?void 0:r.scrollHeight)},className:"signature-request-message__scroll-button","data-testid":"signature-request-scroll-button"},a.default.createElement("i",{className:"fa fa-arrow-down","aria-label":f("scrollDown")})):null,a.default.createElement(i.default,{backgroundColor:c.BackgroundColor.backgroundDefault,paddingBottom:3,paddingTop:3,paddingRight:3,margin:2,borderRadius:c.BorderRadius.XL,borderColor:c.BorderColor.borderMuted,className:"signature-request-message__root",ref:n},a.default.createElement(l.Text,{fontWeight:c.FontWeight.Bold,color:c.TextColor.textDefault,marginLeft:4},p),a.default.createElement(u.default,{data:e.value})))}f.propTypes={data:r.default.object.isRequired,onMessageScrolled:r.default.func,setMessageRootRef:r.default.func,messageRootRef:r.default.object,messageIsScrollable:r.default.bool,primaryType:r.default.string}}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request/signature-request-message/signature-request-message.js"}],[5387,{"../../../../../shared/constants/metametrics":4353,"../../../../../shared/constants/security-provider":4361,"../../../../components/app/snaps/insight-warnings":4584,"../../../../components/component-library":4775,"../../../../contexts/metametrics":5117,"../../../../ducks/metamask/metamask":5135,"../../../../helpers/constants/design-system":5143,"../../../../helpers/utils/util":5185,"../../../../hooks/useI18nContext":5206,"../../../../selectors":5751,"../../../../store/actions":5759,"../../hooks/useRejectTransactionModal":5481,"../blockaid-unavailable-banner-alert/blockaid-unavailable-banner-alert":5272,"../confirm-page-container":5292,"../contract-details-modal":5323,"../ledger-instruction-field":5352,"../security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert":5357,"../security-provider-banner-message":5361,"../signature-request-header/signature-request-header":5366,"./signature-request-footer":5383,"./signature-request-message":5385,"eth-rpc-errors":3026,lodash:3638,"prop-types":3794,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=S(e("prop-types")),s=e("lodash"),i=e("eth-rpc-errors"),l=e("../../../../store/actions"),c=e("../../../../selectors"),u=e("../../../../ducks/metamask/metamask"),d=e("../../../../helpers/utils/util"),p=e("../../../../hooks/useI18nContext"),f=e("../../hooks/useRejectTransactionModal"),m=e("../confirm-page-container"),g=S(e("../signature-request-header/signature-request-header")),h=S(e("../security-provider-banner-message")),y=S(e("../ledger-instruction-field")),v=S(e("../contract-details-modal")),b=e("../../../../contexts/metametrics"),T=e("../../../../../shared/constants/metametrics"),_=e("../../../../../shared/constants/security-provider"),x=e("../../../../helpers/constants/design-system"),E=e("../../../../components/component-library"),M=S(e("../security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert")),k=S(e("../../../../components/app/snaps/insight-warnings")),C=e("../blockaid-unavailable-banner-alert/blockaid-unavailable-banner-alert"),w=S(e("./signature-request-message")),A=S(e("./signature-request-footer"));function S(e){return e&&e.__esModule?e:{default:e}}function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}const O=({txData:e,warnings:t})=>{var n,o,S;const P=(0,a.useContext)(b.MetaMetricsContext),O=(0,r.useDispatch)(),L=(0,p.useI18nContext)(),[D,j]=(0,a.useState)(!1),[I,F]=(0,a.useState)(!1),[N,R]=(0,a.useState)(null),[G,J]=(0,a.useState)(!1),{id:B,type:H,msgParams:{from:X,data:U,origin:W,version:$}}=e,q=(0,r.useSelector)((e=>(0,c.doesAddressRequireLedgerHidConnection)(e,X))),{chainId:Z,rpcPrefs:V}=(0,r.useSelector)(u.getProviderConfig),Y=(0,r.useSelector)(c.getTotalUnapprovedMessagesCount),z=(0,r.useSelector)(c.getSubjectMetadata),Q=(0,r.useSelector)((e=>(0,u.isAddressLedger)(e,X))),{handleCancelAll:K}=(0,f.useRejectTransactionModal)(),[ee,te]=(0,a.useState)(!1);(0,a.useEffect)((()=>{J((null==N?void 0:N.scrollHeight)>(null==N?void 0:N.clientHeight))}),[N]);const ne=(null==z?void 0:z[W])||null,ae=(0,s.memoize)((e=>{const{message:t,domain:n={},primaryType:a,types:r}=JSON.parse(e);return{sanitizedMessage:(0,d.sanitizeMessage)(t,a,r),domain:n,primaryType:a}})),re=(null===(n=e.securityAlertResponse)||void 0===n?void 0:n.result_type)===_.BlockaidResultType.Malicious?"danger-primary":"primary",oe=async()=>{await O((0,l.resolvePendingApproval)(B)),(0,l.completedTx)(B),P({category:T.MetaMetricsEventCategory.Transactions,event:"Confirm",properties:{action:"Sign Request",legacy_event:!0,type:H,version:$}})},{sanitizedMessage:se,domain:{verifyingContract:ie},primaryType:le}=ae(U);return a.default.createElement(a.default.Fragment,null,a.default.createElement("div",{className:"signature-request"},a.default.createElement(m.ConfirmPageContainerNavigation,null),a.default.createElement("div",{className:"request-signature__account","data-testid":"request-signature-account"},a.default.createElement(g.default,{txData:e})),a.default.createElement("div",{className:"signature-request-content"},a.default.createElement(M.default,{txData:e,marginLeft:4,marginRight:4,marginBottom:4}),a.default.createElement(C.BlockaidUnavailableBannerAlert,null),(null==e||null===(o=e.securityProviderResponse)||void 0===o?void 0:o.flagAsDangerous)!==undefined&&(null==e||null===(S=e.securityProviderResponse)||void 0===S?void 0:S.flagAsDangerous)!==_.SECURITY_PROVIDER_MESSAGE_SEVERITY.NOT_MALICIOUS||null!=e&&e.securityProviderResponse&&0===Object.keys(e.securityProviderResponse).length?a.default.createElement(h.default,{securityProviderResponse:e.securityProviderResponse}):null,a.default.createElement("div",{className:"signature-request__origin"},a.default.createElement(E.TagUrl,{label:W,labelProps:{color:x.TextColor.textAlternative},src:null==ne?void 0:ne.iconUrl})),a.default.createElement(E.Text,{className:"signature-request__content__title",variant:x.TextVariant.headingLg,marginTop:4},L("sigRequest")),a.default.createElement(E.Text,{className:"request-signature__content__subtitle",variant:x.TextVariant.bodySm,color:x.TextColor.textAlternative,textAlign:x.TextAlign.Center,marginLeft:12,marginRight:12,marginTop:4,as:"h6"},L("signatureRequestGuidance")),ie?a.default.createElement("div",null,a.default.createElement(E.Button,{variant:E.ButtonVariant.Link,onClick:()=>F(!0),className:"signature-request-content__verify-contract-details","data-testid":"verify-contract-details"},a.default.createElement(E.Text,{variant:x.TextVariant.bodySm,color:x.TextColor.primaryDefault,as:"h6"},L("verifyContractDetails")))):null),Q?a.default.createElement("div",{className:"confirm-approve-content__ledger-instruction-wrapper"},a.default.createElement(y.default,{showDataInstruction:!0})):null,a.default.createElement(w.default,{data:se,onMessageScrolled:()=>j(!0),setMessageRootRef:R,messageRootRef:N,messageIsScrollable:G,primaryType:le}),a.default.createElement(A.default,{cancelAction:async()=>{await O((0,l.rejectPendingApproval)(B,(0,i.serializeError)(i.ethErrors.provider.userRejectedRequest()))),P({category:T.MetaMetricsEventCategory.Transactions,event:"Cancel",properties:{action:"Sign Request",legacy_event:!0,type:H,version:$}})},signAction:()=>(null==t?void 0:t.length)>=1?te(!0):oe(),disabled:q||G&&!D,submitButtonType:re}),I&&a.default.createElement(v.default,{toAddress:ie,chainId:Z,rpcPrefs:V,onClose:()=>F(!1),isContractRequestingSignature:!0}),Y>1?a.default.createElement(E.ButtonLink,{size:x.Size.inherit,className:"signature-request__reject-all-button","data-testid":"signature-request-reject-all",onClick:K},L("rejectRequestsN",[Y])):null),ee&&a.default.createElement(k.default,{warnings:t,action:"signing",origin:W,onCancel:()=>te(!1),onSubmit:()=>{oe(),te(!1)}}))};O.propTypes={txData:o.default.object,warnings:o.default.array};n.default=O}}},{package:"$root$",file:"ui/pages/confirmations/components/signature-request/signature-request.js"}],[5388,{"../../../../../shared/constants/transaction":4368,"../../../../../shared/modules/conversion.utils":4383,"../../../../components/component-library":4775,"../../../../components/ui/tooltip":5103,"../../../../ducks/locale/locale":5134,"../../../../helpers/constants/design-system":5143,"./formatAmount":5393,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AmountPill=void 0;var a=p(e("react")),r=e("react-redux"),o=e("../../../../components/component-library"),s=e("../../../../helpers/constants/design-system"),i=e("../../../../../shared/modules/conversion.utils"),l=e("../../../../../shared/constants/transaction"),c=p(e("../../../../components/ui/tooltip")),u=e("../../../../ducks/locale/locale"),d=e("./formatAmount");function p(e){return e&&e.__esModule?e:{default:e}}n.AmountPill=({asset:e,amount:t})=>{const n=(0,r.useSelector)(u.getIntlLocale),p=t.isNegative()?s.BackgroundColor.errorMuted:s.BackgroundColor.successMuted,f=t.isNegative()?s.TextColor.errorAlternative:s.TextColor.successDefault,m=[t.isNegative()?"-":"+"],g=[];if(e.standard!==l.TokenStandard.ERC721){const e=(0,d.formatAmount)(n,t.abs()),a=(0,d.formatAmountMaxPrecision)(n,t.abs());m.push(e),g.push(a)}if(e.tokenId){const t=`#${(0,i.hexToDecimal)(e.tokenId)}`;m.push(t),g.push(t)}return a.default.createElement(o.Box,{"data-testid":"simulation-details-amount-pill",display:s.Display.Flex,flexDirection:s.FlexDirection.Row,backgroundColor:p,alignItems:s.AlignItems.center,borderRadius:s.BorderRadius.pill,style:{padding:"0px 8px",flexShrink:1,flexBasis:"auto",minWidth:0}},a.default.createElement(c.default,{position:"bottom",title:g.join(" "),wrapperStyle:{minWidth:0},interactive:!0},a.default.createElement(o.Text,{ellipsis:!0,variant:s.TextVariant.bodyMd,color:f},m.join(" "))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/simulation-details/amount-pill.tsx"}],[5389,{"../../../../../shared/constants/transaction":4368,"../../../../components/app/name":4532,"../../../../components/component-library":4775,"../../../../ducks/metamask/metamask":5135,"../../../../helpers/constants/design-system":5143,"../../../../selectors":5751,"@metamask/name-controller":1444,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.AssetPill=void 0;var a=p(e("react")),r=e("@metamask/name-controller"),o=e("react-redux"),s=e("../../../../components/component-library"),i=e("../../../../helpers/constants/design-system"),l=p(e("../../../../components/app/name")),c=e("../../../../../shared/constants/transaction"),u=e("../../../../selectors"),d=e("../../../../ducks/metamask/metamask");function p(e){return e&&e.__esModule?e:{default:e}}const f=()=>{const e=(0,o.useSelector)(d.getNativeCurrency),t=(0,o.useSelector)(u.getNativeCurrencyImage);return a.default.createElement(s.Box,{display:i.Display.Flex,flexDirection:i.FlexDirection.Row,borderRadius:i.BorderRadius.pill,alignItems:i.AlignItems.center,backgroundColor:i.BackgroundColor.backgroundAlternative,gap:1,style:{padding:"1px 8px 1px 4px"}},a.default.createElement(s.AvatarNetwork,{name:e,size:s.AvatarNetworkSize.Xs,src:t,borderColor:i.BorderColor.borderDefault}),a.default.createElement(s.Text,{ellipsis:!0,variant:i.TextVariant.bodyMd},e))};n.AssetPill=({asset:e})=>a.default.createElement(s.Box,{"data-testid":"simulation-details-asset-pill",style:{flexShrink:1,flexBasis:"auto",minWidth:0}},e.standard===c.TokenStandard.none?a.default.createElement(f,null):a.default.createElement(l.default,{type:r.NameType.ETHEREUM_ADDRESS,value:e.address,preferContractSymbol:!0}))}}},{package:"$root$",file:"ui/pages/confirmations/components/simulation-details/asset-pill.tsx"}],[5390,{"../../../../components/component-library":4775,"../../../../helpers/constants/design-system":5143,"./balance-change-row":5391,"./fiat-display":5392,"./sortBalanceChanges":5396,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BalanceChangeList=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("../../../../components/component-library"),o=e("../../../../helpers/constants/design-system"),s=e("./balance-change-row"),i=e("./fiat-display"),l=e("./sortBalanceChanges");function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}n.BalanceChangeList=({heading:e,balanceChanges:t,testId:n})=>{const c=(0,a.useMemo)((()=>(0,l.sortBalanceChanges)(t)),[t]),u=(0,a.useMemo)((()=>c.map((e=>e.fiatAmount))),[c]);if(0===c.length)return null;const d=c.length>1;return a.default.createElement(r.Box,null,a.default.createElement(r.Box,{"data-testid":n,display:o.Display.Flex,flexDirection:o.FlexDirection.Column,gap:3},c.map(((t,n)=>a.default.createElement(s.BalanceChangeRow,{key:n,label:0===n?e:undefined,balanceChange:t,showFiat:!d})))),d&&a.default.createElement(r.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.RowReverse},a.default.createElement(i.TotalFiatDisplay,{fiatAmounts:u})))}}}},{package:"$root$",file:"ui/pages/confirmations/components/simulation-details/balance-change-list.tsx"}],[5391,{"../../../../components/component-library":4775,"../../../../helpers/constants/design-system":5143,"./amount-pill":5388,"./asset-pill":5389,"./fiat-display":5392,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.BalanceChangeRow=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../helpers/constants/design-system"),s=e("../../../../components/component-library"),i=e("./asset-pill"),l=e("./amount-pill"),c=e("./fiat-display");n.BalanceChangeRow=({label:e,showFiat:t,balanceChange:n})=>{const{asset:a,amount:u,fiatAmount:d}=n;return r.default.createElement(s.Box,{"data-testid":"simulation-details-balance-change-row",display:o.Display.Flex,flexDirection:o.FlexDirection.Row,alignItems:o.AlignItems.flexStart,gap:1,flexWrap:o.FlexWrap.Wrap},e&&r.default.createElement(s.Text,{style:{whiteSpace:"nowrap"},variant:o.TextVariant.bodyMd},e),r.default.createElement(s.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Column,gap:1,marginLeft:"auto",style:{minWidth:0}},r.default.createElement(s.Box,{display:o.Display.Flex,flexDirection:o.FlexDirection.Row,gap:1},r.default.createElement(l.AmountPill,{asset:a,amount:u}),r.default.createElement(i.AssetPill,{asset:a})),t&&r.default.createElement(c.IndividualFiatDisplay,{fiatAmount:d})))}}}},{package:"$root$",file:"ui/pages/confirmations/components/simulation-details/balance-change-row.tsx"}],[5392,{"../../../../components/component-library":4775,"../../../../helpers/constants/design-system":5143,"../../../../hooks/useFiatFormatter":5203,"../../../../hooks/useI18nContext":5206,"./types":5397,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.TotalFiatDisplay=n.IndividualFiatDisplay=void 0,n.calculateTotalFiat=p;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../helpers/constants/design-system"),s=e("../../../../hooks/useI18nContext"),i=e("../../../../components/component-library"),l=e("../../../../hooks/useFiatFormatter"),c=e("./types");const u={color:o.TextColor.textAlternative,variant:o.TextVariant.bodySm,paddingRight:2,textAlign:"right"},d=()=>{const e=(0,s.useI18nContext)();return r.default.createElement(i.Text,u,e("simulationDetailsFiatNotAvailable"))};function p(e){return e.reduce(((e,t)=>e+(t===c.FIAT_UNAVAILABLE?0:t)),0)}n.IndividualFiatDisplay=({fiatAmount:e})=>{const t=(0,l.useFiatFormatter)();if(e===c.FIAT_UNAVAILABLE)return r.default.createElement(d,null);const n=Math.abs(e);return r.default.createElement(i.Text,u,t(n))};n.TotalFiatDisplay=({fiatAmounts:e})=>{const t=(0,s.useI18nContext)(),n=(0,l.useFiatFormatter)(),a=p(e);return 0===a?r.default.createElement(d,null):r.default.createElement(i.Text,u,t("simulationDetailsTotalFiat",[n(Math.abs(a))]))}}}},{package:"$root$",file:"ui/pages/confirmations/components/simulation-details/fiat-display.tsx"}],[5393,{"../../../../hooks/useCurrencyDisplay":5197,"bignumber.js":2700},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.formatAmount=function(e,t){if(t.isZero())return s;if(t.abs().lessThan(r.MIN_AMOUNT))return`<${i(e,r.MIN_AMOUNT)}`;if(t.abs().lessThan(1))return new Intl.NumberFormat(e,{maximumSignificantDigits:o}).format(t.round(r.DEFAULT_PRECISION).toNumber());const n=t.abs().truncated().toString().length,a=Math.max(0,o-n+1);return new Intl.NumberFormat(e,{maximumFractionDigits:a}).format(t.toNumber())},n.formatAmountMaxPrecision=i;var a=e("bignumber.js"),r=e("../../../../hooks/useCurrencyDisplay");const o=3,s="0";function i(e,t){return new Intl.NumberFormat(e,{minimumSignificantDigits:1}).format(new a.BigNumber(t.toString()).toNumber())}}}},{package:"$root$",file:"ui/pages/confirmations/components/simulation-details/formatAmount.ts"}],[5394,{"./simulation-details":5395},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SimulationDetails",{enumerable:!0,get:function(){return a.SimulationDetails}});var a=e("./simulation-details")}}},{package:"$root$",file:"ui/pages/confirmations/components/simulation-details/index.ts"}],[5395,{"../../../../components/component-library":4775,"../../../../components/ui/icon/preloader/preloader-icon.component":5029,"../../../../components/ui/info-tooltip/info-tooltip":5039,"../../../../helpers/constants/design-system":5143,"../../../../hooks/useI18nContext":5206,"./balance-change-list":5390,"./useBalanceChanges":5398,"./useSimulationMetrics":5400,"@metamask/transaction-controller":2025,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SimulationDetails=void 0;var a=f(e("react")),r=e("@metamask/transaction-controller"),o=e("../../../../components/component-library"),s=e("../../../../helpers/constants/design-system"),i=f(e("../../../../components/ui/info-tooltip/info-tooltip")),l=e("../../../../hooks/useI18nContext"),c=f(e("../../../../components/ui/icon/preloader/preloader-icon.component")),u=e("./balance-change-list"),d=e("./useBalanceChanges"),p=e("./useSimulationMetrics");function f(e){return e&&e.__esModule?e:{default:e}}const m=()=>a.default.createElement("div",{role:"progressbar"},a.default.createElement(c.default,{size:20})),g=({error:e})=>{const t=(0,l.useI18nContext)();return a.default.createElement(o.Text,{color:s.TextColor.warningDefault,variant:s.TextVariant.bodyMd,display:s.Display.Flex,alignItems:s.AlignItems.center},a.default.createElement(o.Icon,{name:o.IconName.Warning,marginInlineEnd:1}),e.code===r.SimulationErrorCode.Reverted?t("simulationDetailsTransactionReverted"):t("simulationDetailsFailed"))},h=()=>{const e=(0,l.useI18nContext)();return a.default.createElement(o.Text,{color:s.TextColor.textAlternative,variant:s.TextVariant.bodyMd},e("simulationDetailsNoBalanceChanges"))},y=({children:e})=>{const t=(0,l.useI18nContext)();return a.default.createElement(o.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center,justifyContent:s.JustifyContent.spaceBetween},a.default.createElement(o.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Row,alignItems:s.AlignItems.center,gap:1},a.default.createElement(o.Text,{variant:s.TextVariant.bodyMdMedium},t("simulationDetailsTitle")),a.default.createElement(i.default,{position:"right",iconFillColor:"var(--color-icon-muted)",contentText:t("simulationDetailsTitleTooltip")})),e)},v=({inHeader:e,children:t})=>a.default.createElement(o.Box,{"data-testid":"simulation-details-layout",className:"simulation-details-layout",display:s.Display.Flex,flexDirection:s.FlexDirection.Column,borderRadius:s.BorderRadius.MD,borderColor:s.BorderColor.borderDefault,padding:3,margin:4,gap:3},a.default.createElement(y,null,e),t);n.SimulationDetails=({simulationData:e,transactionId:t,enableMetrics:n=!1})=>{const i=(0,l.useI18nContext)(),c=(0,d.useBalanceChanges)(e),f=!e||c.pending;if((0,p.useSimulationMetrics)({enableMetrics:n,balanceChanges:c.value,loading:f,simulationData:e,transactionId:t}),f)return a.default.createElement(v,{inHeader:a.default.createElement(m,null)});const{error:y}=e;if([r.SimulationErrorCode.ChainNotSupported,r.SimulationErrorCode.Disabled].includes(null==y?void 0:y.code))return null;if(y)return a.default.createElement(v,null,a.default.createElement(g,{error:y}));const b=c.value;if(0===b.length)return a.default.createElement(v,null,a.default.createElement(h,null));const T=b.filter((e=>e.amount.isNegative())),_=b.filter((e=>!e.amount.isNegative()));return a.default.createElement(v,null,a.default.createElement(o.Box,{display:s.Display.Flex,flexDirection:s.FlexDirection.Column,gap:3},a.default.createElement(u.BalanceChangeList,{heading:i("simulationDetailsOutgoingHeading"),balanceChanges:T,testId:"simulation-rows-outgoing"}),a.default.createElement(u.BalanceChangeList,{heading:i("simulationDetailsIncomingHeading"),balanceChanges:_,testId:"simulation-rows-incoming"})))}}}},{package:"$root$",file:"ui/pages/confirmations/components/simulation-details/simulation-details.tsx"}],[5396,{"../../../../../shared/constants/transaction":4368,"./types":5397},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.sortBalanceChanges=n.compareBalanceChanges=void 0;var a=e("../../../../../shared/constants/transaction"),r=e("./types");const o=[a.TokenStandard.none,a.TokenStandard.ERC20,a.TokenStandard.ERC721,a.TokenStandard.ERC1155],s=[(e,t)=>e.fiatAmount===t.fiatAmount?0:e.fiatAmount===r.FIAT_UNAVAILABLE?1:t.fiatAmount===r.FIAT_UNAVAILABLE?-1:t.fiatAmount-e.fiatAmount,(e,t)=>o.indexOf(e.asset.standard)-o.indexOf(t.asset.standard)],i=(e,t)=>{for(const n of s){const a=n(e,t);if(0!==a)return a}return 0};n.compareBalanceChanges=i;n.sortBalanceChanges=e=>[...e].sort(i)}}},{package:"$root$",file:"ui/pages/confirmations/components/simulation-details/sortBalanceChanges.ts"}],[5397,{"../../../../../shared/constants/transaction":4368},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.NATIVE_ASSET_IDENTIFIER=n.FIAT_UNAVAILABLE=void 0;var a=e("../../../../../shared/constants/transaction");n.NATIVE_ASSET_IDENTIFIER={standard:a.TokenStandard.none},n.FIAT_UNAVAILABLE=null}}},{package:"$root$",file:"ui/pages/confirmations/components/simulation-details/types.ts"}],[5398,{"../../../../../shared/constants/transaction":4368,"../../../../ducks/metamask/metamask":5135,"../../../../helpers/utils/util":5185,"../../../../hooks/useAsyncResult":5195,"../../../../selectors":5751,"../../../../store/actions":5759,"./types":5397,"@metamask/transaction-controller":2025,"bignumber.js":2700,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useBalanceChanges=void 0;var a=e("react-redux"),r=e("@metamask/transaction-controller"),o=e("bignumber.js"),s=e("../../../../hooks/useAsyncResult"),i=e("../../../../store/actions"),l=e("../../../../../shared/constants/transaction"),c=e("../../../../ducks/metamask/metamask"),u=e("../../../../selectors"),d=e("../../../../helpers/utils/util"),p=e("./types");const f=18;function m(e){return String(e)}function g(e){switch(e){case r.SimulationTokenStandard.erc20:return l.TokenStandard.ERC20;case r.SimulationTokenStandard.erc721:return l.TokenStandard.ERC721;case r.SimulationTokenStandard.erc1155:return l.TokenStandard.ERC1155;default:throw new Error(`Unknown token standard: ${e}`)}}function h({isDecrease:e,difference:t},n){return new o.BigNumber(t,16).times(e?-1:1).shift(-n)}async function y(e){try{const{decimals:t}=await(0,i.getTokenStandardAndDetails)(e);if(!t)return f;for(const e of[10,16]){const n=parseInt(t,e);if(isFinite(n))return n}return f}catch{return f}}n.useBalanceChanges=e=>{const t=(0,a.useSelector)(u.getCurrentChainId),n=(0,a.useSelector)(u.getCurrentCurrency),o=(0,a.useSelector)(c.getConversionRate),{nativeBalanceChange:i,tokenBalanceChanges:v=[]}=e??{},b=v.filter((e=>e.standard===r.SimulationTokenStandard.erc20)).map((e=>e.address)),T=(0,s.useAsyncResultOrThrow)((()=>async function(e){const t=[...new Set(e.map((e=>e.toLowerCase())))],n=await Promise.all(t.map(y));return Object.fromEntries(n.map(((e,n)=>[t[n],e])))}(b)),[JSON.stringify(b)]),_=(0,s.useAsyncResultOrThrow)((()=>async function(e,t,n){const a=await(0,d.fetchTokenExchangeRates)(e,t,n);return Object.fromEntries(Object.entries(a).map((([e,t])=>[e.toLowerCase(),t])))}(n,b,t)),[JSON.stringify(b),t,n]);if(T.pending||_.pending||!e)return{pending:!0,value:[]};const x=function(e,t){if(!e)return undefined;const n=p.NATIVE_ASSET_IDENTIFIER,a=h(e,18),r=t?a.times(m(t)).toNumber():p.FIAT_UNAVAILABLE;return{asset:n,amount:a,fiatAmount:r}}(i,o),E=function(e,t,n){return e.map((e=>{const a={standard:g(e.standard),address:e.address.toLowerCase(),tokenId:e.id},r=h(e,a.standard===l.TokenStandard.ERC20?t[a.address]??f:0),o=n[e.address],s=o?r.times(m(o)).toNumber():p.FIAT_UNAVAILABLE;return{asset:a,amount:r,fiatAmount:s}}))}(v,T.value,_.value);return{pending:!1,value:[...x?[x]:[],...E]}}}}},{package:"$root$",file:"ui/pages/confirmations/components/simulation-details/useBalanceChanges.ts"}],[5399,{react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.useLoadingTime=function(){const[e]=(0,a.useState)(Date.now()),[t,n]=(0,a.useState)();return{loadingTime:t,setLoadingComplete:()=>{t===undefined&&n((Date.now()-e)/1e3)}}};var a=e("react")}}},{package:"$root$",file:"ui/pages/confirmations/components/simulation-details/useLoadingTime.ts"}],[5400,{"../../../../../shared/constants/metametrics":4353,"../../../../../shared/constants/transaction":4368,"../../../../contexts/metametrics":5117,"../../../../hooks/useDisplayName":5200,"../../hooks/useTransactionEventFragment":5484,"./fiat-display":5392,"./useLoadingTime":5399,"@metamask/name-controller":1444,"@metamask/transaction-controller":2025,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.SimulationResponseType=n.PetnameType=n.FiatType=n.AssetType=void 0,n.useSimulationMetrics=function({balanceChanges:e,loading:t,simulationData:n,transactionId:l,enableMetrics:d}){var m;const{loadingTime:b,setLoadingComplete:x}=(0,p.useLoadingTime)();t||x();const E=e.map((({asset:e})=>({value:e.address??"",type:o.NameType.ETHEREUM_ADDRESS,preferContractSymbol:!0}))),M=(0,i.useDisplayNames)(E).reduce(((t,n,a)=>({...t,[e[a].asset.address??""]:n})),{}),{updateTransactionEventFragment:k}=(0,s.useTransactionEventFragment)();!function(e,t){const n=(0,r.useContext)(c.MetaMetricsContext),[a,o]=(0,r.useState)([]);for(const r of e){const e=r.asset.address??"",s=t[e],i=r.asset.address&&!r.fiatAmount||_(r,s)===h.Unknown,l=a.includes(e);i&&!l&&(n({event:u.MetaMetricsEventName.SimulationIncompleteAssetDisplayed,category:u.MetaMetricsEventCategory.Transactions,properties:{asset_address:r.asset.address,asset_petname:_(r,s),asset_symbol:s.contractDisplayName,asset_type:T(r.asset.standard),fiat_conversion_available:r.fiatAmount?g.Available:g.NotAvailable,location:"confirmation"}}),o([...a,e]))}}(e,M);const C=e.filter((e=>!e.amount.isNegative())),w=e.filter((e=>e.amount.isNegative())),A=function(e){var t;if(!e)return f.InProgress;if((null===(t=e.error)||void 0===t?void 0:t.code)===a.SimulationErrorCode.Reverted)return f.Reverted;if(e.error)return f.Failed;if(!(null!=e&&e.nativeBalanceChange||null!=e&&e.tokenBalanceChanges.length))return f.NoChanges;return f.Changes}(n),S={simulation_response:A,simulation_latency:b,...y(C,"simulation_receiving_assets_",M),...y(w,"simulation_sending_assets_",M)},P={...v(C,"simulation_receiving_assets_"),...v(w,"simulation_sending_assets_")},O={properties:S,sensitiveProperties:P},L=!d||[a.SimulationErrorCode.ChainNotSupported,a.SimulationErrorCode.Disabled].includes(null==n||null===(m=n.error)||void 0===m?void 0:m.code);(0,r.useEffect)((()=>{L||k(O,l)}),[L,k,l,JSON.stringify(O)])};var a=e("@metamask/transaction-controller"),r=e("react"),o=e("@metamask/name-controller"),s=e("../../hooks/useTransactionEventFragment"),i=e("../../../../hooks/useDisplayName"),l=e("../../../../../shared/constants/transaction"),c=e("../../../../contexts/metametrics"),u=e("../../../../../shared/constants/metametrics"),d=e("./fiat-display"),p=e("./useLoadingTime");let f=n.SimulationResponseType=function(e){return e.Failed="failed",e.Reverted="transaction_revert",e.NoChanges="no_balance_change",e.Changes="balance_change",e.InProgress="simulation_in_progress",e}({}),m=n.AssetType=function(e){return e.Native="native",e.ERC20="erc20",e.ERC721="erc721",e.ERC1155="erc1155",e}({}),g=n.FiatType=function(e){return e.Available="available",e.NotAvailable="not_available",e}({}),h=n.PetnameType=function(e){return e.Saved="saved",e.Default="default",e.Unknown="unknown",e}({});function y(e,t,n){const a=e.length,r=x(e.map((e=>T(e.asset.standard)))),o=x(e.map((e=>e.fiatAmount?g.Available:g.NotAvailable)));return b({petname:x(e.map((e=>_(e,n[e.asset.address??""])))),quantity:a,type:r,value:o},t)}function v(e,t){const n=e.map((e=>e.fiatAmount)),a=(0,d.calculateTotalFiat)(n);return b({total_value:a?Math.abs(a):undefined},t)}function b(e,t){return Object.entries(e).reduce(((e,[n,a])=>({...e,[`${t}${n}`]:a})),{})}function T(e){switch(e){case l.TokenStandard.ERC20:return m.ERC20;case l.TokenStandard.ERC721:return m.ERC721;case l.TokenStandard.ERC1155:return m.ERC1155;default:return m.Native}}function _(e,t){return e.asset.standard===l.TokenStandard.none?h.Default:t.hasPetname?h.Saved:t.name?h.Default:h.Unknown}function x(e){return Array.from(new Set(e))}}}},{package:"$root$",file:"ui/pages/confirmations/components/simulation-details/useSimulationMetrics.ts"}],[5401,{"./simulation-error-message":5402},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./simulation-error-message"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/simulation-error-message/index.js"}],[5402,{"../../../../../.storybook/i18n":1,"../../../../../shared/constants/metametrics":4353,"../../../../components/component-library":4775,"../../../../contexts/metametrics":5117,"../../../../helpers/constants/design-system":5143,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=p;var a,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),o=(a=e("prop-types"))&&a.__esModule?a:{default:a},s=e("../../../../components/component-library"),i=e("../../../../helpers/constants/design-system"),l=e("../../../../../.storybook/i18n"),c=e("../../../../../shared/constants/metametrics"),u=e("../../../../contexts/metametrics");function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}function p({userAcknowledgedGasMissing:e=!1,setUserAcknowledgedGasMissing:t}){const n=(0,r.useContext)(l.I18nContext),a=(0,r.useContext)(u.MetaMetricsContext);return(0,r.useEffect)((()=>{a({category:c.MetaMetricsEventCategory.Transactions,event:c.MetaMetricsEventName.SimulationFails,properties:{ui_customizations:[c.MetaMetricsEventUiCustomization.GasEstimationFailed]}})}),[]),!0===e?r.default.createElement(s.BannerAlert,{severity:i.Severity.Danger},n("simulationErrorMessageV2")):r.default.createElement(s.BannerAlert,{severity:i.Severity.Danger,actionButtonLabel:n("proceedWithTransaction"),actionButtonOnClick:t},n("simulationErrorMessageV2"))}p.propTypes={userAcknowledgedGasMissing:o.default.bool,setUserAcknowledgedGasMissing:o.default.func}}}},{package:"$root$",file:"ui/pages/confirmations/components/simulation-error-message/simulation-error-message.js"}],[5403,{"../../../../components/component-library":4775,"../../../../components/ui/actionable-message":4981,"../../../../hooks/useI18nContext":5206,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=i(e("react")),r=i(e("../../../../components/ui/actionable-message")),o=e("../../../../components/component-library"),s=e("../../../../hooks/useI18nContext");function i(e){return e&&e.__esModule?e:{default:e}}n.default=({message:e,learnMoreLink:t,error:n})=>{const i=(0,s.useI18nContext)();return a.default.createElement(a.default.Fragment,null,a.default.createElement(o.Text,{"data-testid":"snap-account-error-message-text",style:n?{marginBottom:2}:{}},e,Boolean(t)&&a.default.createElement(a.default.Fragment,null," ",a.default.createElement("a",{"data-testid":"snap-account-error-message-learn-more-link",href:t,rel:"noopener noreferrer",target:"_blank"},i("learnMoreUpperCase")))),Boolean(n)&&a.default.createElement(r.default,{type:"danger",message:n,dataTestId:"snap-account-error-message-error"}))}}}},{package:"$root$",file:"ui/pages/confirmations/components/snap-account-error-message/SnapAccountErrorMessage.tsx"}],[5404,{"./SnapAccountErrorMessage":5403},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapAccountErrorMessage",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./SnapAccountErrorMessage"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/snap-account-error-message/index.tsx"}],[5405,{"../../../../components/component-library":4775,"../../../../hooks/useI18nContext":5206,"../../../remove-snap-account":5592,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,r=(a=e("react"))&&a.__esModule?a:{default:a},o=e("../../../../components/component-library"),s=e("../../../../hooks/useI18nContext"),i=e("../../../remove-snap-account");n.default=({message:e,address:t,learnMoreLink:n})=>{const a=(0,s.useI18nContext)();return r.default.createElement(r.default.Fragment,null,r.default.createElement(i.SnapAccountCard,{address:t}),r.default.createElement(o.Text,{"data-testid":"snap-account-success-message-text"},e,Boolean(n)&&r.default.createElement(r.default.Fragment,null," ",r.default.createElement("a",{"data-testid":"snap-account-success-message-learn-more-link",href:n,rel:"noopener noreferrer",target:"_blank"},a("learnMoreUpperCase")))))}}}},{package:"$root$",file:"ui/pages/confirmations/components/snap-account-success-message/SnapAccountSuccessMessage.tsx"}],[5406,{"./SnapAccountSuccessMessage":5405},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"SnapAccountSuccessMessage",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./SnapAccountSuccessMessage"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/snap-account-success-message/index.tsx"}],[5407,{"./transaction-alerts":5408},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-alerts"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/transaction-alerts/index.js"}],[5408,{"../../../../../shared/constants/gas":4348,"../../../../../shared/lib/metamask-controller-utils":4372,"../../../../../shared/modules/security-provider.utils":4398,"../../../../../shared/modules/transaction.utils":4405,"../../../../components/component-library":4775,"../../../../contexts/gasFee":5115,"../../../../ducks/metamask/metamask":5135,"../../../../helpers/constants/design-system":5143,"../../../../helpers/constants/zendesk-url":5155,"../../../../hooks/useI18nContext":5206,"../../../../selectors":5751,"../security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert":5357,"../security-provider-banner-message/security-provider-banner-message":5362,"../simulation-error-message":5401,"@metamask/transaction-controller":2025,"prop-types":3794,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=_(e("react")),r=_(e("prop-types")),o=e("react-redux"),s=e("@metamask/transaction-controller"),i=e("../../../../../shared/constants/gas"),l=e("../../../../contexts/gasFee"),c=e("../../../../hooks/useI18nContext"),u=e("../../../../components/component-library"),d=_(e("../simulation-error-message")),p=e("../../../../helpers/constants/design-system"),f=e("../../../../selectors"),m=_(e("../../../../helpers/constants/zendesk-url")),g=e("../../../../../shared/modules/security-provider.utils"),h=_(e("../security-provider-banner-alert/blockaid-banner-alert/blockaid-banner-alert")),y=_(e("../security-provider-banner-message/security-provider-banner-message")),v=e("../../../../ducks/metamask/metamask"),b=e("../../../../../shared/modules/transaction.utils"),T=e("../../../../../shared/lib/metamask-controller-utils");function _(e){return e&&e.__esModule?e:{default:e}}const x=({userAcknowledgedGasMissing:e,setUserAcknowledgedGasMissing:t,tokenSymbol:n,txData:r,isUsingPaymaster:_})=>{const{estimateUsed:x,hasSimulationError:E,supportsEIP1559:M}=(0,l.useGasFeeContext)(),k=(0,o.useSelector)(f.submittedPendingTransactionsSelector),C=(0,c.useI18nContext)(),w=(0,o.useSelector)(v.getNativeCurrency),A=r.txParams.data,S=n||w;let P;if(r.type===s.TransactionType.simpleSend&&(P=r.txParams.value),r.type===s.TransactionType.tokenMethodTransfer){const e=(0,b.parseStandardTokenTransactionData)(A);P=(0,T.getTokenValueParam)(e)}const O=(r.type===s.TransactionType.simpleSend||r.type===s.TransactionType.tokenMethodTransfer)&&("0x0"===P||"0"===P);return a.default.createElement("div",{className:"transaction-alerts"},a.default.createElement(h.default,{txData:r}),(0,g.isSuspiciousResponse)(null==r?void 0:r.securityProviderResponse)&&a.default.createElement(y.default,{securityProviderResponse:r.securityProviderResponse}),E&&a.default.createElement(d.default,{userAcknowledgedGasMissing:e,setUserAcknowledgedGasMissing:t}),M&&(null==k?void 0:k.length)>0&&a.default.createElement(u.BannerAlert,{severity:p.SEVERITIES.WARNING},a.default.createElement(u.Text,{as:"p"},a.default.createElement("strong",null,1===(null==k?void 0:k.length)?C("pendingTransactionSingle",[null==k?void 0:k.length]):C("pendingTransactionMultiple",[null==k?void 0:k.length]))," ",C("pendingTransactionInfo"),C("learnCancelSpeeedup",[a.default.createElement(u.ButtonLink,{key:"cancelSpeedUpInfo",href:m.default.SPEEDUP_CANCEL,rel:"noopener noreferrer",target:"_blank"},C("cancelSpeedUp"))]))),x===i.PriorityLevels.low&&a.default.createElement(u.BannerAlert,{"data-testid":"low-gas-fee-alert",severity:p.SEVERITIES.WARNING},C("lowPriorityMessage")),O&&a.default.createElement(u.BannerAlert,{severity:p.SEVERITIES.WARNING},C("sendingZeroAmount",[S])),_&&a.default.createElement(u.BannerAlert,{"data-testid":"paymaster-alert",severity:p.SEVERITIES.INFO},C("paymasterInUse")))};x.propTypes={userAcknowledgedGasMissing:r.default.bool,setUserAcknowledgedGasMissing:r.default.func,tokenSymbol:r.default.string,txData:r.default.object,isUsingPaymaster:r.default.bool};n.default=x}}},{package:"$root$",file:"ui/pages/confirmations/components/transaction-alerts/transaction-alerts.js"}],[5409,{"../../../../../../../../shared/constants/copy":4346,"../../../../../../../components/app/modals/nickname-popovers":4517,"../../../../../../../components/ui/identicon":5036,"../../../../../../../helpers/utils/util":5185,"../../../../../../../hooks/useI18nContext":5206,"../../../../../../../selectors":5751,"copy-to-clipboard":2857,"prop-types":3794,react:4037,"react-redux":4002},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=e("react-redux"),o=f(e("prop-types")),s=f(e("copy-to-clipboard")),i=e("../../../../../../../helpers/utils/util"),l=f(e("../../../../../../../components/ui/identicon")),c=e("../../../../../../../hooks/useI18nContext"),u=e("../../../../../../../selectors"),d=f(e("../../../../../../../components/app/modals/nickname-popovers")),p=e("../../../../../../../../shared/constants/copy");function f(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const g=({checksummedRecipientAddress:e,onRecipientClick:t,addressOnly:n,recipientEns:o,recipientName:f})=>{const m=(0,c.useI18nContext)(),[g,h]=(0,a.useState)(!1),y=(0,r.useSelector)(u.getMemoizedAddressBook).find((t=>t.address.toLowerCase()===e.toLowerCase())),v=null==y?void 0:y.name,b=(0,r.useSelector)((t=>(0,u.getMemoizedMetadataContractName)(t,e))),T=n?f||v||b||o||(0,i.shortenAddress)(e):f||v||b||o||m("newContract");return a.default.createElement("div",{className:"tx-insight tx-insight-component tx-insight-component-address",onClick:()=>{(0,s.default)(e,p.COPY_OPTIONS),t&&t()}},a.default.createElement("div",{className:"tx-insight-component-address__sender-icon"},a.default.createElement(l.default,{address:e,diameter:18})),a.default.createElement("div",{className:"tx-insight-component-address__name",onClick:()=>h(!0)},T),g?a.default.createElement(d.default,{onClose:()=>h(!1),address:e}):null)};g.propTypes={checksummedRecipientAddress:o.default.string,recipientName:o.default.string,recipientEns:o.default.string,addressOnly:o.default.bool,onRecipientClick:o.default.func};n.default=g}}},{package:"$root$",file:"ui/pages/confirmations/components/transaction-decoding/components/decoding/address/address.component.js"}],[5410,{"./address.component":5409},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./address.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/transaction-decoding/components/decoding/address/index.js"}],[5411,{"../../../../../../../components/component-library":4775,"../../../../../../../components/ui/tooltip/tooltip":5104,"../../../../../../../contexts/i18n":5116,"../../../../../../../helpers/constants/design-system":5143,"../../../../../../../hooks/useCopyToClipboard":5196,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}(e("react")),r=u(e("prop-types")),o=u(e("../../../../../../../components/ui/tooltip/tooltip")),s=e("../../../../../../../contexts/i18n"),i=e("../../../../../../../hooks/useCopyToClipboard"),l=e("../../../../../../../components/component-library"),c=e("../../../../../../../helpers/constants/design-system");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const p=({data:e})=>{const t=(0,a.useContext)(s.I18nContext),[n,r]=(0,i.useCopyToClipboard)();return a.default.createElement("div",{className:"copy-raw-data"},a.default.createElement(o.default,{position:"right",title:n?t("copiedExclamation"):""},a.default.createElement("button",{onClick:()=>{r(e)},className:"copy-raw-data__button"},a.default.createElement("div",{className:"copy-raw-data__icon"},a.default.createElement(l.Icon,{name:n?l.IconName.CopySuccess:l.IconName.Copy,color:c.IconColor.iconDefault})),a.default.createElement("div",{className:"copy-raw-data__label"},t("copyRawTransactionData")))))};p.propTypes={data:r.default.string.isRequired};n.default=p}}},{package:"$root$",file:"ui/pages/confirmations/components/transaction-decoding/components/ui/copy-raw-data/copy-raw-data.component.js"}],[5412,{"./copy-raw-data.component":5411},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./copy-raw-data.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/transaction-decoding/components/ui/copy-raw-data/index.js"}],[5413,{"./transaction-detail-item.component":5414},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-detail-item.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/transaction-detail-item/index.js"}],[5414,{"../../../../components/component-library":4775,"../../../../helpers/constants/design-system":5143,classnames:2816,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=c;var a=l(e("react")),r=l(e("prop-types")),o=l(e("classnames")),s=e("../../../../helpers/constants/design-system"),i=e("../../../../components/component-library");function l(e){return e&&e.__esModule?e:{default:e}}function c({"data-testid":e,detailTitle:t="",detailText:n,detailTitleColor:r=s.Color.textDefault,detailTotal:l="",subTitle:c="",subText:u="",boldHeadings:d=!0,flexWidthValues:p=!1}){return a.default.createElement("div",{className:"transaction-detail-item","data-testid":e},a.default.createElement("div",{className:"transaction-detail-item__row"},a.default.createElement(i.Text,{as:"h6",color:r,fontWeight:d?s.FontWeight.Bold:s.FontWeight.Normal,display:s.Display.Flex,flexWrap:s.FlexWrap.NoWrap,alignItems:s.AlignItems.center},t),a.default.createElement("div",{className:(0,o.default)("transaction-detail-item__detail-values",{"transaction-detail-item__detail-values--flex-width":p})},n&&a.default.createElement(i.Text,{as:"h6",color:s.Color.textAlternative},n),a.default.createElement(i.Text,{as:"h6",color:s.Color.textDefault,fontWeight:d?s.FontWeight.Bold:s.FontWeight.Normal,marginLeft:1,textAlign:s.TextAlign.Right},l))),a.default.createElement("div",{className:"transaction-detail-item__row"},a.default.isValidElement(c)?a.default.createElement("div",null,c):a.default.createElement(i.Text,{as:"h6",variant:s.TextVariant.bodySm,color:s.Color.textAlternative},c),a.default.createElement(i.Text,{as:"h6",variant:s.TextVariant.bodySm,color:s.Color.textAlternative,textAlign:s.TextAlign.End,className:"transaction-detail-item__row-subText"},u)))}c.propTypes={"data-testid":r.default.string,detailTitle:r.default.oneOfType([r.default.string,r.default.node]),detailTitleColor:r.default.string,detailText:r.default.oneOfType([r.default.string,r.default.node]),detailTotal:r.default.oneOfType([r.default.string,r.default.node]),subTitle:r.default.oneOfType([r.default.string,r.default.node]),subText:r.default.oneOfType([r.default.string,r.default.node]),boldHeadings:r.default.bool,flexWidthValues:r.default.bool}}}},{package:"$root$",file:"ui/pages/confirmations/components/transaction-detail-item/transaction-detail-item.component.js"}],[5415,{"./transaction-detail.component":5416},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.default}});var a,r=(a=e("./transaction-detail.component"))&&a.__esModule?a:{default:a}}}},{package:"$root$",file:"ui/pages/confirmations/components/transaction-detail/index.js"}],[5416,{"../../../../components/ui/box":4984,"../../../../contexts/gasFee":5115,"../../../../hooks/useI18nContext":5206,"../edit-gas-fee-button":5332,"../transaction-detail-item/transaction-detail-item.component":5414,"prop-types":3794,react:4037},function(){with(this.scopeTerminator)with(this.globalThis)return function(){"use strict";return function(e,t,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=d;var a=u(e("react")),r=u(e("prop-types")),o=e("../../../../contexts/gasFee"),s=e("../../../../hooks/useI18nContext"),i=u(e("../../../../components/ui/box")),l=u(e("../edit-gas-fee-button")),c=u(e("../transaction-detail-item/transaction-detail-item.component"));function u(e){return e&&e.__esModule?e:{default:e}}function d({rows:e=[],onEdit:t,userAcknowledgedGasMissing:n=!1,disableEditGasFeeButton:r=!1}){const c=(0,s.useI18nContext)(),{supportsEIP1559:u}=(0,o.useGasFeeContext)();return a.default.createElement("div",{className:"transaction-detail"},u&&!r&&a.default.createElement(i.default,{display:"flex",justifyContent:"flex-end",paddingTop:5},a.default.createElement(l.default,{userAcknowledgedGasMissing:n})),!u&&t&&a.default.createElement("div",{className:"transaction-detail-edit"},a.default.createElement("button",{onClick:t},c("edit"))),a.default.createElement("div",{className:"transaction-detail-rows"},e))}d.propTypes={rows:r.default.arrayOf(c.default).isRequired,onEdit:r.default.func,userAcknowledgedGasMissing:r.default.bool,disableEditGasFeeButton:r.default.bool}}}},{package:"$root$",file:"ui/pages/confirmations/components/transaction-detail/transaction-detail.component.js"}]],[],{});